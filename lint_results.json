
> flashcards_generator@0.1.0 lint
> eslint --format json

[{"filePath":"C:\\Users\\otavi\\Desktop\\flashcards_generator\\flashcards_generator\\app\\api\\auth\\signup\\route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\otavi\\Desktop\\flashcards_generator\\flashcards_generator\\app\\api\\cron\\study-reminders\\route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\otavi\\Desktop\\flashcards_generator\\flashcards_generator\\app\\api\\demo\\generate\\route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\otavi\\Desktop\\flashcards_generator\\flashcards_generator\\app\\api\\export\\anki\\route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\otavi\\Desktop\\flashcards_generator\\flashcards_generator\\app\\api\\generate\\route.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":140,"column":22,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":140,"endColumn":25,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[5630,5633],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[5630,5633],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\r\nimport { NextResponse } from 'next/server';\r\nimport { createServerClient } from '@supabase/auth-helpers-nextjs';\r\nimport { cookies } from 'next/headers';\r\nimport { Ratelimit } from '@upstash/ratelimit';\r\nimport { Redis } from '@upstash/redis';\r\nimport { supabaseAdmin } from '@/lib/supabase-admin';\r\n\r\n// Domain Services\r\nimport { deckService } from '@/services/deckService';\r\nimport { aiService } from '@/services/aiService';\r\nimport { imageService } from '@/services/imageService';\r\nimport { GenerateOptionsSchema } from '@/lib/validators';\r\nimport { sanitizeInput } from '@/lib/utils';\r\nimport { ErrorCodes } from '@/types/api';\r\n\r\nexport const dynamic = 'force-dynamic';\r\n\r\nconst MAX_UPLOAD_FILES = 4;\r\nconst MAX_UPLOAD_BYTES = 20 * 1024 * 1024;\r\nconst IMAGE_MIME_TYPES = new Set(['image/jpeg', 'image/jpg', 'image/png', 'image/webp', 'image/heic', 'image/heif']);\r\nconst PDF_MIME_TYPE = 'application/pdf';\r\nconst DOCX_MIME_TYPE = 'application/vnd.openxmlformats-officedocument.wordprocessingml.document';\r\n\r\n// Rate limiter\r\nconst ratelimit = process.env.UPSTASH_REDIS_REST_URL ? new Ratelimit({\r\n    redis: Redis.fromEnv(),\r\n    limiter: Ratelimit.slidingWindow(10, '1 m'),\r\n    analytics: true,\r\n}) : null;\r\n\r\n// Helpers\r\nconst isImageMimeType = (mimeType: string) => IMAGE_MIME_TYPES.has(mimeType.toLowerCase());\r\nconst isPdfMimeType = (mimeType: string) => mimeType.toLowerCase() === PDF_MIME_TYPE;\r\nconst isDocxMimeType = (mimeType: string) => mimeType.toLowerCase() === DOCX_MIME_TYPE;\r\n\r\nasync function extractPdfText(buffer: Buffer, selectedPages?: number[]): Promise<string> {\r\n    const pdfjs = await import('pdfjs-dist/legacy/build/pdf.mjs');\r\n    const loadingTask = pdfjs.getDocument({ data: new Uint8Array(buffer) });\r\n    const pdf = await loadingTask.promise;\r\n    const pages: string[] = [];\r\n\r\n    const totalPages = pdf.numPages;\r\n    let pagesToRead: number[] = [];\r\n\r\n    if (Array.isArray(selectedPages) && selectedPages.length > 0) {\r\n        pagesToRead = Array.from(new Set(selectedPages))\r\n            .map((page) => Math.max(1, Math.min(totalPages, Math.floor(page))))\r\n            .filter((page) => page >= 1 && page <= totalPages)\r\n            .sort((a, b) => a - b);\r\n    } else {\r\n        pagesToRead = Array.from({ length: totalPages }, (_, idx) => idx + 1);\r\n    }\r\n\r\n    if (pagesToRead.length === 0) return '';\r\n\r\n    for (const pageNum of pagesToRead) {\r\n        const page = await pdf.getPage(pageNum);\r\n        const content = await page.getTextContent();\r\n        const pageText = content.items\r\n            .map((item) => {\r\n                // TextItem has 'str', TextMarkedContent does not\r\n                if ('str' in item && typeof item.str === 'string') {\r\n                    return item.str;\r\n                }\r\n                return '';\r\n            })\r\n            .filter(Boolean)\r\n            .join(' ');\r\n        if (pageText.trim()) pages.push(pageText);\r\n    }\r\n\r\n    return pages.join('\\n\\n');\r\n}\r\n\r\nasync function extractDocxText(buffer: Buffer): Promise<string> {\r\n    const mammoth = await import('mammoth');\r\n    const bytes = new Uint8Array(buffer);\r\n    const arrayBuffer = bytes.buffer.slice(bytes.byteOffset, bytes.byteOffset + bytes.byteLength);\r\n    const result = await mammoth.extractRawText({ arrayBuffer: arrayBuffer as ArrayBuffer });\r\n    return (result?.value || '').trim();\r\n}\r\n\r\nasync function ensureUserProfile(userId: string): Promise<boolean> {\r\n    try {\r\n        const { error } = await supabaseAdmin\r\n            .from('profiles')\r\n            .upsert({ id: userId, plan_tier: 'free' }, { onConflict: 'id', ignoreDuplicates: true });\r\n\r\n        if (error) {\r\n            console.error('[API/Generate] Erro ao garantir perfil:', error);\r\n            return false;\r\n        }\r\n        return true;\r\n    } catch (error) {\r\n        console.error('[API/Generate] Exce├º├úo ao garantir perfil:', error);\r\n        return false;\r\n    }\r\n}\r\n\r\nexport async function POST(req: Request) {\r\n    try {\r\n        const cookieStore = await cookies();\r\n        const supabase = createServerClient(\r\n            process.env.NEXT_PUBLIC_SUPABASE_URL!,\r\n            process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!,\r\n            {\r\n                cookies: {\r\n                    get(name) { return cookieStore.get(name)?.value; },\r\n                    set(name, value, options) { cookieStore.set({ name, value, ...options }); },\r\n                    remove(name, options) { cookieStore.set({ name, value: '', ...options }); },\r\n                },\r\n            }\r\n        );\r\n\r\n        // 1. Auth Check\r\n        const { data: { user }, error: authError } = await supabase.auth.getUser();\r\n        if (authError || !user) {\r\n            return NextResponse.json({ error: 'N├úo autorizado. Por favor, fa├ºa login.', code: ErrorCodes.AUTH_REQUIRED }, { status: 401 });\r\n        }\r\n\r\n        // 1.1 Ensure Profile Exists (legacy users / missing trigger)\r\n        await ensureUserProfile(user.id);\r\n\r\n        // 2. Rate Limiting\r\n        if (ratelimit) {\r\n            const { success, limit, reset, remaining } = await ratelimit.limit(user.id);\r\n            if (!success) {\r\n                return NextResponse.json({ error: 'Muitas requisi├º├Áes. Aguarde um momento.', code: ErrorCodes.RATE_LIMIT_EXCEEDED }, {\r\n                    status: 429, headers: {\r\n                        'X-RateLimit-Limit': limit.toString(),\r\n                        'X-RateLimit-Remaining': remaining.toString(),\r\n                        'X-RateLimit-Reset': reset.toString(),\r\n                    }\r\n                });\r\n            }\r\n        }\r\n\r\n        // 3. Parse Request\r\n        let rawBody: any = {};\r\n        let files: File[] = [];\r\n        let fileIds: string[] = [];\r\n        let pdfPageSelections: Record<string, number[] | 'all'> = {};\r\n\r\n        const contentType = req.headers.get('content-type') || '';\r\n        if (contentType.includes('multipart/form-data')) {\r\n            const formData = await req.formData();\r\n            const pdfPageSelectionsRaw = formData.get('pdfPageSelections');\r\n            rawBody = {\r\n                text: formData.get('text'),\r\n                language: formData.get('language'),\r\n                difficulty: formData.get('difficulty'),\r\n                studyLevel: formData.get('studyLevel'),\r\n                studyGoal: formData.get('studyGoal'),\r\n                templateType: formData.get('templateType'),\r\n                cardStyle: formData.get('cardStyle'),\r\n                cardCount: formData.get('cardCount'),\r\n                imageCount: formData.get('imageCount'),\r\n                generateImages: formData.get('generateImages'),\r\n                enemMode: formData.get('enemMode'),\r\n                autoTags: formData.get('autoTags'),\r\n            };\r\n            files = formData.getAll('files').filter((entry): entry is File => entry instanceof File);\r\n            fileIds = formData.getAll('fileIds').filter((entry): entry is string => typeof entry === 'string');\r\n\r\n            if (typeof pdfPageSelectionsRaw === 'string' && pdfPageSelectionsRaw.trim()) {\r\n                try {\r\n                    pdfPageSelections = JSON.parse(pdfPageSelectionsRaw);\r\n                } catch (error) {\r\n                    console.warn('[API/Generate] Invalid pdfPageSelections JSON', error);\r\n                }\r\n            }\r\n        } else {\r\n            rawBody = await req.json().catch(() => ({}));\r\n        }\r\n\r\n        // 4. Validate Input\r\n        const validation = GenerateOptionsSchema.safeParse(rawBody);\r\n\r\n        if (!validation.success) {\r\n            return NextResponse.json({ error: 'Dados inv├ílidos.', code: ErrorCodes.VALIDATION_ERROR, details: validation.error.format() }, { status: 400 });\r\n        }\r\n\r\n        const options = validation.data;\r\n        const baseText = sanitizeInput(options.text || '');\r\n\r\n        // 5. Check Limits & Plan\r\n        const { limits, currentUsage, planTier } = await deckService.checkUserLimit(user.id, supabaseAdmin);\r\n\r\n        if (currentUsage >= limits.dailyGens) {\r\n            return NextResponse.json({ error: `Limite di├írio atingido (${limits.dailyGens}).`, code: ErrorCodes.PLAN_LIMIT_EXCEEDED }, { status: 403 });\r\n        }\r\n\r\n        if (options.generateImages && !limits.allowImageGeneration) {\r\n            return NextResponse.json({ error: 'Seu plano n├úo permite gera├º├úo de imagens.', code: ErrorCodes.UPGRADE_REQUIRED }, { status: 403 });\r\n        }\r\n\r\n        if (options.enemMode && !limits.allowEnemMode) {\r\n            return NextResponse.json({ error: 'Seu plano n├úo permite o Modo ENEM. Fa├ºa upgrade para Pro ou Ultimate.', code: ErrorCodes.UPGRADE_REQUIRED }, { status: 403 });\r\n        }\r\n\r\n        if (options.autoTags && !limits.allowFolders) { // using allowFolders as proxy to Pro features\r\n            return NextResponse.json({ error: 'Seu plano n├úo permite tags autom├íticas. Fa├ºa upgrade para Pro ou Ultimate.', code: ErrorCodes.UPGRADE_REQUIRED }, { status: 403 });\r\n        }\r\n\r\n        // 6. Process Attachments\r\n        const totalFiles = files.length;\r\n        if (totalFiles > MAX_UPLOAD_FILES) {\r\n            return NextResponse.json({ error: `M├íximo de ${MAX_UPLOAD_FILES} arquivos permitidos.`, code: ErrorCodes.VALIDATION_ERROR }, { status: 400 });\r\n        }\r\n\r\n        const attachmentParts: { inline_data: { mime_type: string; data: string } }[] = [];\r\n        const extractedTextParts: string[] = [];\r\n\r\n        for (let index = 0; index < files.length; index += 1) {\r\n            const file = files[index];\r\n            if (file.size > MAX_UPLOAD_BYTES) {\r\n                return NextResponse.json({ error: 'Arquivo muito grande (max 20MB).', code: ErrorCodes.VALIDATION_ERROR }, { status: 413 });\r\n            }\r\n\r\n            const mimeType = file.type.toLowerCase();\r\n            if (!isImageMimeType(mimeType) && !isPdfMimeType(mimeType) && !isDocxMimeType(mimeType)) {\r\n                return NextResponse.json({ error: 'Formato n├úo suportado (apenas PDF, DOCX e Imagens).', code: ErrorCodes.VALIDATION_ERROR }, { status: 400 });\r\n            }\r\n\r\n            if (isImageMimeType(mimeType) && !limits.allowOCR) return NextResponse.json({ error: 'Plano n├úo permite OCR.', code: ErrorCodes.UPGRADE_REQUIRED }, { status: 403 });\r\n            if ((isPdfMimeType(mimeType) || isDocxMimeType(mimeType)) && !limits.allowFile) {\r\n                return NextResponse.json({ error: 'Plano n├úo permite upload de arquivos.', code: ErrorCodes.UPGRADE_REQUIRED }, { status: 403 });\r\n            }\r\n\r\n            const buffer = Buffer.from(await file.arrayBuffer());\r\n            if (isImageMimeType(mimeType)) {\r\n                attachmentParts.push({\r\n                    inline_data: {\r\n                        mime_type: mimeType,\r\n                        data: buffer.toString('base64'),\r\n                    }\r\n                });\r\n            } else if (isPdfMimeType(mimeType)) {\r\n                const fileId = fileIds[index] || file.name;\r\n                const selection = pdfPageSelections[fileId];\r\n                const selectedPages = Array.isArray(selection) ? selection : undefined;\r\n                const extracted = await extractPdfText(buffer, selectedPages);\r\n                if (extracted) extractedTextParts.push(extracted);\r\n            } else if (isDocxMimeType(mimeType)) {\r\n                const extracted = await extractDocxText(buffer);\r\n                if (extracted) extractedTextParts.push(extracted);\r\n            }\r\n        }\r\n\r\n        const combinedText = [baseText, ...extractedTextParts].filter(Boolean).join('\\n\\n').trim();\r\n\r\n        if (!combinedText && attachmentParts.length === 0) {\r\n            return NextResponse.json({ error: 'Forne├ºa texto ou anexos.', code: ErrorCodes.INVALID_INPUT }, { status: 400 });\r\n        }\r\n\r\n        if (combinedText.length > limits.maxChars) {\r\n            return NextResponse.json({ error: `Texto excede o limite do plano (${limits.maxChars} caracteres).`, code: ErrorCodes.PLAN_LIMIT_EXCEEDED }, { status: 403 });\r\n        }\r\n\r\n        // 7. Logic: Card Count Calculation\r\n        let requestedCardCount = limits.maxCardsPerGen;\r\n        if (limits.customCardCount && options.cardCount) {\r\n            requestedCardCount = Math.min(options.cardCount, limits.maxCardsPerGen);\r\n        }\r\n\r\n        // 8. Generate Flashcards (AI Service)\r\n        const cards = await aiService.generateFlashcards({\r\n            userText: combinedText,\r\n            attachments: attachmentParts,\r\n            config: {\r\n                ...options,\r\n                cardCount: requestedCardCount,\r\n                aiOptimized: limits.aiOptimized,\r\n                enemMode: !!options.enemMode,\r\n                autoTags: !!options.autoTags\r\n            }\r\n        });\r\n\r\n        // 9. Generate Images (Image Service) - Parallelized\r\n        let imageStats = null;\r\n        let finalCards = cards;\r\n\r\n        if (options.generateImages && limits.maxImageCardsPerGen > 0 && cards.length > 0) {\r\n            const requestedImages = (options.imageCount && options.imageCount > 0) ? options.imageCount : limits.maxImageCardsPerGen;\r\n            const maxImages = Math.min(cards.length, limits.maxImageCardsPerGen, requestedImages);\r\n\r\n            const { updatedCards, stats } = await imageService.generateCardsImages(cards, maxImages);\r\n            finalCards = updatedCards;\r\n            imageStats = stats;\r\n        }\r\n\r\n        // 10. Update Usage\r\n        await deckService.incrementUsage(user.id, supabaseAdmin);\r\n\r\n        const notification = planTier === 'free'\r\n            ? 'Para salvar seu baralho e ter acesso ilimitado ├ás gera├º├Áes di├írias, fa├ºa upgrade para o Pro.'\r\n            : undefined;\r\n\r\n        return NextResponse.json({\r\n            cards: finalCards,\r\n            usage: currentUsage + 1,\r\n            limit: limits.dailyGens,\r\n            imageGeneration: imageStats,\r\n            notification, // Return notification for client to display\r\n        });\r\n\r\n    } catch (error: unknown) {\r\n        const errorMessage = error instanceof Error ? error.message : 'Erro desconhecido';\r\n        console.error('[API/Generate] Error:', error);\r\n\r\n        if (errorMessage.includes('AI Service') || errorMessage.includes('fetch')) {\r\n            return NextResponse.json({ error: 'Erro de comunica├º├úo com o servi├ºo de IA. Tente novamente.', code: ErrorCodes.SERVICE_UNAVAILABLE }, { status: 502 });\r\n        }\r\n\r\n        return NextResponse.json({ error: errorMessage || 'Erro interno no servidor.', code: ErrorCodes.INTERNAL_ERROR }, { status: 500 });\r\n    }\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\otavi\\Desktop\\flashcards_generator\\flashcards_generator\\app\\api\\google-play\\verify\\route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\otavi\\Desktop\\flashcards_generator\\flashcards_generator\\app\\api\\health\\route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\otavi\\Desktop\\flashcards_generator\\flashcards_generator\\app\\api\\push\\send\\route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\otavi\\Desktop\\flashcards_generator\\flashcards_generator\\app\\api\\push\\subscribe\\route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\otavi\\Desktop\\flashcards_generator\\flashcards_generator\\app\\api\\settings\\notifications\\route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\otavi\\Desktop\\flashcards_generator\\flashcards_generator\\app\\api\\stats\\route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\otavi\\Desktop\\flashcards_generator\\flashcards_generator\\app\\api\\stripe\\checkout\\route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\otavi\\Desktop\\flashcards_generator\\flashcards_generator\\app\\api\\stripe\\portal\\route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\otavi\\Desktop\\flashcards_generator\\flashcards_generator\\app\\api\\webhooks\\stripe\\route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\otavi\\Desktop\\flashcards_generator\\flashcards_generator\\app\\app\\generator-client.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'useReducedMotion' is defined but never used.","line":26,"column":35,"nodeType":"Identifier","messageId":"unusedVar","endLine":26,"endColumn":51,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"useReducedMotion"},"fix":{"range":[454,472],"text":""},"desc":"Remove unused variable \"useReducedMotion\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'MAX_UPLOAD_MB' is assigned a value but never used.","line":94,"column":7,"nodeType":"Identifier","messageId":"unusedVar","endLine":94,"endColumn":20},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":176,"column":43,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":176,"endColumn":46,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[6890,6893],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[6890,6893],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":177,"column":29,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":177,"endColumn":32,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[6937,6940],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[6937,6940],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"The ref value 'objectUrlsRef.current' will likely have changed by the time this effect cleanup function runs. If this ref points to a node rendered by React, copy 'objectUrlsRef.current' to a variable inside the effect, and use that variable in the cleanup function.","line":218,"column":31,"nodeType":"Identifier","endLine":218,"endColumn":38},{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"The ref value 'pdfDocsRef.current' will likely have changed by the time this effect cleanup function runs. If this ref points to a node rendered by React, copy 'pdfDocsRef.current' to a variable inside the effect, and use that variable in the cleanup function.","line":220,"column":48,"nodeType":"Identifier","endLine":220,"endColumn":55},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'e' is defined but never used.","line":526,"column":42,"nodeType":"Identifier","messageId":"unusedVar","endLine":526,"endColumn":43},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'e' is defined but never used.","line":815,"column":42,"nodeType":"Identifier","messageId":"unusedVar","endLine":815,"endColumn":43},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":875,"column":38,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":875,"endColumn":41,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[34743,34746],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[34743,34746],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":875,"column":88,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":875,"endColumn":91,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[34793,34796],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[34793,34796],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'parseErr' is defined but never used.","line":879,"column":22,"nodeType":"Identifier","messageId":"unusedVar","endLine":879,"endColumn":30},{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":888,"column":32,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":888,"endColumn":57},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":892,"column":88,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":892,"endColumn":91,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[35645,35648],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[35645,35648],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":1802,"column":73,"nodeType":"JSXOpeningElement","endLine":1806,"endColumn":75},{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":2248,"column":49,"nodeType":"JSXOpeningElement","endLine":2256,"endColumn":51},{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":2296,"column":49,"nodeType":"JSXOpeningElement","endLine":2304,"endColumn":51}],"suppressedMessages":[],"errorCount":6,"fatalErrorCount":0,"warningCount":10,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\r\n\r\nimport React, { useState, useEffect, useRef } from 'react';\r\nimport {\r\n    Plus,\r\n    Trash2,\r\n    Download,\r\n    Sparkles,\r\n    Loader2,\r\n    FileDown,\r\n    ChevronDown,\r\n    FileUp,\r\n    AlertCircle,\r\n    Check,\r\n    Library,\r\n    GripVertical,\r\n    X,\r\n    Globe,\r\n    FileText,\r\n    Settings2,\r\n    LayoutDashboard,\r\n    Maximize2,\r\n    BookOpen\r\n} from 'lucide-react';\r\nimport { gzip } from 'pako';\r\nimport { motion, AnimatePresence, useReducedMotion } from 'framer-motion';\r\nimport { haptics } from '@/lib/haptics';\r\nimport { useTauri } from '@/lib/tauri';\r\nimport EditableCard from '@/components/EditableCard';\r\nimport Toast, { ToastType } from '@/components/Toast';\r\nimport { PLAN_LIMITS, PlanKey } from '@/constants/pricing';\r\nimport { supabase } from '@/lib/supabase';\r\nimport { getApiUrl } from '@/lib/api-config';\r\nimport { deckService } from '@/services/deckService';\r\nimport UpgradeModal from '@/components/UpgradeModal';\r\nimport AuthGateModal from '@/components/AuthGateModal';\r\nimport { User } from '@supabase/supabase-js';\r\nimport { trackEvent } from '@/lib/analytics';\r\nimport { SegmentedControl } from '@/components/ios';\r\nimport { QuickSettingsSheet, GeneratorActionBar } from '@/components/mobile';\r\n\r\ndeclare global {\r\n    interface Window {\r\n        turnstile?: {\r\n            render: (container: HTMLElement, options: { sitekey: string; size: 'invisible'; callback: (token: string) => void }) => string;\r\n            execute: (widgetId: string) => void;\r\n        };\r\n    }\r\n}\r\n\r\ninterface Flashcard {\r\n    id: string;\r\n    question: string;\r\n    answer: string;\r\n    question_image_url?: string | null;\r\n    answer_image_url?: string | null;\r\n    favorite?: boolean;\r\n}\r\n\r\ntype ImageDropTarget = {\r\n    cardId: string;\r\n    section: 'question' | 'answer';\r\n};\r\n\r\ntype PdfPagePreview = {\r\n    pageNumber: number;\r\n    dataUrl?: string;\r\n    width?: number;\r\n    height?: number;\r\n    isRendering?: boolean;\r\n};\r\n\r\ntype PdfPreview = {\r\n    fileId: string;\r\n    fileName: string;\r\n    pageCount: number;\r\n    pages: PdfPagePreview[];\r\n    selectedPages: number[];\r\n    isLoading: boolean;\r\n    error?: string;\r\n};\r\n\r\nconst IMAGE_MIME_TYPES = new Set([\r\n    'image/jpeg',\r\n    'image/jpg',\r\n    'image/png',\r\n    'image/webp',\r\n    'image/heic',\r\n    'image/heif',\r\n]);\r\nconst PDF_MIME_TYPE = 'application/pdf';\r\nconst DOCX_MIME_TYPE = 'application/vnd.openxmlformats-officedocument.wordprocessingml.document';\r\nconst MAX_UPLOAD_BYTES = 20 * 1024 * 1024;\r\nconst MAX_UPLOAD_MB = Math.floor(MAX_UPLOAD_BYTES / (1024 * 1024));\r\nconst PDF_PREVIEW_INITIAL_PAGES = 6;\r\n\r\nconst TEMPLATE_OPTIONS = [\r\n    {\r\n        key: 'resumo',\r\n        label: 'Resumo ÔåÆ Flashcards',\r\n        placeholder: 'Cole um resumo estruturado para transformar em flashcards.'\r\n    },\r\n    {\r\n        key: 'questoes_erradas',\r\n        label: 'Quest├Áes erradas ÔåÆ Flashcards',\r\n        placeholder: 'Cole quest├Áes que voc├¬ errou e as respostas corretas.'\r\n    },\r\n    {\r\n        key: 'apostila_topicos',\r\n        label: 'Apostila ÔåÆ Flashcards (t├│picos)',\r\n        placeholder: 'Cole t├│picos e subt├│picos de uma apostila.'\r\n    },\r\n    {\r\n        key: 'lei_seca',\r\n        label: 'Lei seca ÔåÆ Flashcards (artigos)',\r\n        placeholder: 'Cole artigos/trechos da lei para memorizar.'\r\n    },\r\n    {\r\n        key: 'biologia_processos',\r\n        label: 'Biologia: processos ÔåÆ cards',\r\n        placeholder: 'Cole processos biol├│gicos e etapas.'\r\n    },\r\n    {\r\n        key: 'matematica_formula',\r\n        label: 'Matem├ítica: f├│rmula ÔåÆ defini├º├úo + aplica├º├úo + pegadinha',\r\n        placeholder: 'Cole f├│rmulas e conceitos matem├íticos.'\r\n    },\r\n];\r\n\r\nexport default function GeneratorClient() {\r\n    const [inputText, setInputText] = useState('');\r\n    const [uploadedFiles, setUploadedFiles] = useState<File[]>([]);\r\n    const [pdfPreviews, setPdfPreviews] = useState<PdfPreview[]>([]);\r\n    const [deckTitle, setDeckTitle] = useState('');\r\n    const [deckDescription, setDeckDescription] = useState('');\r\n    const [deckTagsInput, setDeckTagsInput] = useState('');\r\n    const [cards, setCards] = useState<Flashcard[]>([]);\r\n    const [isGenerating, setIsGenerating] = useState(false);\r\n    const [currentPlan, setCurrentPlan] = useState<PlanKey>('free');\r\n    const [showUpgradeModal, setShowUpgradeModal] = useState(false);\r\n    const [error, setError] = useState<string | null>(null);\r\n    const [user, setUser] = useState<User | null>(null);\r\n    const [isDemo, setIsDemo] = useState(true);\r\n    const [isAuthChecked, setIsAuthChecked] = useState(false);\r\n    const [isSaving, setIsSaving] = useState(false);\r\n    const [saveSuccess, setSaveSuccess] = useState(false);\r\n    const [toast, setToast] = useState<{ message: string; type: ToastType } | null>(null);\r\n    const [cardCount, setCardCount] = useState(5);\r\n    const [language, setLanguage] = useState('Portugu├¬s');\r\n    const [difficulty, setDifficulty] = useState('Intermedi├írio');\r\n    const [studyLevel, setStudyLevel] = useState<'ENEM' | 'Faculdade' | 'Concurso'>('ENEM');\r\n    const [studyGoal, setStudyGoal] = useState<'Memorizar' | 'Revisar r├ípido' | 'Aprofundar'>('Memorizar');\r\n    const [cardStyle, setCardStyle] = useState<'basic' | 'short_answer' | 'image_occlusion'>('basic');\r\n    const [templateType, setTemplateType] = useState<string>('');\r\n    const [recentTexts, setRecentTexts] = useState<string[]>([]);\r\n    const [selectedIntent, setSelectedIntent] = useState<string | null>(null);\r\n    const [isExportingApkg, setIsExportingApkg] = useState(false);\r\n    const [savedDeckId, setSavedDeckId] = useState<string | null>(null);\r\n    const [savedDeckPublic, setSavedDeckPublic] = useState(false);\r\n    const [publishingPublic, setPublishingPublic] = useState(false);\r\n    const [generateImages, setGenerateImages] = useState(false);\r\n    const [imageCount, setImageCount] = useState(1);\r\n    const [showImageWarningModal, setShowImageWarningModal] = useState(false);\r\n    const [draggedImage, setDraggedImage] = useState<{ cardId: string; section: 'question' | 'answer'; imageUrl: string } | null>(null);\r\n    const [dropTarget, setDropTarget] = useState<ImageDropTarget | null>(null);\r\n    const [showAuthGateModal, setShowAuthGateModal] = useState(false);\r\n    const [appOpenTracked, setAppOpenTracked] = useState(false);\r\n    const [demoInputStarted, setDemoInputStarted] = useState(false);\r\n    const [demoFingerprint, setDemoFingerprint] = useState('');\r\n    const [captchaRequired, setCaptchaRequired] = useState(false);\r\n    const [pendingDemoText, setPendingDemoText] = useState<string | null>(null);\r\n    const [signupModalAction, setSignupModalAction] = useState(false);\r\n    const captchaContainerRef = useRef<HTMLDivElement | null>(null);\r\n    const captchaWidgetIdRef = useRef<string | null>(null);\r\n    const objectUrlsRef = useRef<Set<string>>(new Set());\r\n    const pdfDocsRef = useRef<Map<string, any>>(new Map());\r\n    const pdfjsRef = useRef<any>(null);\r\n    const { isMobile, isTauri } = useTauri();\r\n    const [showMobileSettings, setShowMobileSettings] = useState(false);\r\n    const [viewMode, setViewMode] = useState<'input' | 'cards'>('input');\r\n\r\n    const getFileId = (file: File) => `${file.name}-${file.size}-${file.lastModified}`;\r\n\r\n    // Native picker integration (Tauri)\r\n    const handleTauriPick = async () => {\r\n        try {\r\n            const picked = await import('@/lib/tauri').then(m => m.pickFilesTauri());\r\n            if (!picked?.length) return;\r\n\r\n            // Convert picked blobs to File objects and append to uploadedFiles\r\n            const converted: File[] = [];\r\n            for (const p of picked) {\r\n                if (!p.blob) continue;\r\n                const blob = p.blob;\r\n                const file = new File([blob], p.name, { type: p.type || 'application/octet-stream' });\r\n                converted.push(file);\r\n            }\r\n\r\n            if (converted.length) {\r\n                setUploadedFiles(prev => [...prev, ...converted]);\r\n            }\r\n        } catch (err) {\r\n            console.warn('Tauri pick failed', err);\r\n        }\r\n    };\r\n\r\n    // Cleanup object URLs when component unmounts\r\n    useEffect(() => {\r\n        return () => {\r\n            if (objectUrlsRef.current) {\r\n                objectUrlsRef.current.forEach(url => {\r\n                    try {\r\n                        URL.revokeObjectURL(url);\r\n                    } catch {\r\n                        // URL already revoked or invalid\r\n                    }\r\n                });\r\n                objectUrlsRef.current.clear();\r\n            }\r\n            if (pdfDocsRef.current) pdfDocsRef.current.clear();\r\n            if (pdfjsRef.current) pdfjsRef.current = null;\r\n        };\r\n    }, []);\r\n\r\n    const renderPdfPage = async (fileId: string, pageNumber: number) => {\r\n        const doc = pdfDocsRef.current.get(fileId);\r\n        if (!doc) return;\r\n\r\n        const preview = pdfPreviews.find((item) => item.fileId === fileId);\r\n        const page = preview?.pages.find((item) => item.pageNumber === pageNumber);\r\n        if (!page || page.dataUrl || page.isRendering) return;\r\n\r\n        setPdfPreviews((prev) =>\r\n            prev.map((item) => {\r\n                if (item.fileId !== fileId) return item;\r\n                const pages = item.pages.map((pageItem) =>\r\n                    pageItem.pageNumber === pageNumber\r\n                        ? { ...pageItem, isRendering: true }\r\n                        : pageItem\r\n                );\r\n                return { ...item, pages };\r\n            })\r\n        );\r\n\r\n        try {\r\n            const pageDoc = await doc.getPage(pageNumber);\r\n            const viewport = pageDoc.getViewport({ scale: 0.25 });\r\n            const canvas = document.createElement('canvas');\r\n            const context = canvas.getContext('2d');\r\n            if (!context) return;\r\n            canvas.width = Math.floor(viewport.width);\r\n            canvas.height = Math.floor(viewport.height);\r\n            await pageDoc.render({ canvasContext: context, viewport }).promise;\r\n            const dataUrl = canvas.toDataURL('image/png');\r\n\r\n            setPdfPreviews((prev) =>\r\n                prev.map((item) => {\r\n                    if (item.fileId !== fileId) return item;\r\n                    const pages = item.pages.map((pageItem) =>\r\n                        pageItem.pageNumber === pageNumber\r\n                            ? {\r\n                                ...pageItem,\r\n                                dataUrl,\r\n                                width: canvas.width,\r\n                                height: canvas.height,\r\n                                isRendering: false\r\n                            }\r\n                            : pageItem\r\n                    );\r\n                    return { ...item, pages };\r\n                })\r\n            );\r\n        } catch (err) {\r\n            console.error('Erro ao renderizar p├ígina PDF:', err);\r\n            setPdfPreviews((prev) =>\r\n                prev.map((item) => {\r\n                    if (item.fileId !== fileId) return item;\r\n                    const pages = item.pages.map((pageItem) =>\r\n                        pageItem.pageNumber === pageNumber\r\n                            ? { ...pageItem, isRendering: false }\r\n                            : pageItem\r\n                    );\r\n                    return { ...item, pages };\r\n                })\r\n            );\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        const pdfFileIds = new Set(\r\n            uploadedFiles.filter((file) => file.type === PDF_MIME_TYPE).map(getFileId)\r\n        );\r\n        setPdfPreviews((prev) => prev.filter((preview) => pdfFileIds.has(preview.fileId)));\r\n    }, [uploadedFiles]);\r\n\r\n    useEffect(() => {\r\n        let isCancelled = false;\r\n\r\n        const buildPdfPreview = async (file: File) => {\r\n            const fileId = getFileId(file);\r\n            setPdfPreviews((prev) => {\r\n                if (prev.some((item) => item.fileId === fileId)) return prev;\r\n                return [...prev, { fileId, fileName: file.name, pageCount: 0, pages: [], selectedPages: [], isLoading: true }];\r\n            });\r\n\r\n            try {\r\n                if (!pdfjsRef.current) {\r\n                    const pdfjsModule = await import('pdfjs-dist/legacy/build/pdf.mjs');\r\n                    if (pdfjsModule.GlobalWorkerOptions && !pdfjsModule.GlobalWorkerOptions.workerSrc) {\r\n                        pdfjsModule.GlobalWorkerOptions.workerSrc = new URL(\r\n                            'pdfjs-dist/legacy/build/pdf.worker.min.mjs',\r\n                            import.meta.url\r\n                        ).toString();\r\n                    }\r\n                    pdfjsRef.current = pdfjsModule;\r\n                }\r\n\r\n                const arrayBuffer = await file.arrayBuffer();\r\n                const loadingTask = pdfjsRef.current.getDocument({ data: new Uint8Array(arrayBuffer) });\r\n                const pdf = await loadingTask.promise;\r\n                const pageCount = pdf.numPages;\r\n                pdfDocsRef.current.set(fileId, pdf);\r\n\r\n                const pages: PdfPagePreview[] = Array.from({ length: pageCount }, (_, idx) => ({\r\n                    pageNumber: idx + 1\r\n                }));\r\n\r\n                if (isCancelled) return;\r\n\r\n                setPdfPreviews((prev) =>\r\n                    prev.map((preview) =>\r\n                        preview.fileId === fileId\r\n                            ? {\r\n                                ...preview,\r\n                                pageCount,\r\n                                pages,\r\n                                selectedPages: Array.from({ length: pageCount }, (_, idx) => idx + 1),\r\n                                isLoading: false\r\n                            }\r\n                            : preview\r\n                    )\r\n                );\r\n\r\n                // Render sob demanda para evitar lentid├úo inicial\r\n            } catch (err) {\r\n                if (isCancelled) return;\r\n                console.error('Erro ao gerar preview PDF:', err);\r\n                setPdfPreviews((prev) =>\r\n                    prev.map((preview) =>\r\n                        preview.fileId === fileId\r\n                            ? { ...preview, isLoading: false, error: 'Falha ao carregar preview do PDF.' }\r\n                            : preview\r\n                    )\r\n                );\r\n            }\r\n        };\r\n\r\n        const pdfFiles = uploadedFiles.filter((file) => file.type === PDF_MIME_TYPE);\r\n        const knownIds = new Set(pdfPreviews.map((preview) => preview.fileId));\r\n        const newFiles = pdfFiles.filter((file) => !knownIds.has(getFileId(file)));\r\n\r\n        if (newFiles.length > 0) {\r\n            newFiles.forEach((file) => {\r\n                if (!isCancelled) buildPdfPreview(file);\r\n            });\r\n        }\r\n\r\n        return () => {\r\n            isCancelled = true;\r\n        };\r\n    }, [uploadedFiles, pdfPreviews]);\r\n\r\n    // New Features States\r\n    const [enemMode, setEnemMode] = useState(false);\r\n    const [selectedFolder, setSelectedFolder] = useState('');\r\n\r\n    const FOLDERS = ['Biologia', 'Qu├¡mica', 'F├¡sica', 'Matem├ítica', 'Hist├│ria', 'Geografia', 'Portugu├¬s', 'Literatura', 'Ingl├¬s', 'Espanhol', 'Filosofia', 'Sociologia'];\r\n\r\n    const demoLimits = {\r\n        ...PLAN_LIMITS.free,\r\n        name: 'Demo',\r\n        dailyGens: 1,\r\n        historySaved: false,\r\n        allowFile: false,\r\n        allowOCR: false,\r\n        allowImageGeneration: false,\r\n        customCardCount: false,\r\n    };\r\n\r\n    const limits = isDemo ? demoLimits : PLAN_LIMITS[currentPlan];\r\n    const fileAccept = limits.allowOCR\r\n        ? 'application/pdf,application/vnd.openxmlformats-officedocument.wordprocessingml.document,image/jpeg,image/jpg,image/png,image/webp,image/heic,image/heif'\r\n        : 'application/pdf,application/vnd.openxmlformats-officedocument.wordprocessingml.document';\r\n    const uploadLabel = limits.allowOCR ? 'Upload PDF/DOCX ou Imagem' : 'Upload PDF/DOCX';\r\n\r\n    // Auth & Profile Check\r\n    useEffect(() => {\r\n        supabase.auth.getSession().then(({ data: { session } }) => {\r\n            if (!session) {\r\n                setUser(null);\r\n                setIsDemo(true);\r\n                setCurrentPlan('free');\r\n                setCardCount(demoLimits.maxCardsPerGen);\r\n                setIsAuthChecked(true);\r\n                return;\r\n            }\r\n            setUser(session.user);\r\n            setIsDemo(false);\r\n            deckService.checkUserLimit(session.user.id).then(res => {\r\n                setCurrentPlan(res.planTier);\r\n                // Ajustar cardCount inicial baseado no plano\r\n                setCardCount(PLAN_LIMITS[res.planTier].maxCardsPerGen);\r\n            }).catch(console.error).finally(() => setIsAuthChecked(true));\r\n        });\r\n    }, [demoLimits.maxCardsPerGen]);\r\n\r\n    // Check character limits on input\r\n    useEffect(() => {\r\n        if (isDemo && inputText.trim().length > 0 && inputText.trim().length < 200) {\r\n            setError('Cole um conte├║do maior (m├¡n. 200 caracteres).');\r\n            return;\r\n        }\r\n        if (inputText.length > limits.maxChars) {\r\n            setError(`Limite do plano ${limits.name} atingido (${limits.maxChars} caracteres).`);\r\n        } else {\r\n            setError(null);\r\n        }\r\n    }, [inputText, limits, isDemo]);\r\n\r\n    useEffect(() => {\r\n        if (!limits.allowImageGeneration && generateImages) {\r\n            setGenerateImages(false);\r\n        }\r\n    }, [limits.allowImageGeneration, generateImages]);\r\n\r\n    useEffect(() => {\r\n        if (isAuthChecked && !appOpenTracked) {\r\n            trackEvent('app_open', { is_demo: isDemo });\r\n            setAppOpenTracked(true);\r\n        }\r\n    }, [appOpenTracked, isDemo, isAuthChecked]);\r\n\r\n    useEffect(() => {\r\n        if (typeof window === 'undefined') return;\r\n        const stored = window.localStorage.getItem('demo_fingerprint');\r\n        if (stored) {\r\n            setDemoFingerprint(stored);\r\n            return;\r\n        }\r\n\r\n        const newFp = crypto.randomUUID();\r\n        window.localStorage.setItem('demo_fingerprint', newFp);\r\n        setDemoFingerprint(newFp);\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        if (typeof window === 'undefined') return;\r\n        const storedRecent = window.localStorage.getItem('recent_texts');\r\n        if (storedRecent) {\r\n            try {\r\n                const parsed = JSON.parse(storedRecent);\r\n                if (Array.isArray(parsed)) {\r\n                    setRecentTexts(parsed.slice(0, 3));\r\n                }\r\n            } catch {\r\n                setRecentTexts([]);\r\n            }\r\n        }\r\n        const storedIntent = window.localStorage.getItem('demo_intent');\r\n        if (storedIntent) {\r\n            setSelectedIntent(storedIntent);\r\n        }\r\n    }, []);\r\n\r\n    // Stats fetch logic removed as 'stats' was unused\r\n    // If needed later, re-implement properly\r\n    // useEffect(() => { ... }, []);\r\n\r\n    useEffect(() => {\r\n        if (!captchaRequired) return;\r\n        const siteKey = process.env.NEXT_PUBLIC_TURNSTILE_SITE_KEY;\r\n        if (!siteKey) return;\r\n        if (typeof window === 'undefined') return;\r\n\r\n        if (window.turnstile) return;\r\n\r\n        const script = document.createElement('script');\r\n        script.src = 'https://challenges.cloudflare.com/turnstile/v0/api.js?render=explicit';\r\n        script.async = true;\r\n        script.defer = true;\r\n        document.body.appendChild(script);\r\n\r\n        return () => {\r\n            document.body.removeChild(script);\r\n        };\r\n    }, [captchaRequired]);\r\n\r\n    useEffect(() => {\r\n        if (isDemo && uploadedFiles.length > 0) {\r\n            setUploadedFiles([]);\r\n        }\r\n    }, [isDemo, uploadedFiles.length]);\r\n\r\n    const openAuthGate = (reason?: string) => {\r\n        setSignupModalAction(false);\r\n        setShowAuthGateModal(true);\r\n        trackEvent('paywall_viewed', { reason, is_demo: true });\r\n        trackEvent('signup_view', { source: reason || 'demo', is_demo: true });\r\n    };\r\n\r\n    const handleToggleImageGeneration = () => {\r\n        if (isDemo) {\r\n            openAuthGate('demo_image_generation');\r\n            return;\r\n        }\r\n        if (!limits.allowImageGeneration) {\r\n            setShowUpgradeModal(true);\r\n            setToast({ message: 'Geracao de imagens disponivel apenas no plano Ultimate.', type: 'info' });\r\n            return;\r\n        }\r\n        setGenerateImages((prev) => !prev);\r\n    };\r\n\r\n    const handleGenerateClick = () => {\r\n        // Haptic feedback for primary generate action\r\n        try { haptics.impact(); } catch (e) { /* silent */ }\r\n\r\n        if (isDemo) {\r\n            trackEvent('demo_generate_click', {\r\n                is_demo: true,\r\n                char_count: inputText.length,\r\n            });\r\n        }\r\n        if (generateImages) {\r\n            setShowImageWarningModal(true);\r\n        } else {\r\n            handleGenerate();\r\n        }\r\n    };\r\n\r\n    const handleConfirmGenerate = () => {\r\n        setShowImageWarningModal(false);\r\n        handleGenerate();\r\n    };\r\n\r\n    const handleTemplateSelect = (key: string, placeholder: string) => {\r\n        setTemplateType(key);\r\n        if (!inputText.trim()) {\r\n            setInputText(placeholder);\r\n        }\r\n        trackEvent('template_selected', { template: key, is_demo: isDemo });\r\n    };\r\n\r\n    const storeRecentText = (text: string) => {\r\n        if (typeof window === 'undefined') return;\r\n        const trimmed = text.trim();\r\n        if (!trimmed) return;\r\n        const updated = [trimmed, ...recentTexts.filter((item) => item !== trimmed)].slice(0, 3);\r\n        setRecentTexts(updated);\r\n        window.localStorage.setItem('recent_texts', JSON.stringify(updated));\r\n    };\r\n\r\n    const handleIntentSelect = (intent: string) => {\r\n        setSelectedIntent(intent);\r\n        if (typeof window !== 'undefined') {\r\n            window.localStorage.setItem('demo_intent', intent);\r\n        }\r\n        trackEvent('demo_intent_selected', { intent, is_demo: true });\r\n    };\r\n\r\n    const handleGenerate = async (overrideText?: string, captchaToken?: string) => {\r\n        const textToUse = typeof overrideText === 'string' ? overrideText : inputText;\r\n        const hasInput = textToUse.trim().length > 0;\r\n        const hasFiles = uploadedFiles.length > 0;\r\n\r\n        if ((!hasInput && !hasFiles) || error || (!user && !isDemo)) return;\r\n\r\n        const pdfPreviewsWithEmptySelection = pdfPreviews.filter(\r\n            (preview) => preview.selectedPages.length === 0\r\n        );\r\n\r\n        if (pdfPreviewsWithEmptySelection.length > 0) {\r\n            setToast({ message: 'Selecione pelo menos uma p├ígina em cada PDF.', type: 'error' });\r\n            return;\r\n        }\r\n\r\n        setIsGenerating(true);\r\n        const inputLength = textToUse.length;\r\n        const pdfPageSelections = getPdfPageSelections();\r\n\r\n        try {\r\n            const response = isDemo\r\n                ? await fetch(getApiUrl('api/demo/generate'), {\r\n                    method: 'POST',\r\n                    headers: {\r\n                        'Content-Type': 'application/json',\r\n                        'x-demo-fingerprint': demoFingerprint || '',\r\n                    },\r\n                    body: JSON.stringify({\r\n                        text: textToUse,\r\n                        language,\r\n                        difficulty,\r\n                        studyLevel,\r\n                        studyGoal,\r\n                        templateType,\r\n                        cardStyle,\r\n                        captchaToken,\r\n                    })\r\n                })\r\n                : await fetch(getApiUrl('api/generate'), {\r\n                    method: 'POST',\r\n                    body: (() => {\r\n                        const formData = new FormData();\r\n                        formData.append('text', textToUse);\r\n                        formData.append('language', language);\r\n                        formData.append('difficulty', difficulty);\r\n                        formData.append('studyLevel', studyLevel);\r\n                        formData.append('studyGoal', studyGoal);\r\n                        formData.append('templateType', templateType);\r\n                        formData.append('cardStyle', cardStyle);\r\n                        formData.append('cardCount', cardCount.toString());\r\n                        formData.append('generateImages', generateImages ? 'true' : 'false');\r\n                        formData.append('imageCount', imageCount.toString());\r\n                        formData.append('enemMode', enemMode ? 'true' : 'false');\r\n                        formData.append('autoTags', limits.allowFolders ? 'true' : 'false');\r\n                        formData.append('pdfPageSelections', JSON.stringify(pdfPageSelections));\r\n\r\n                        uploadedFiles.forEach(file => {\r\n                            formData.append('fileIds', getFileId(file));\r\n                            formData.append('files', file);\r\n                        });\r\n\r\n                        return formData;\r\n                    })()\r\n                });\r\n\r\n            const data = await response.json();\r\n\r\n            if (!response.ok) {\r\n                if (response.status === 403) {\r\n                    setShowUpgradeModal(true);\r\n                }\r\n\r\n                if (response.status === 429 && data?.error) {\r\n                    setToast({ message: data.error, type: 'info' });\r\n                    if (isDemo) {\r\n                        trackEvent('demo_rate_limited', {\r\n                            is_demo: true,\r\n                            char_count: inputLength,\r\n                        });\r\n                        openAuthGate('demo_rate_limited');\r\n                    }\r\n                }\r\n                if (isDemo && data?.code === 'captcha_required') {\r\n                    setCaptchaRequired(true);\r\n                    setPendingDemoText(textToUse);\r\n                }\r\n                if (isDemo) {\r\n                    trackEvent('demo_generate_error', {\r\n                        is_demo: true,\r\n                        reason: data?.code || 'unknown',\r\n                        message: data?.error || 'Erro ao gerar cards',\r\n                        char_count: inputLength,\r\n                    });\r\n                }\r\n                throw new Error(data.error || 'Erro ao gerar cards');\r\n            }\r\n\r\n            if (isDemo) {\r\n                setCaptchaRequired(false);\r\n                setPendingDemoText(null);\r\n            }\r\n\r\n            const newCardsFormatted = data.cards.map((c: {\r\n                question: string;\r\n                answer: string;\r\n                image_url?: string | null;\r\n                question_image_url?: string | null;\r\n                answer_image_url?: string | null;\r\n                user_image_index?: number;\r\n                user_image_section?: 'question' | 'answer';\r\n            }) => {\r\n                let qImg = c.question_image_url ?? c.image_url ?? null;\r\n                let aImg = c.answer_image_url ?? null;\r\n\r\n                // Handle user uploaded image assignment\r\n                if (c.user_image_index !== undefined && c.user_image_index >= 0 && c.user_image_index < uploadedFiles.length) {\r\n                    const file = uploadedFiles[c.user_image_index];\r\n\r\n                    if (IMAGE_MIME_TYPES.has(file.type)) {\r\n                        const objectUrl = URL.createObjectURL(file);\r\n                        objectUrlsRef.current.add(objectUrl);\r\n\r\n                        if (c.user_image_section === 'question') {\r\n                            qImg = objectUrl;\r\n                        } else {\r\n                            aImg = objectUrl;\r\n                        }\r\n                        if (!c.user_image_section) {\r\n                            if (!aImg) aImg = objectUrl;\r\n                        }\r\n                    }\r\n                }\r\n\r\n                return {\r\n                    id: Math.random().toString(36).substr(2, 9),\r\n                    question: c.question,\r\n                    answer: c.answer,\r\n                    question_image_url: qImg,\r\n                    answer_image_url: aImg,\r\n                    favorite: false\r\n                };\r\n            });\r\n\r\n            setCards([...newCardsFormatted, ...cards]);\r\n            try { haptics.success(); } catch { /* silent */ }\r\n\r\n            if (!deckTitle) {\r\n                setDeckTitle(`Deck ${new Date().toLocaleDateString()}`);\r\n            }\r\n            setInputText('');\r\n            setUploadedFiles([]);\r\n            storeRecentText(textToUse);\r\n            setTemplateType('');\r\n            if (data.imageGeneration?.failed) {\r\n                setToast({\r\n                    message: `Algumas imagens nao puderam ser geradas (${data.imageGeneration.failed}).`,\r\n                    type: 'info'\r\n                });\r\n            }\r\n\r\n            if (data.notification) {\r\n                setTimeout(() => {\r\n                    setToast({\r\n                        message: data.notification,\r\n                        type: 'info'\r\n                    });\r\n                }, 1000); // Small delay to separate from success toast if any\r\n            }\r\n            trackEvent(isDemo ? 'demo_generation_success' : 'generation_completed', {\r\n                plan: isDemo ? 'demo' : currentPlan,\r\n                cards_generated: data.cards?.length,\r\n                card_count_requested: isDemo ? limits.maxCardsPerGen : cardCount,\r\n                image_cards_requested: isDemo ? 0 : generateImages ? Math.min(cardCount, limits.maxImageCardsPerGen) : 0,\r\n                image_cards_generated: data.imageGeneration?.generated ?? 0,\r\n                char_count: inputLength,\r\n                language,\r\n                difficulty,\r\n                has_files: hasFiles,\r\n                file_count: uploadedFiles.length,\r\n                is_demo: isDemo,\r\n            });\r\n\r\n            if (currentPlan === 'free' && !isDemo) {\r\n                setToast({\r\n                    message: 'Para salvar seu baralho e ter acesso ilimitado, fa├ºa upgrade para o Pro.',\r\n                    type: 'info' // Using 'info' or specific type if available\r\n                });\r\n            }\r\n        } catch (err) {\r\n            setError(err instanceof Error ? err.message : 'Erro ao gerar cards');\r\n            if (isDemo) {\r\n                trackEvent('demo_generate_error', {\r\n                    is_demo: true,\r\n                    reason: 'exception',\r\n                    message: err instanceof Error ? err.message : 'unknown',\r\n                    char_count: inputLength,\r\n                });\r\n            }\r\n            trackEvent(isDemo ? 'demo_generation_failed' : 'generate_cards_failed', {\r\n                plan: isDemo ? 'demo' : currentPlan,\r\n                input_chars: inputLength,\r\n                error: err instanceof Error ? err.message : 'unknown',\r\n                image_cards_requested: isDemo ? 0 : generateImages ? Math.min(cardCount, limits.maxImageCardsPerGen) : 0,\r\n                language,\r\n                difficulty,\r\n                has_files: hasFiles,\r\n                file_count: uploadedFiles.length,\r\n            });\r\n        } finally {\r\n            setIsGenerating(false);\r\n        }\r\n    };\r\n\r\n    const handleCaptchaRetry = () => {\r\n        const siteKey = process.env.NEXT_PUBLIC_TURNSTILE_SITE_KEY;\r\n        if (!siteKey) {\r\n            setToast({ message: 'Verifica├º├úo indispon├¡vel. Tente novamente mais tarde.', type: 'info' });\r\n            return;\r\n        }\r\n        if (!captchaContainerRef.current || !window.turnstile) {\r\n            setToast({ message: 'Carregando verifica├º├úo, tente novamente.', type: 'info' });\r\n            return;\r\n        }\r\n\r\n        if (!captchaWidgetIdRef.current) {\r\n            captchaWidgetIdRef.current = window.turnstile.render(captchaContainerRef.current, {\r\n                sitekey: siteKey,\r\n                size: 'invisible',\r\n                callback: (token: string) => {\r\n                    setCaptchaRequired(false);\r\n                    const text = pendingDemoText || inputText;\r\n                    handleGenerate(text, token);\r\n                },\r\n            });\r\n        }\r\n\r\n        window.turnstile.execute(captchaWidgetIdRef.current);\r\n    };\r\n\r\n    // --- Card actions ---\r\n    const handleDeleteCard = (id: string) => {\r\n        setCards(prev => prev.filter(c => c.id !== id));\r\n        setToast({ message: 'Card exclu├¡do', type: 'info' });\r\n        try { haptics.impact(); } catch (e) { }\r\n    };\r\n\r\n    const handleUpdateCard = (id: string, patched: Partial<Flashcard>) => {\r\n        setCards(prev => prev.map(c => c.id === id ? { ...c, ...patched } : c));\r\n        setToast({ message: 'Altera├º├Áes salvas', type: 'success' });\r\n    };\r\n\r\n    const handleToggleFavorite = (id: string) => {\r\n        setCards(prev => prev.map(c => c.id === id ? { ...c, favorite: !c.favorite } : c));\r\n    };\r\n\r\n    const handleSaveLibrary = async () => {\r\n        if (isDemo) {\r\n            openAuthGate('demo_save');\r\n            return;\r\n        }\r\n        if (cards.length === 0 || !user || isSaving) return;\r\n\r\n        if (!limits.historySaved) {\r\n            setShowUpgradeModal(true);\r\n            return;\r\n        }\r\n\r\n        setIsSaving(true);\r\n        try {\r\n            const title = deckTitle || `Deck ${new Date().toLocaleDateString()}`;\r\n            const formattedCards = cards.map(c => ({\r\n                front: c.question,\r\n                back: c.answer,\r\n                question_image_url: c.question_image_url,\r\n                answer_image_url: c.answer_image_url\r\n            }));\r\n\r\n            let tags = parseTags(deckTagsInput);\r\n            if (selectedFolder) {\r\n                if (!limits.allowFolders) {\r\n                    setShowUpgradeModal(true);\r\n                    setIsSaving(false);\r\n                    return;\r\n                }\r\n                tags = [...tags, selectedFolder];\r\n            }\r\n\r\n            const description = deckDescription.trim();\r\n            const savedDeck = await deckService.saveDeck(user.id, title, formattedCards, {\r\n                tags,\r\n                description: description || undefined\r\n            });\r\n            setSavedDeckId(savedDeck?.id || null);\r\n            setSavedDeckPublic(false);\r\n            setSaveSuccess(true);\r\n            setToast({ message: 'Baralho salvo com sucesso!', type: 'success' });\r\n            try { haptics.success(); } catch { /* silent */ }\r\n            setTimeout(() => setSaveSuccess(false), 3000);\r\n        } catch (err) {\r\n            // Build a helpful message for the user\r\n            let errMsg = 'Erro ao salvar baralho';\r\n            try {\r\n                if (err && typeof err === 'object') {\r\n                    errMsg = (err as any).message ? `Erro ao salvar baralho: ${(err as any).message}` : `${errMsg}: ${JSON.stringify(err)}`;\r\n                } else if (typeof err === 'string') {\r\n                    errMsg = `Erro ao salvar baralho: ${err}`;\r\n                }\r\n            } catch (parseErr) {\r\n                // ignore parsing errors\r\n            }\r\n\r\n            console.error('saveDeck error:', err);\r\n\r\n            // Report to Sentry (if configured) with contextual info for faster triage\r\n            try {\r\n\r\n                const Sentry = require('@sentry/nextjs');\r\n                if (Sentry && typeof Sentry.captureException === 'function') {\r\n                    Sentry.captureException(err, {\r\n                        tags: { feature: 'save-deck', flow: 'generator-client', isTauri: !!isTauri, isMobile: !!isMobile },\r\n                        extra: { deckTitle, cardsCount: cards.length, userId: (user as any)?.id }\r\n                    });\r\n                }\r\n            } catch (sentryErr) {\r\n                console.error('Sentry capture failed:', sentryErr);\r\n            }\r\n\r\n            setToast({ message: errMsg, type: 'error' });\r\n        } finally {\r\n            setIsSaving(false);\r\n        }\r\n    };\r\n\r\n    const handlePublicLink = async () => {\r\n        if (isDemo) {\r\n            openAuthGate('demo_public_link');\r\n            return;\r\n        }\r\n        if (!savedDeckId || publishingPublic) return;\r\n        setPublishingPublic(true);\r\n        try {\r\n            if (!savedDeckPublic) {\r\n                const { error } = await supabase\r\n                    .from('decks')\r\n                    .update({ is_public: true, published_at: new Date().toISOString() })\r\n                    .eq('id', savedDeckId);\r\n                if (error) throw error;\r\n                setSavedDeckPublic(true);\r\n            }\r\n\r\n            const publicUrl = `${window.location.origin}/marketplace/${savedDeckId}`;\r\n            await navigator.clipboard.writeText(publicUrl);\r\n            setToast({ message: 'Link p├║blico copiado!', type: 'success' });\r\n        } catch (err) {\r\n            console.error(err);\r\n            setToast({ message: 'Erro ao gerar link p├║blico.', type: 'error' });\r\n        } finally {\r\n            setPublishingPublic(false);\r\n        }\r\n    };\r\n\r\n    const fileInputRef = React.useRef<HTMLInputElement>(null);\r\n\r\n    const handleFileUpload = () => {\r\n        if (isDemo) {\r\n            openAuthGate('demo_file_upload');\r\n            return;\r\n        }\r\n        if (!limits.allowFile && !limits.allowOCR) {\r\n            setShowUpgradeModal(true);\r\n            return;\r\n        }\r\n        fileInputRef.current?.click();\r\n    };\r\n\r\n    const handleFileChange = async (e: React.ChangeEvent<HTMLInputElement>) => {\r\n        const files = Array.from(e.target.files || []);\r\n        if (files.length === 0) return;\r\n\r\n        const newFiles = [...uploadedFiles];\r\n        let docxCount = 0;\r\n\r\n        for (const file of files) {\r\n            const isPdf = file.type === PDF_MIME_TYPE;\r\n            const isDocx = file.type === DOCX_MIME_TYPE;\r\n            const isImage = IMAGE_MIME_TYPES.has(file.type);\r\n\r\n            if (!isPdf && !isDocx && !isImage) {\r\n                setToast({ message: `Arquivo ${file.name} ignorado. Formato inv├ílido.`, type: 'error' });\r\n                continue;\r\n            }\r\n\r\n            if (file.size > MAX_UPLOAD_BYTES) {\r\n                setToast({ message: `Arquivo ${file.name} muito grande.`, type: 'error' });\r\n                continue;\r\n            }\r\n\r\n            if (isImage && !limits.allowOCR) {\r\n                setShowUpgradeModal(true);\r\n                return;\r\n            }\r\n\r\n            if ((isPdf || isDocx) && !limits.allowFile) {\r\n                setShowUpgradeModal(true);\r\n                return;\r\n            }\r\n\r\n            if (isDocx) {\r\n                docxCount++;\r\n                setIsGenerating(true);\r\n                try {\r\n                    const mammoth = await import('mammoth');\r\n                    const arrayBuffer = await file.arrayBuffer();\r\n                    const result = await mammoth.extractRawText({ arrayBuffer });\r\n\r\n                    if (result.value.trim()) {\r\n                        setInputText(prev => prev + '\\n\\n' + result.value);\r\n                    }\r\n                } catch (err) {\r\n                    console.error('Erro ao ler arquivo:', err);\r\n                    setToast({ message: `Erro ao processar ${file.name}.`, type: 'error' });\r\n                } finally {\r\n                    setIsGenerating(false);\r\n                }\r\n            } else {\r\n                newFiles.push(file);\r\n            }\r\n        }\r\n\r\n        if (docxCount > 0) {\r\n            setToast({ message: 'Conte├║do dos arquivos DOCX extra├¡do!', type: 'success' });\r\n        }\r\n\r\n        setUploadedFiles(newFiles);\r\n\r\n        const imageCount = newFiles.filter(f => IMAGE_MIME_TYPES.has(f.type)).length;\r\n        const pdfCount = newFiles.filter(f => f.type === PDF_MIME_TYPE).length;\r\n\r\n        if (imageCount > 0 || pdfCount > 0) {\r\n            setToast({\r\n                message: `${newFiles.length} arquivo(s) anexado(s).`,\r\n                type: 'success'\r\n            });\r\n        }\r\n\r\n        if (fileInputRef.current) {\r\n            fileInputRef.current.value = '';\r\n        }\r\n    };\r\n\r\n    const handleRemoveFile = (fileToRemove: File) => {\r\n        const fileId = getFileId(fileToRemove);\r\n        setUploadedFiles((prev) => prev.filter((file) => file !== fileToRemove));\r\n        setPdfPreviews((prev) => prev.filter((preview) => preview.fileId !== fileId));\r\n        pdfDocsRef.current.delete(fileId);\r\n    };\r\n\r\n    const togglePdfPageSelection = (fileId: string, pageNumber: number) => {\r\n        setPdfPreviews((prev) =>\r\n            prev.map((preview) => {\r\n                if (preview.fileId !== fileId) return preview;\r\n                const isSelected = preview.selectedPages.includes(pageNumber);\r\n                const nextSelected = isSelected\r\n                    ? preview.selectedPages.filter((page) => page !== pageNumber)\r\n                    : [...preview.selectedPages, pageNumber];\r\n                return { ...preview, selectedPages: nextSelected.sort((a, b) => a - b) };\r\n            })\r\n        );\r\n    };\r\n\r\n    const selectAllPdfPages = (fileId: string) => {\r\n        setPdfPreviews((prev) =>\r\n            prev.map((preview) =>\r\n                preview.fileId === fileId\r\n                    ? { ...preview, selectedPages: Array.from({ length: preview.pageCount }, (_, idx) => idx + 1) }\r\n                    : preview\r\n            )\r\n        );\r\n    };\r\n\r\n    const clearPdfPages = (fileId: string) => {\r\n        setPdfPreviews((prev) =>\r\n            prev.map((preview) => (preview.fileId === fileId ? { ...preview, selectedPages: [] } : preview))\r\n        );\r\n    };\r\n\r\n    const renderAllPdfPages = (fileId: string) => {\r\n        const preview = pdfPreviews.find((item) => item.fileId === fileId);\r\n        if (!preview) return;\r\n        preview.pages\r\n            .filter((page) => !page.dataUrl && !page.isRendering)\r\n            .forEach((page) => renderPdfPage(fileId, page.pageNumber));\r\n    };\r\n\r\n    const getPdfPageSelections = () => {\r\n        const selections: Record<string, number[] | 'all'> = {};\r\n        pdfPreviews.forEach((preview) => {\r\n            if (preview.selectedPages.length === 0) {\r\n                selections[preview.fileId] = [];\r\n                return;\r\n            }\r\n            if (preview.selectedPages.length === preview.pageCount) {\r\n                selections[preview.fileId] = 'all';\r\n                return;\r\n            }\r\n            selections[preview.fileId] = preview.selectedPages;\r\n        });\r\n        return selections;\r\n    };\r\n\r\n    const parseTags = (value: string) => {\r\n        const rawTags = value\r\n            .split(',')\r\n            .map((tag) => tag.trim())\r\n            .filter(Boolean);\r\n\r\n        const seen = new Set<string>();\r\n        const normalized: string[] = [];\r\n\r\n        for (const tag of rawTags) {\r\n            const key = tag.toLowerCase();\r\n            if (!seen.has(key)) {\r\n                seen.add(key);\r\n                normalized.push(key);\r\n            }\r\n        }\r\n\r\n        return normalized.slice(0, 10);\r\n    };\r\n\r\n    const deleteCard = (id: string) => {\r\n        setCards(cards.filter(card => card.id !== id));\r\n    };\r\n\r\n    const updateCard = (id: string, field: 'question' | 'answer', value: string) => {\r\n        setCards(cards.map(card =>\r\n            card.id === id ? { ...card, [field]: value } : card\r\n        ));\r\n    };\r\n\r\n    // Drag and drop handlers for images\r\n    const handleImageDragStart = (e: React.DragEvent, cardId: string, section: 'question' | 'answer', imageUrl: string) => {\r\n        e.dataTransfer.setData('application/json', JSON.stringify({ cardId, section, imageUrl }));\r\n        e.dataTransfer.effectAllowed = 'move';\r\n        setDraggedImage({ cardId, section, imageUrl });\r\n    };\r\n\r\n    const handleImageDragEnd = () => {\r\n        setDraggedImage(null);\r\n        setDropTarget(null);\r\n    };\r\n\r\n    const handleImageDragOver = (e: React.DragEvent, cardId: string, section: 'question' | 'answer') => {\r\n        e.preventDefault();\r\n        e.dataTransfer.dropEffect = 'move';\r\n        setDropTarget({ cardId, section });\r\n    };\r\n\r\n    const handleImageDragLeave = () => {\r\n        setDropTarget(null);\r\n    };\r\n\r\n    const handleImageDrop = (e: React.DragEvent, targetCardId: string, targetSection: 'question' | 'answer') => {\r\n        e.preventDefault();\r\n        const data = e.dataTransfer.getData('application/json');\r\n        if (!data) return;\r\n\r\n        try {\r\n            const { cardId: sourceCardId, section: sourceSection, imageUrl } = JSON.parse(data);\r\n\r\n            // If dropping on the same position, do nothing\r\n            if (sourceCardId === targetCardId && sourceSection === targetSection) {\r\n                setDropTarget(null);\r\n                setDraggedImage(null);\r\n                return;\r\n            }\r\n\r\n            setCards(prevCards => {\r\n                return prevCards.map(card => {\r\n                    // Remove image from source\r\n                    if (card.id === sourceCardId) {\r\n                        if (sourceSection === 'question') {\r\n                            card = { ...card, question_image_url: null };\r\n                        } else {\r\n                            card = { ...card, answer_image_url: null };\r\n                        }\r\n                    }\r\n                    // Add image to target\r\n                    if (card.id === targetCardId) {\r\n                        if (targetSection === 'question') {\r\n                            card = { ...card, question_image_url: imageUrl };\r\n                        } else {\r\n                            card = { ...card, answer_image_url: imageUrl };\r\n                        }\r\n                    }\r\n                    return card;\r\n                });\r\n            });\r\n\r\n            setToast({ message: 'Imagem movida com sucesso!', type: 'success' });\r\n        } catch (err) {\r\n            console.error('Error parsing drag data:', err);\r\n        }\r\n\r\n        setDropTarget(null);\r\n        setDraggedImage(null);\r\n    };\r\n\r\n    const removeImage = (cardId: string, section: 'question' | 'answer') => {\r\n        setCards(prevCards => prevCards.map(card => {\r\n            if (card.id === cardId) {\r\n                if (section === 'question') {\r\n                    return { ...card, question_image_url: null };\r\n                } else {\r\n                    return { ...card, answer_image_url: null };\r\n                }\r\n            }\r\n            return card;\r\n        }));\r\n    };\r\n\r\n    const getSafeFileName = (title: string) => {\r\n        return title.toLowerCase().replace(/[^a-z0-9]+/g, '-').replace(/^-+|-+$/g, '') || 'deck';\r\n    };\r\n\r\n    const exportToApkg = async () => {\r\n        if (isDemo) {\r\n            openAuthGate('demo_export_apkg');\r\n            return;\r\n        }\r\n        if (cards.length === 0 || isExportingApkg) return;\r\n        setIsExportingApkg(true);\r\n        try {\r\n            const payload = {\r\n                title: deckTitle || `Deck ${new Date().toLocaleDateString()}`,\r\n                cards: cards.map((card) => ({\r\n                    question: card.question,\r\n                    answer: card.answer,\r\n                    question_image_url: card.question_image_url,\r\n                    answer_image_url: card.answer_image_url\r\n                }))\r\n            };\r\n            const compressedBody = gzip(JSON.stringify(payload));\r\n            const response = await fetch('/api/export/anki', {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'Content-Encoding': 'gzip'\r\n                },\r\n                body: compressedBody\r\n            });\r\n\r\n            if (!response.ok) {\r\n                const errorData = await response.json().catch(() => ({}));\r\n                throw new Error(errorData.error || 'Erro ao exportar .apkg');\r\n            }\r\n\r\n            const blob = await response.blob();\r\n            const url = URL.createObjectURL(blob);\r\n            const link = document.createElement('a');\r\n            link.href = url;\r\n            link.download = `${getSafeFileName(deckTitle || 'deck')}.apkg`;\r\n            link.click();\r\n            URL.revokeObjectURL(url);\r\n        } catch (err) {\r\n            console.error(err);\r\n            setToast({ message: 'Erro ao exportar .apkg', type: 'error' });\r\n        } finally {\r\n            setIsExportingApkg(false);\r\n        }\r\n    };\r\n\r\n    const exportToAnki = () => {\r\n        if (isDemo) {\r\n            openAuthGate('demo_export_txt');\r\n            return;\r\n        }\r\n        const content = cards.map(c => `${c.question}\\t${c.answer}`).join('\\n');\r\n        const blob = new Blob([content], { type: 'text/plain;charset=utf-8' });\r\n        const url = URL.createObjectURL(blob);\r\n        const link = document.createElement('a');\r\n        link.href = url;\r\n        link.download = `anki-deck-${Date.now()}.txt`;\r\n        link.click();\r\n        URL.revokeObjectURL(url);\r\n    };\r\n\r\n    const exportToCsv = () => {\r\n        if (isDemo) {\r\n            openAuthGate('demo_export_csv');\r\n            return;\r\n        }\r\n        const header = \"Question,Answer\\n\";\r\n        const content = cards.map(c => `\"${c.question.replace(/\"/g, '\"\"')}\",\"${c.answer.replace(/\"/g, '\"\"')}\"`).join('\\n');\r\n        const blob = new Blob([header + content], { type: 'text/csv;charset=utf-8' });\r\n        const url = URL.createObjectURL(blob);\r\n        const link = document.createElement('a');\r\n        link.href = url;\r\n        link.download = 'flashcards.csv';\r\n        link.click();\r\n        URL.revokeObjectURL(url);\r\n    };\r\n\r\n    const exportToPdf = () => {\r\n        if (isDemo) {\r\n            openAuthGate('demo_export_pdf');\r\n            return;\r\n        }\r\n        if (cards.length === 0) return;\r\n        const win = window.open('', '_blank');\r\n        if (!win) return;\r\n        const title = deckTitle || 'Flashcards';\r\n        const html = `\r\n            <html>\r\n                <head>\r\n                    <title>${title}</title>\r\n                    <style>\r\n                        body { font-family: Arial, sans-serif; padding: 24px; }\r\n                        h1 { font-size: 22px; margin-bottom: 16px; }\r\n                        .card { border: 1px solid #ddd; padding: 12px; margin-bottom: 12px; border-radius: 6px; }\r\n                        .label { font-size: 10px; text-transform: uppercase; letter-spacing: 0.1em; color: #999; }\r\n                        .value { font-size: 14px; font-weight: 600; }\r\n                    </style>\r\n                </head>\r\n                <body>\r\n                    <h1>${title}</h1>\r\n                    ${cards.map((card, index) => `\r\n                        <div class=\"card\">\r\n                            <div class=\"label\">Pergunta #${index + 1}</div>\r\n                            <div class=\"value\">${card.question}</div>\r\n                            <div class=\"label\" style=\"margin-top:8px;\">Resposta</div>\r\n                            <div class=\"value\">${card.answer}</div>\r\n                        </div>\r\n                    `).join('')}\r\n                </body>\r\n            </html>\r\n        `;\r\n        win.document.write(html);\r\n        win.document.close();\r\n        win.focus();\r\n        win.print();\r\n    };\r\n\r\n    const copyToObsidian = async () => {\r\n        if (isDemo) {\r\n            openAuthGate('demo_export_obsidian');\r\n            return;\r\n        }\r\n        if (cards.length === 0) return;\r\n        const title = deckTitle || 'Flashcards';\r\n        const md = [\r\n            '---',\r\n            `title: \"${title.replace(/\"/g, '\\\\\"')}\"`,\r\n            `tags: [flashcards]`,\r\n            '---',\r\n            '',\r\n            ...cards.flatMap((card) => [\r\n                `## ${card.question}`,\r\n                card.answer,\r\n                ''\r\n            ])\r\n        ].join('\\n');\r\n\r\n        try {\r\n            await navigator.clipboard.writeText(md);\r\n            setToast({ message: 'Copiado no formato Obsidian!', type: 'success' });\r\n        } catch {\r\n            setToast({ message: 'Falha ao copiar. Tente novamente.', type: 'error' });\r\n        }\r\n    };\r\n\r\n    const ENEM_EXAMPLE_TEXT = `No Brasil, o Exame Nacional do Ensino M├®dio (ENEM) avalia compet├¬ncias e habilidades dos estudantes ao final da educa├º├úo b├ísica. Al├®m de medir o dom├¡nio de conte├║dos, o ENEM busca avaliar a capacidade de interpretar textos, resolver problemas e aplicar conhecimentos em situa├º├Áes reais. Isso incentiva um ensino mais contextualizado e interdisciplinar. As provas incluem Linguagens, Ci├¬ncias Humanas, Ci├¬ncias da Natureza e Matem├ítica, al├®m da reda├º├úo, que exige argumenta├º├úo clara, coes├úo e proposta de interven├º├úo para um problema social.`;\r\n\r\n    const handleGenerateEnemExample = async () => {\r\n        setStudyLevel('ENEM');\r\n        setStudyGoal('Memorizar');\r\n        if (isDemo) {\r\n            trackEvent('demo_generate_click', {\r\n                is_demo: true,\r\n                char_count: ENEM_EXAMPLE_TEXT.length,\r\n                source: 'enem_example'\r\n            });\r\n            setInputText(ENEM_EXAMPLE_TEXT);\r\n            await handleGenerate(ENEM_EXAMPLE_TEXT);\r\n            return;\r\n        }\r\n        setInputText(ENEM_EXAMPLE_TEXT);\r\n        await handleGenerate(ENEM_EXAMPLE_TEXT);\r\n    };\r\n\r\n    if (isMobile) {\r\n        return (\r\n            <div className=\"flex flex-col min-h-[80vh] px-4 space-y-6 pb-32 pt-6\">\r\n                <UpgradeModal isOpen={showUpgradeModal} onClose={() => setShowUpgradeModal(false)} />\r\n                <AuthGateModal\r\n                    isOpen={showAuthGateModal}\r\n                    onClose={() => setShowAuthGateModal(false)}\r\n                    onSignupClick={() => setSignupModalAction(true)}\r\n                    onLoginClick={() => setSignupModalAction(true)}\r\n                />\r\n\r\n                <QuickSettingsSheet\r\n                    open={showMobileSettings}\r\n                    onClose={() => setShowMobileSettings(false)}\r\n                    studyLevel={studyLevel}\r\n                    onStudyLevelChange={setStudyLevel}\r\n                    studyGoal={studyGoal}\r\n                    onStudyGoalChange={setStudyGoal}\r\n                    cardStyle={cardStyle}\r\n                    onCardStyleChange={setCardStyle}\r\n                    cardCount={cardCount}\r\n                    onCardCountChange={setCardCount}\r\n                    maxCards={limits.maxCardsPerGen}\r\n                    generateImages={generateImages}\r\n                    onGenerateImagesChange={setGenerateImages}\r\n                    allowImageGeneration={limits.allowImageGeneration}\r\n                />\r\n\r\n                {/* Mobile Header / Quick Actions */}\r\n                <div className=\"flex items-center justify-between pt-6 border-b border-zinc-100 dark:border-zinc-900 pb-6\">\r\n                    <div>\r\n                        <h2 className=\"text-3xl font-black text-swiss-header uppercase tracking-tighter\">Gerar</h2>\r\n                        <p className=\"text-[10px] font-black text-brand uppercase tracking-[0.2em] mt-1\">\r\n                            {isDemo ? 'Demonstra├º├úo' : `Plano ${limits.name}`}\r\n                        </p>\r\n                    </div>\r\n                    <div className=\"flex items-center gap-2\">\r\n                        <SegmentedControl\r\n                            segments={[\r\n                                { id: 'input', label: 'Editor', icon: LayoutDashboard },\r\n                                { id: 'cards', label: 'Cards', icon: BookOpen },\r\n                            ]}\r\n                            selected={viewMode}\r\n                            onChange={(id) => setViewMode(id as 'input' | 'cards')}\r\n                            size=\"sm\"\r\n                        />\r\n                        <button\r\n                            onClick={() => setShowMobileSettings(true)}\r\n                            className=\"p-2.5 text-zinc-400 hover:text-brand transition-colors rounded-[var(--corner-card)] bg-zinc-100 dark:bg-zinc-800\"\r\n                            aria-label=\"Configura├º├Áes\"\r\n                        >\r\n                            <Settings2 className=\"w-5 h-5\" />\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n\r\n                <AnimatePresence mode=\"wait\">\r\n                    {viewMode === 'input' ? (\r\n                        <motion.div\r\n                            key=\"input-view\"\r\n                            initial={{ opacity: 0, scale: 0.98 }}\r\n                            animate={{ opacity: 1, scale: 1 }}\r\n                            exit={{ opacity: 0, scale: 1.02 }}\r\n                            className=\"space-y-8\"\r\n                        >\r\n                            <div className=\"relative group\">\r\n                                <textarea\r\n                                    id=\"content-input\"\r\n                                    aria-label=\"Campo de texto para gerar flashcards\"\r\n                                    aria-describedby=\"char-count\"\r\n                                    value={inputText}\r\n                                    onChange={(e) => setInputText(e.target.value)}\r\n                                    placeholder=\"INSIRA SEU CONTE├ÜDO AQUI...\"\r\n                                    className=\"w-full h-[50vh] bg-[var(--secondary-system-background)] border border-zinc-200 dark:border-zinc-800 p-6 text-lg font-bold tracking-tight text-swiss-header focus:border-brand outline-none transition-colors shadow-[0_4px_0_0_rgba(0,0,0,0.02)] dark:shadow-none resize-none placeholder:text-zinc-200 dark:placeholder:text-zinc-800 rounded-[var(--corner-card)]\"\r\n                                />\r\n                                <div className=\"absolute bottom-6 right-6 flex flex-col gap-2\">\r\n                                    <div id=\"char-count\" className=\"text-[10px] font-black text-zinc-300 dark:text-zinc-700 uppercase tracking-widest pointer-events-none\">{inputText.length} / {limits.maxChars}</div>\r\n                                    <button\r\n                                        onClick={() => fileInputRef.current?.click()}\r\n                                        className=\"p-4 bg-zinc-900 dark:bg-zinc-100 text-white dark:text-black rounded-sm shadow-2xl hover:scale-105 active:scale-95 transition-all ripple\"\r\n                                        aria-label=\"Importar arquivo\"\r\n                                    >\r\n                                        <FileUp className=\"w-5 h-5\" />\r\n                                    </button>\r\n\r\n                                    {isTauri && (\r\n                                        <button\r\n                                            onClick={handleTauriPick}\r\n                                            className=\"p-4 bg-zinc-700 text-white rounded-sm shadow-2xl hover:scale-105 active:scale-95 transition-all ripple\"\r\n                                            aria-label=\"Importar arquivo nativo\"\r\n                                        >\r\n                                            <FileText className=\"w-5 h-5\" />\r\n                                        </button>\r\n                                    )}\r\n\r\n                                    <button\r\n                                        onClick={() => alert('Em breve: Scanner OCR Nativo!')}\r\n                                        className=\"p-4 bg-brand text-white rounded-sm shadow-2xl hover:scale-105 active:scale-95 transition-all ripple\"\r\n                                    >\r\n                                        <Maximize2 className=\"w-5 h-5\" />\r\n                                    </button>\r\n                                </div>\r\n                                <div className=\"absolute top-6 right-6 text-[10px] font-black text-zinc-300 dark:text-zinc-700 uppercase tracking-widest pointer-events-none\">\r\n                                    {inputText.length} / {limits.maxChars}\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div role=\"status\" aria-live=\"polite\" className=\"sr-only\">{isGenerating ? 'Gerando flashcards...' : ''}</div>\r\n\r\n                            <button\r\n                                id=\"generate-button\"\r\n                                onClick={handleGenerateClick}\r\n                                disabled={isGenerating || (inputText.length < 50 && uploadedFiles.length === 0)}\r\n                                aria-label=\"Gerar flashcards\"\r\n                                aria-busy={isGenerating}\r\n                                className={`w-full min-h-[44px] py-3 rounded-sm font-black text-sm uppercase tracking-[0.3em] flex items-center justify-center gap-3 transition-all ripple ${isGenerating\r\n                                    ? 'bg-zinc-100 text-zinc-300'\r\n                                    : 'bg-brand text-white shadow-xl shadow-brand/20'\r\n                                    }`}\r\n                            >\r\n                                {isGenerating ? (\r\n                                    <>\r\n                                        <Loader2 className=\"w-5 h-5 animate-spin\" aria-hidden=\"true\" />\r\n                                        <span className=\"sr-only\">Gerando</span>\r\n                                        Gerando\r\n                                    </>\r\n                                ) : (\r\n                                    <>\r\n                                        <Sparkles className=\"w-5 h-5\" aria-hidden=\"true\" />\r\n                                        Gerar Cards\r\n                                    </>\r\n                                )}\r\n                            </button>\r\n\r\n                            {isDemo && (\r\n                                <p className=\"text-[10px] text-center text-zinc-400 font-bold uppercase tracking-wider\">\r\n                                    Iniciando no modo de teste gr├ítis\r\n                                </p>\r\n                            )}\r\n                        </motion.div>\r\n                    ) : (\r\n                        <motion.div\r\n                            key=\"cards-view\"\r\n                            initial={{ opacity: 0, x: 10 }}\r\n                            animate={{ opacity: 1, x: 0 }}\r\n                            exit={{ opacity: 0, x: -10 }}\r\n                            className=\"space-y-6\"\r\n                        >\r\n                            <div className=\"flex items-center justify-between mb-2\">\r\n                                <h3 className=\"font-black text-xl text-swiss-header uppercase tracking-tighter\">Seus Cards ({cards.length})</h3>\r\n                                {cards.length > 0 && (\r\n                                    <button\r\n                                        onClick={handleSaveLibrary}\r\n                                        className=\"text-brand text-[10px] font-black uppercase tracking-widest ripple\"\r\n                                    >\r\n                                        Salvar Tudo\r\n                                    </button>\r\n                                )}\r\n                            </div>\r\n\r\n                            {cards.length === 0 ? (\r\n                                <div className=\"flex flex-col items-center justify-center py-20 bg-[var(--secondary-system-background)] border border-zinc-200 dark:border-zinc-800 rounded-[var(--corner-card)]\">\r\n                                    <Sparkles className=\"w-12 h-12 text-zinc-200 mb-4\" />\r\n                                    <p className=\"font-black text-zinc-300 text-xs uppercase tracking-widest\">Nenhum card gerado</p>\r\n                                    <button\r\n                                        onClick={() => setViewMode('input')}\r\n                                        className=\"mt-6 px-8 py-3 bg-brand text-white rounded-sm text-[10px] font-black uppercase tracking-widest ripple\"\r\n                                    >\r\n                                        Voltar\r\n                                    </button>\r\n                                </div>\r\n                            ) : (\r\n                                <div className=\"grid grid-cols-1 gap-px bg-zinc-100 dark:bg-zinc-800 border border-zinc-100 dark:border-zinc-800 rounded-sm overflow-hidden\">\r\n                                    {cards.map((card, idx) => (\r\n                                        <EditableCard\r\n                                            key={card.id}\r\n                                            card={card}\r\n                                            idx={idx}\r\n                                            onDelete={handleDeleteCard}\r\n                                            onUpdate={(id, patched) => handleUpdateCard(id, patched)}\r\n                                            onToggleFavorite={handleToggleFavorite}\r\n                                        />\r\n                                    ))}\r\n                                </div>\r\n                            )}\r\n                        </motion.div>\r\n                    )}\r\n                </AnimatePresence>\r\n\r\n                <GeneratorActionBar\r\n                    visible={viewMode === 'cards'}\r\n                    cardCount={cards.length}\r\n                    onSave={handleSaveLibrary}\r\n                    onExport={exportToApkg}\r\n                    onRegenerate={() => handleGenerate(inputText)}\r\n                    isSaving={isSaving}\r\n                    isExporting={isExportingApkg}\r\n                    isRegenerating={isGenerating}\r\n                    saveDisabled={cards.length === 0 || isDemo}\r\n                    exportDisabled={cards.length === 0 || isDemo}\r\n                    regenerateDisabled={inputText.length < 50}\r\n                />\r\n\r\n                {\r\n                    toast && (\r\n                        <div className=\"fixed top-12 left-4 right-4 z-[100]\">\r\n                            <Toast message={toast.message} type={toast.type} onClose={() => setToast(null)} />\r\n                        </div>\r\n                    )\r\n                }\r\n            </div >\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div className=\"grid grid-cols-1 lg:grid-cols-11 xl:grid-cols-12 gap-8 items-start relative max-w-[1600px] mx-auto\">\r\n\r\n            {/* Upgrade Modal */}\r\n            {/* Upgrade Modal */}\r\n            <UpgradeModal\r\n                isOpen={showUpgradeModal}\r\n                onClose={() => setShowUpgradeModal(false)}\r\n            />\r\n\r\n            <AuthGateModal\r\n                isOpen={showAuthGateModal}\r\n                onClose={() => setShowAuthGateModal(false)}\r\n                onSignupClick={() => {\r\n                    setSignupModalAction(true);\r\n                    trackEvent('signup_start', { source: 'demo_modal' });\r\n                }}\r\n                onLoginClick={() => {\r\n                    setSignupModalAction(true);\r\n                }}\r\n                onDismiss={() => {\r\n                    if (!signupModalAction) {\r\n                        trackEvent('signup_abandoned', { source: 'demo_modal' });\r\n                    }\r\n                }}\r\n            />\r\n\r\n            {/* Coluna Esquerda: Input e Configs */}\r\n            <div className=\"lg:col-span-5 xl:col-span-4 space-y-6 lg:sticky lg:top-24\">\r\n                <div className=\"bg-white border border-border p-6 rounded-sm shadow-sm lg:sticky lg:top-24\">\r\n                    <div className=\"mb-4 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2\">\r\n                        <div className=\"flex items-center gap-2 text-[11px] font-bold text-foreground/60\">\r\n                            <span className=\"px-2 py-0.5 rounded-sm bg-gray-100\">Passo 1</span>\r\n                            <span>Fonte do conte├║do</span>\r\n                        </div>\r\n                        <div className=\"text-[11px] font-bold text-foreground/40\">Passo 2: Ajustes ÔÇó Passo 3: Revis├úo</div>\r\n                    </div>\r\n                    {isDemo && (\r\n                        <div className=\"mb-4 rounded-sm border border-amber-200 bg-amber-50 px-3 py-2 text-[11px] font-bold text-amber-800\">\r\n                            Voc├¬ est├í no modo demo ÔÇó 1 gera├º├úo/dia ÔÇó 5 cards ÔÇó 2.000 caracteres\r\n                        </div>\r\n                    )}\r\n                    <div className=\"flex items-center justify-between mb-4\">\r\n                        <div className=\"flex items-center gap-2\">\r\n                            <div className=\"bg-brand/10 p-1.5 rounded-sm\">\r\n                                <Sparkles className=\"h-4 w-4 text-brand\" />\r\n                            </div>\r\n                            <h2 className=\"text-lg font-bold text-foreground\">Fonte do Conte├║do</h2>\r\n                        </div>\r\n                        <div className={`text-[10px] font-black uppercase tracking-widest px-2 py-0.5 rounded-sm ${isDemo || currentPlan === 'free' ? 'bg-gray-100 text-foreground/40' : 'bg-brand text-white'}`}>\r\n                            {isDemo ? 'Modo Demo' : `Plano ${limits.name}`}\r\n                        </div>\r\n                    </div>\r\n\r\n\r\n                    <div className=\"space-y-4\">\r\n                        <details>\r\n                            <summary className=\"cursor-pointer select-none px-3 py-2 rounded-sm border border-border bg-white text-[11px] font-bold text-foreground/70 hover:border-brand/40\">\r\n                                Templates r├ípidos\r\n                            </summary>\r\n                            <div className=\"mt-3 flex flex-wrap gap-2\">\r\n                                {TEMPLATE_OPTIONS.map((template) => (\r\n                                    <button\r\n                                        key={template.key}\r\n                                        type=\"button\"\r\n                                        onClick={() => handleTemplateSelect(template.key, template.placeholder)}\r\n                                        className={`px-3 py-1.5 rounded-sm text-[11px] font-bold border transition-all ${templateType === template.key ? 'bg-brand text-white border-brand' : 'bg-white border-border text-foreground/60 hover:border-brand/40'}`}\r\n                                    >\r\n                                        {template.label}\r\n                                    </button>\r\n                                ))}\r\n                            </div>\r\n                        </details>\r\n\r\n                        {recentTexts.length > 0 && (\r\n                            <div>\r\n                                <div className=\"text-[10px] font-bold uppercase tracking-wider text-foreground/40 mb-2\">Conte├║dos recentes</div>\r\n                                <div className=\"flex flex-col gap-2\">\r\n                                    {recentTexts.map((item, index) => (\r\n                                        <button\r\n                                            key={`${item.slice(0, 20)}-${index}`}\r\n                                            type=\"button\"\r\n                                            onClick={() => setInputText(item)}\r\n                                            className=\"text-left text-[11px] font-bold text-foreground/60 bg-gray-50 border border-border rounded-sm px-3 py-2 hover:border-brand/40\"\r\n                                        >\r\n                                            {item.slice(0, 120)}{item.length > 120 ? '...' : ''}\r\n                                        </button>\r\n                                    ))}\r\n                                </div>\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n\r\n                    <div className=\"relative mt-4\">\r\n                        <input\r\n                            id=\"file-upload\"\r\n                            type=\"file\"\r\n                            ref={fileInputRef}\r\n                            onChange={handleFileChange}\r\n                            accept={fileAccept}\r\n                            aria-label=\"Selecionar arquivos (PDF, imagens)\"\r\n                            className=\"hidden\"\r\n                        />\r\n                        <label htmlFor=\"content-input\" className=\"sr-only\">Conte├║do para Flashcards</label>\r\n                        <textarea\r\n                            id=\"content-input\"\r\n                            value={inputText}\r\n                            onChange={(e) => {\r\n                                const next = e.target.value;\r\n                                if (isDemo && !demoInputStarted && next.trim().length > 0) {\r\n                                    setDemoInputStarted(true);\r\n                                    trackEvent('demo_input_started', { is_demo: true, char_count: next.length });\r\n                                }\r\n                                setInputText(next);\r\n                            }}\r\n                            placeholder=\"Cole seu texto, resumo ou notas aqui...\"\r\n                            className={`w-full h-80 p-4 pb-16 bg-gray-50 border rounded-sm focus:ring-1 outline-none transition-all resize-none font-medium text-foreground/80 placeholder:text-foreground/30 ${error ? 'border-red-500 focus:ring-red-500 bg-red-50/10' : 'border-border focus:ring-brand focus:border-brand'\r\n                                }`}\r\n                        />\r\n\r\n                        {/* Status bar inside textarea */}\r\n                        <div className=\"absolute bottom-4 left-4 right-4 flex flex-col sm:flex-row sm:items-center items-start sm:justify-between gap-2 text-[11px] font-bold\">\r\n                            <button\r\n                                onClick={handleFileUpload}\r\n                                className=\"flex items-center gap-1.5 text-brand hover:underline\"\r\n                            >\r\n                                <FileUp className=\"h-3.5 w-3.5\" />\r\n                                {uploadLabel}\r\n                            </button>\r\n                            <span className={error ? 'text-red-500 animate-pulse' : 'text-foreground/40'}>\r\n                                {inputText.length} / {limits.maxChars}\r\n                            </span>\r\n                        </div>\r\n                    </div>\r\n\r\n                    {uploadedFiles.length > 0 && (\r\n                        <div className=\"mt-3 space-y-2\">\r\n                            {uploadedFiles.map((file, idx) => (\r\n                                <div key={`${file.name}-${idx}`} className=\"flex items-center justify-between text-xs font-bold bg-gray-50 border border-border rounded-sm px-3 py-2\">\r\n                                    <div className=\"flex items-center gap-2 min-w-0\">\r\n                                        <span className=\"text-brand\">Anexo {idx + 1}:</span>\r\n                                        <span className=\"truncate text-foreground/70\">{file.name}</span>\r\n                                    </div>\r\n                                    <button\r\n                                        type=\"button\"\r\n                                        onClick={() => handleRemoveFile(file)}\r\n                                        className=\"text-[10px] uppercase tracking-wider text-foreground/40 hover:text-brand transition-colors\"\r\n                                    >\r\n                                        Remover\r\n                                    </button>\r\n                                </div>\r\n                            ))}\r\n\r\n                            {pdfPreviews.length > 0 && (\r\n                                <div className=\"space-y-4 mt-4\">\r\n                                    {pdfPreviews.map((preview) => {\r\n                                        const isAllSelected = preview.selectedPages.length === preview.pageCount;\r\n                                        return (\r\n                                            <div key={preview.fileId} className=\"border border-border rounded-sm p-4 bg-white\">\r\n                                                <div className=\"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3\">\r\n                                                    <div className=\"flex items-center gap-2\">\r\n                                                        <div className=\"bg-brand/10 text-brand p-2 rounded-sm\">\r\n                                                            <FileText className=\"h-4 w-4\" />\r\n                                                        </div>\r\n                                                        <div>\r\n                                                            <p className=\"text-xs font-bold text-foreground\">Pr├®via do PDF</p>\r\n                                                            <p className=\"text-[11px] text-foreground/60 font-medium truncate max-w-xs\">{preview.fileName}</p>\r\n                                                        </div>\r\n                                                    </div>\r\n                                                    <div className=\"flex flex-wrap gap-2\">\r\n                                                        <button\r\n                                                            type=\"button\"\r\n                                                            onClick={() => selectAllPdfPages(preview.fileId)}\r\n                                                            className={`px-3 py-1 rounded-sm text-[10px] font-bold border transition-all ${isAllSelected ? 'bg-brand text-white border-brand' : 'bg-gray-50 text-foreground/70 border-border hover:border-brand/40'}`}\r\n                                                        >\r\n                                                            Selecionar todas\r\n                                                        </button>\r\n                                                        <button\r\n                                                            type=\"button\"\r\n                                                            onClick={() => clearPdfPages(preview.fileId)}\r\n                                                            className=\"px-3 py-1 rounded-sm text-[10px] font-bold border bg-gray-50 text-foreground/60 border-border hover:border-brand/40\"\r\n                                                        >\r\n                                                            Limpar sele├º├úo\r\n                                                        </button>\r\n                                                        <button\r\n                                                            type=\"button\"\r\n                                                            onClick={() => renderAllPdfPages(preview.fileId)}\r\n                                                            className=\"px-3 py-1 rounded-sm text-[10px] font-bold border bg-gray-50 text-foreground/60 border-border hover:border-brand/40\"\r\n                                                        >\r\n                                                            Carregar pr├®vias\r\n                                                        </button>\r\n                                                    </div>\r\n                                                </div>\r\n\r\n                                                <p className=\"mt-3 text-[10px] font-bold text-foreground/40\">\r\n                                                    Pr├®via r├ípida carrega s├│ as {PDF_PREVIEW_INITIAL_PAGES} primeiras p├íginas para acelerar.\r\n                                                </p>\r\n\r\n                                                {preview.isLoading && (\r\n                                                    <div className=\"mt-4 flex items-center gap-2 text-xs text-foreground/60\">\r\n                                                        <Loader2 className=\"h-4 w-4 animate-spin\" />\r\n                                                        Carregando p├íginas...\r\n                                                    </div>\r\n                                                )}\r\n\r\n                                                {preview.error && (\r\n                                                    <div className=\"mt-4 text-xs font-bold text-red-500\">{preview.error}</div>\r\n                                                )}\r\n\r\n                                                {!preview.isLoading && !preview.error && (\r\n                                                    <div className=\"mt-4 grid grid-cols-2 sm:grid-cols-4 lg:grid-cols-5 gap-3\">\r\n                                                        {preview.pages.map((page) => {\r\n                                                            const selected = preview.selectedPages.includes(page.pageNumber);\r\n                                                            return (\r\n                                                                <button\r\n                                                                    key={`${preview.fileId}-${page.pageNumber}`}\r\n                                                                    type=\"button\"\r\n                                                                    onClick={() => {\r\n                                                                        togglePdfPageSelection(preview.fileId, page.pageNumber);\r\n                                                                        if (!page.dataUrl && !page.isRendering) {\r\n                                                                            renderPdfPage(preview.fileId, page.pageNumber);\r\n                                                                        }\r\n                                                                    }}\r\n                                                                    className={`relative border rounded-sm overflow-hidden transition-all ${selected ? 'border-brand ring-2 ring-brand/30' : 'border-border hover:border-brand/40'}`}\r\n                                                                >\r\n                                                                    {page.dataUrl ? (\r\n                                                                        <img\r\n                                                                            src={page.dataUrl}\r\n                                                                            alt={`P├ígina ${page.pageNumber}`}\r\n                                                                            className=\"w-full h-auto object-cover\"\r\n                                                                        />\r\n                                                                    ) : (\r\n                                                                        <div className=\"flex flex-col items-center justify-center bg-gray-50 text-foreground/60 text-[10px] font-bold h-36\">\r\n                                                                            {page.isRendering ? (\r\n                                                                                <Loader2 className=\"h-4 w-4 animate-spin\" />\r\n                                                                            ) : (\r\n                                                                                <span>Pr├®via r├ípida</span>\r\n                                                                            )}\r\n                                                                            <span className=\"mt-1\">P├ígina {page.pageNumber}</span>\r\n                                                                        </div>\r\n                                                                    )}\r\n                                                                    <div className=\"absolute inset-x-0 bottom-0 bg-white/90 text-[10px] font-bold text-foreground/70 px-2 py-1 flex items-center justify-between\">\r\n                                                                        <span>P├ígina {page.pageNumber}</span>\r\n                                                                        {selected && <Check className=\"h-3 w-3 text-brand\" />}\r\n                                                                    </div>\r\n                                                                </button>\r\n                                                            );\r\n                                                        })}\r\n                                                    </div>\r\n                                                )}\r\n                                            </div>\r\n                                        );\r\n                                    })}\r\n                                </div>\r\n                            )}\r\n                        </div>\r\n                    )}\r\n\r\n                    {error && (\r\n                        <div className=\"mt-3 flex items-center gap-2 text-red-500 text-xs font-bold bg-red-50 p-2 border border-red-100 rounded-sm\">\r\n                            <AlertCircle className=\"h-4 w-4\" />\r\n                            {error}\r\n                            <button\r\n                                onClick={() => (isDemo ? openAuthGate('demo_limit') : setShowUpgradeModal(true))}\r\n                                className=\"ml-auto underline\"\r\n                            >\r\n                                {isDemo ? 'Criar conta' : 'Upgrade'}\r\n                            </button>\r\n                        </div>\r\n                    )}\r\n\r\n                    {captchaRequired && (\r\n                        <div className=\"mt-3 flex flex-col sm:flex-row sm:items-center gap-2 text-amber-700 text-xs font-bold bg-amber-50 p-2 border border-amber-100 rounded-sm\">\r\n                            <span>Verifica├º├úo necess├íria para continuar no demo.</span>\r\n                            <button\r\n                                onClick={handleCaptchaRetry}\r\n                                className=\"sm:ml-auto underline text-amber-700\"\r\n                            >\r\n                                Verificar e tentar novamente\r\n                            </button>\r\n                            <div ref={captchaContainerRef} className=\"hidden\" />\r\n                        </div>\r\n                    )}\r\n\r\n                    <div className=\"mt-6\">\r\n                        <div className=\"text-[10px] font-bold uppercase tracking-wider text-foreground/40 mb-2\">Passo 2 ÔÇó Ajustes principais</div>\r\n                        <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-4\">\r\n                            <div>\r\n                                <label htmlFor=\"study-level\" className=\"text-[10px] font-bold uppercase tracking-wider text-foreground/40 mb-1.5 block\">N├¡vel</label>\r\n                                <div className=\"relative text-foreground\">\r\n                                    <select\r\n                                        id=\"study-level\"\r\n                                        value={studyLevel}\r\n                                        onChange={(event) => setStudyLevel(event.target.value as typeof studyLevel)}\r\n                                        className=\"w-full appearance-none bg-gray-50 border border-border px-3 py-2 rounded-sm text-sm font-bold focus:ring-1 focus:ring-brand outline-none pr-8 cursor-pointer\"\r\n                                    >\r\n                                        <option value=\"ENEM\">ENEM</option>\r\n                                        <option value=\"Faculdade\">Faculdade</option>\r\n                                        <option value=\"Concurso\">Concurso</option>\r\n                                    </select>\r\n                                    <ChevronDown className=\"absolute right-2 top-1/2 -translate-y-1/2 h-4 w-4 text-foreground/30 pointer-events-none\" />\r\n                                </div>\r\n                            </div>\r\n                            <div>\r\n                                <label htmlFor=\"study-goal\" className=\"text-[10px] font-bold uppercase tracking-wider text-foreground/40 mb-1.5 block\">Objetivo</label>\r\n                                <div className=\"relative text-foreground\">\r\n                                    <select\r\n                                        id=\"study-goal\"\r\n                                        value={studyGoal}\r\n                                        onChange={(event) => setStudyGoal(event.target.value as typeof studyGoal)}\r\n                                        className=\"w-full appearance-none bg-gray-50 border border-border px-3 py-2 rounded-sm text-sm font-bold focus:ring-1 focus:ring-brand outline-none pr-8 cursor-pointer\"\r\n                                    >\r\n                                        <option value=\"Memorizar\">Memorizar</option>\r\n                                        <option value=\"Revisar r├ípido\">Revisar r├ípido</option>\r\n                                        <option value=\"Aprofundar\">Aprofundar</option>\r\n                                    </select>\r\n                                    <ChevronDown className=\"absolute right-2 top-1/2 -translate-y-1/2 h-4 w-4 text-foreground/30 pointer-events-none\" />\r\n                                </div>\r\n                            </div>\r\n                            <div>\r\n                                <label htmlFor=\"card-style\" className=\"text-[10px] font-bold uppercase tracking-wider text-foreground/40 mb-1.5 block\">Estilo do card</label>\r\n                                <div className=\"relative text-foreground\">\r\n                                    <select\r\n                                        id=\"card-style\"\r\n                                        value={cardStyle}\r\n                                        onChange={(event) => setCardStyle(event.target.value as typeof cardStyle)}\r\n                                        className=\"w-full appearance-none bg-gray-50 border border-border px-3 py-2 rounded-sm text-sm font-bold focus:ring-1 focus:ring-brand outline-none pr-8 cursor-pointer\"\r\n                                    >\r\n                                        <option value=\"basic\">Pergunta e resposta</option>\r\n                                        <option value=\"short_answer\">Resposta curta</option>\r\n                                        <option value=\"image_occlusion\">Oclus├úo (imagem)</option>\r\n                                    </select>\r\n                                    <ChevronDown className=\"absolute right-2 top-1/2 -translate-y-1/2 h-4 w-4 text-foreground/30 pointer-events-none\" />\r\n                                </div>\r\n                            </div>\r\n                            <div>\r\n                                <label htmlFor=\"card-count\" className=\"text-[10px] font-bold uppercase tracking-wider text-foreground/40 mb-1.5 block\">Qtd. de Cards {limits.customCardCount ? '' : '(Limite)'}</label>\r\n                                <div className=\"relative text-foreground\">\r\n                                    {limits.customCardCount && !isDemo ? (\r\n                                        <input\r\n                                            id=\"card-count\"\r\n                                            type=\"number\"\r\n                                            min={1}\r\n                                            max={limits.maxCardsPerGen}\r\n                                            value={cardCount}\r\n                                            onChange={(e) => setCardCount(Math.max(1, Math.min(limits.maxCardsPerGen, parseInt(e.target.value) || 1)))}\r\n                                            className=\"w-full bg-gray-50 border border-border px-3 py-2 rounded-sm text-sm font-bold focus:ring-1 focus:ring-brand outline-none cursor-pointer\"\r\n                                        />\r\n                                    ) : (\r\n                                        <div className=\"w-full bg-gray-100 border border-border px-3 py-2 rounded-sm text-sm font-bold text-foreground/40 flex items-center justify-between\">\r\n                                            <span>{limits.maxCardsPerGen} cards</span>\r\n                                            <button\r\n                                                onClick={() => (isDemo ? openAuthGate('demo_card_limit') : setShowUpgradeModal(true))}\r\n                                                className=\"text-[10px] text-brand underline hover:text-brand/80\"\r\n                                            >\r\n                                                {isDemo ? 'Criar conta' : 'Upgrade'}\r\n                                            </button>\r\n                                        </div>\r\n                                    )}\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <details className=\"mt-4 border border-border rounded-sm bg-gray-50\">\r\n                        <summary className=\"cursor-pointer select-none px-3 py-2 text-xs font-bold text-foreground/60\">\r\n                            Configura├º├Áes avan├ºadas\r\n                        </summary>\r\n                        <div className=\"px-3 pb-3 space-y-4\">\r\n                            <div>\r\n                                <label htmlFor=\"difficulty-select\" className=\"text-[10px] font-bold uppercase tracking-wider text-foreground/40 mb-1.5 block\">N├¡vel de Dificuldade</label>\r\n                                <div className=\"relative text-foreground\">\r\n                                    <select\r\n                                        id=\"difficulty-select\"\r\n                                        value={difficulty}\r\n                                        onChange={(event) => setDifficulty(event.target.value)}\r\n                                        className=\"w-full appearance-none bg-white border border-border px-3 py-2 rounded-sm text-sm font-bold focus:ring-1 focus:ring-brand outline-none pr-8 cursor-pointer\"\r\n                                    >\r\n                                        <option value=\"Iniciante\">Iniciante</option>\r\n                                        <option value=\"Intermedi├írio\">Intermedi├írio</option>\r\n                                        <option value=\"Avan├ºado\">Avan├ºado</option>\r\n                                    </select>\r\n                                    <ChevronDown className=\"absolute right-2 top-1/2 -translate-y-1/2 h-4 w-4 text-foreground/30 pointer-events-none\" />\r\n                                </div>\r\n                            </div>\r\n                            <div>\r\n                                <label htmlFor=\"language-select\" className=\"text-[10px] font-bold uppercase tracking-wider text-foreground/40 mb-1.5 block\">Idioma do Deck</label>\r\n                                <div className=\"relative text-foreground\">\r\n                                    <select\r\n                                        id=\"language-select\"\r\n                                        value={language}\r\n                                        onChange={(event) => setLanguage(event.target.value)}\r\n                                        className=\"w-full appearance-none bg-white border border-border px-3 py-2 rounded-sm text-sm font-bold focus:ring-1 focus:ring-brand outline-none pr-8 cursor-pointer\"\r\n                                    >\r\n                                        <option value=\"Portugu├¬s\">Portugu├¬s</option>\r\n                                        <option value=\"Ingl├¬s\">Ingl├¬s</option>\r\n                                        <option value=\"Espanhol\">Espanhol</option>\r\n                                    </select>\r\n                                    <ChevronDown className=\"absolute right-2 top-1/2 -translate-y-1/2 h-4 w-4 text-foreground/30 pointer-events-none\" />\r\n                                </div>\r\n                            </div>\r\n                            <div>\r\n                                <div className={`flex items-center justify-between gap-3 border rounded-sm px-3 py-2 ${limits.allowImageGeneration ? 'bg-white border-border' : 'bg-gray-100 border-border/60'}`}>\r\n                                    <label className={`flex items-center gap-3 text-xs font-bold ${limits.allowImageGeneration ? 'text-foreground' : 'text-foreground/40'}`}>\r\n                                        <input\r\n                                            type=\"checkbox\"\r\n                                            checked={generateImages}\r\n                                            onChange={handleToggleImageGeneration}\r\n                                            className=\"h-4 w-4 accent-brand\"\r\n                                            aria-disabled={!limits.allowImageGeneration}\r\n                                        />\r\n                                        Gerar imagens para os cards\r\n                                    </label>\r\n                                    <span className={`text-[10px] font-black uppercase tracking-widest px-2 py-1 rounded-sm ${limits.allowImageGeneration ? 'bg-brand/10 text-brand' : 'bg-gray-200 text-foreground/40'}`}>\r\n                                        Ultimate\r\n                                    </span>\r\n                                </div>\r\n                                {generateImages && limits.allowImageGeneration && (\r\n                                    <div className=\"mt-3 flex items-center gap-3\">\r\n                                        <label className=\"text-[10px] font-bold uppercase tracking-wider text-foreground/40\">\r\n                                            Quantidade de imagens:\r\n                                        </label>\r\n                                        <select\r\n                                            value={imageCount}\r\n                                            onChange={(e) => setImageCount(Number(e.target.value))}\r\n                                            className=\"appearance-none bg-white border border-border px-3 py-1.5 rounded-sm text-sm font-bold focus:ring-1 focus:ring-brand outline-none cursor-pointer\"\r\n                                        >\r\n                                            {Array.from({ length: limits.maxImageCardsPerGen }, (_, i) => i + 1).map((num) => (\r\n                                                <option key={num} value={num}>{num}</option>\r\n                                            ))}\r\n                                        </select>\r\n                                    </div>\r\n                                )}\r\n                                <p className=\"text-[10px] text-foreground/40 mt-2\">\r\n                                    {limits.allowImageGeneration\r\n                                        ? `Ate ${limits.maxImageCardsPerGen} imagens por geracao.`\r\n                                        : 'Disponivel no Ultimate.'}\r\n                                </p>\r\n                                {generateImages && limits.allowImageGeneration && (\r\n                                    <div className=\"mt-3 p-3 bg-amber-50 border border-amber-200 rounded-sm\">\r\n                                        <p className=\"text-[11px] text-amber-800 font-medium leading-relaxed\">\r\n                                            <span className=\"font-bold\">ÔÜí Recurso Premium:</span> A gera├º├úo de imagens por IA utiliza tecnologia avan├ºada (DALL-E 3) com custo elevado por imagem.\r\n                                            Use de forma consciente, priorizando cards que realmente se beneficiam de recursos visuais, como diagramas, anatomia, mapas e conceitos abstratos.\r\n                                        </p>\r\n                                    </div>\r\n                                )}\r\n                            </div>\r\n                            <div className={`flex items-center justify-between gap-3 border rounded-sm px-3 py-2 ${limits.allowEnemMode ? 'bg-white border-border' : 'bg-gray-100 border-border/60'}`}>\r\n                                <label className={`flex items-center gap-3 text-xs font-bold ${limits.allowEnemMode ? 'text-foreground' : 'text-foreground/40'}`}>\r\n                                    <input\r\n                                        type=\"checkbox\"\r\n                                        checked={enemMode}\r\n                                        onChange={() => {\r\n                                            if (!limits.allowEnemMode) {\r\n                                                setShowUpgradeModal(true);\r\n                                                return;\r\n                                            }\r\n                                            setEnemMode(!enemMode);\r\n                                        }}\r\n                                        className=\"h-4 w-4 accent-brand\"\r\n                                        disabled={!limits.allowEnemMode}\r\n                                    />\r\n                                    Ativar Modo ENEM (Conceito + Pegadinha + Exemplo)\r\n                                </label>\r\n                                <span className={`text-[10px] font-black uppercase tracking-widest px-2 py-1 rounded-sm ${limits.allowEnemMode ? 'bg-brand/10 text-brand' : 'bg-gray-200 text-foreground/40'}`}>\r\n                                    Pro\r\n                                </span>\r\n                            </div>\r\n                        </div>\r\n                    </details>\r\n\r\n                    <button\r\n                        onClick={handleGenerateEnemExample}\r\n                        disabled={isGenerating}\r\n                        className=\"w-full mt-3 py-3 rounded-sm font-bold text-foreground transition-all flex items-center justify-center gap-2 border border-border bg-white hover:bg-gray-50\"\r\n                    >\r\n                        <Sparkles className=\"h-4 w-4 text-brand\" />\r\n                        Testar com um exemplo pronto (ENEM)\r\n                    </button>\r\n\r\n                    <button\r\n                        onClick={handleGenerateClick}\r\n                        disabled={isGenerating || !!error || (!inputText.trim() && uploadedFiles.length === 0)}\r\n                        className={`w-full mt-8 py-4 rounded-sm font-bold text-white transition-all flex items-center justify-center gap-2 shadow-lg ${isGenerating || !!error || (!inputText.trim() && uploadedFiles.length === 0)\r\n                            ? 'bg-gray-200 cursor-not-allowed text-gray-400 shadow-none'\r\n                            : 'bg-brand hover:bg-brand/90'\r\n                            }`}\r\n                    >\r\n                        {isGenerating ? (\r\n                            <>\r\n                                <Loader2 className=\"h-5 w-5 animate-spin\" />\r\n                                Processando...\r\n                            </>\r\n                        ) : (\r\n                            <>\r\n                                <Sparkles className=\"h-5 w-5\" />\r\n                                Gerar Flashcards Bons\r\n                            </>\r\n                        )}\r\n                    </button>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Coluna Direita: Preview dos Cards */}\r\n            <div className=\"lg:col-span-7 space-y-6\">\r\n                <div className=\"space-y-3\">\r\n                    <div className=\"flex items-center gap-2\">\r\n                        <label htmlFor=\"deck-title-input\" className=\"sr-only\">Nome do Baralho</label>\r\n                        <input\r\n                            id=\"deck-title-input\"\r\n                            type=\"text\"\r\n                            value={deckTitle}\r\n                            onChange={(e) => setDeckTitle(e.target.value)}\r\n                            className=\"text-xl font-bold tracking-tight text-foreground bg-transparent border-b border-dashed border-gray-300 focus:border-brand outline-none w-full max-w-sm placeholder:text-gray-400 pb-1\"\r\n                            placeholder=\"Nome do seu baralho...\"\r\n                        />\r\n                        {cards.length > 0 ? (\r\n                            <span className=\"text-brand font-bold text-lg\">({cards.length})</span>\r\n                        ) : (\r\n                            <span className=\"text-foreground/40 text-sm font-bold\">Preview dos cards</span>\r\n                        )}\r\n                    </div>\r\n                    {cards.length > 0 && (\r\n                        <div className=\"flex flex-col sm:flex-row flex-wrap gap-2\">\r\n                            <button\r\n                                onClick={handleSaveLibrary}\r\n                                disabled={isSaving || saveSuccess}\r\n                                className={`w-full sm:w-auto flex items-center justify-center gap-2 border px-4 py-2 rounded-sm text-xs font-bold transition-all ${saveSuccess ? 'bg-green-50 border-green-200 text-green-600' : 'bg-white border-border hover:bg-gray-50 hover:border-brand/40 text-foreground shadow-sm hover:shadow-md'\r\n                                    }`}\r\n                            >\r\n                                {isSaving ? <Loader2 className=\"h-4 w-4 animate-spin\" /> : saveSuccess ? <Check className=\"h-4 w-4\" /> : <Library className=\"h-4 w-4 text-brand\" />}\r\n                                {saveSuccess ? 'Salvo!' : 'Salvar na Biblioteca'}\r\n                            </button>\r\n                            <button\r\n                                onClick={exportToApkg}\r\n                                disabled={isExportingApkg}\r\n                                className=\"w-full sm:w-auto flex items-center justify-center gap-2 bg-white border border-border px-4 py-2 rounded-sm text-xs font-bold hover:bg-gray-50 hover:border-brand/40 transition-all text-foreground shadow-sm hover:shadow-md disabled:opacity-60 disabled:cursor-not-allowed\"\r\n                            >\r\n                                {isExportingApkg ? <Loader2 className=\"h-4 w-4 animate-spin\" /> : <FileDown className=\"h-4 w-4 text-brand\" />}\r\n                                Anki (.apkg)\r\n                            </button>\r\n                            <button\r\n                                onClick={exportToAnki}\r\n                                className=\"w-full sm:w-auto flex items-center justify-center gap-2 bg-white border border-border px-4 py-2 rounded-sm text-xs font-bold hover:bg-gray-50 hover:border-brand/40 transition-all text-foreground shadow-sm hover:shadow-md\"\r\n                            >\r\n                                <FileDown className=\"h-4 w-4 text-brand\" />\r\n                                Anki (.txt)\r\n                            </button>\r\n                            <button\r\n                                onClick={exportToCsv}\r\n                                className=\"w-full sm:w-auto flex items-center justify-center gap-2 bg-white border border-border px-4 py-2 rounded-sm text-xs font-bold hover:bg-gray-50 hover:border-brand/40 transition-all text-foreground shadow-sm hover:shadow-md\"\r\n                            >\r\n                                <Download className=\"h-4 w-4 text-brand\" />\r\n                                CSV\r\n                            </button>\r\n                            <button\r\n                                onClick={exportToPdf}\r\n                                className=\"w-full sm:w-auto flex items-center justify-center gap-2 bg-white border border-border px-4 py-2 rounded-sm text-xs font-bold hover:bg-gray-50 hover:border-brand/40 transition-all text-foreground shadow-sm hover:shadow-md\"\r\n                            >\r\n                                <Download className=\"h-4 w-4 text-brand\" />\r\n                                PDF\r\n                            </button>\r\n                            <button\r\n                                onClick={copyToObsidian}\r\n                                className=\"w-full sm:w-auto flex items-center justify-center gap-2 bg-white border border-border px-4 py-2 rounded-sm text-xs font-bold hover:bg-gray-50 hover:border-brand/40 transition-all text-foreground shadow-sm hover:shadow-md\"\r\n                            >\r\n                                <Download className=\"h-4 w-4 text-brand\" />\r\n                                Obsidian\r\n                            </button>\r\n                            {savedDeckId && (\r\n                                <button\r\n                                    onClick={handlePublicLink}\r\n                                    disabled={publishingPublic}\r\n                                    className=\"w-full sm:w-auto flex items-center justify-center gap-2 bg-brand text-white border border-brand px-4 py-2 rounded-sm text-xs font-bold hover:bg-brand/90 transition-all shadow-sm disabled:opacity-60\"\r\n                                >\r\n                                    {publishingPublic ? <Loader2 className=\"h-4 w-4 animate-spin\" /> : <Globe className=\"h-4 w-4\" />}\r\n                                    Gerar link p├║blico\r\n                                </button>\r\n                            )}\r\n                        </div>\r\n                    )}\r\n                </div>\r\n\r\n                {cards.length > 0 && (\r\n                    <div className=\"bg-white border border-border rounded-sm p-4 shadow-sm space-y-4\">\r\n                        <div className=\"space-y-1\">\r\n                            <label htmlFor=\"deck-description\" className=\"text-[10px] font-bold uppercase tracking-wider text-foreground/40\">\r\n                                Descri├º├úo (opcional)\r\n                            </label>\r\n                            <textarea\r\n                                id=\"deck-description\"\r\n                                value={deckDescription}\r\n                                onChange={(event) => setDeckDescription(event.target.value)}\r\n                                rows={2}\r\n                                className=\"w-full bg-gray-50 border border-border rounded-sm px-3 py-2 text-sm font-medium text-foreground/80 focus:ring-1 focus:ring-brand outline-none resize-none\"\r\n                                placeholder=\"Sobre o que ├® este baralho?\"\r\n                            />\r\n                        </div>\r\n                        <div className=\"space-y-1\">\r\n                            <label htmlFor=\"deck-folder\" className=\"text-[10px] font-bold uppercase tracking-wider text-foreground/40\">\r\n                                Pasta / Mat├®ria {limits.allowFolders ? '' : '(Pro)'}\r\n                            </label>\r\n                            <div className=\"relative\">\r\n                                <select\r\n                                    id=\"deck-folder\"\r\n                                    value={selectedFolder}\r\n                                    onChange={(e) => {\r\n                                        if (!limits.allowFolders) {\r\n                                            setShowUpgradeModal(true);\r\n                                            return;\r\n                                        }\r\n                                        setSelectedFolder(e.target.value);\r\n                                    }}\r\n                                    className={`w-full appearance-none bg-gray-50 border border-border px-3 py-2 rounded-sm text-sm font-bold focus:ring-1 focus:ring-brand outline-none pr-8 cursor-pointer ${!limits.allowFolders ? 'opacity-50' : ''}`}\r\n                                    disabled={!limits.allowFolders}\r\n                                >\r\n                                    <option value=\"\">Selecione uma pasta...</option>\r\n                                    {FOLDERS.map(f => (\r\n                                        <option key={f} value={f}>{f}</option>\r\n                                    ))}\r\n                                </select>\r\n                                <ChevronDown className=\"absolute right-2 top-1/2 -translate-y-1/2 h-4 w-4 text-foreground/30 pointer-events-none\" />\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"space-y-1\">\r\n                            <label htmlFor=\"deck-tags\" className=\"text-[10px] font-bold uppercase tracking-wider text-foreground/40\">\r\n                                Tags (separadas por v├¡rgulas)\r\n                            </label>\r\n                            <input\r\n                                id=\"deck-tags\"\r\n                                type=\"text\"\r\n                                value={deckTagsInput}\r\n                                onChange={(event) => setDeckTagsInput(event.target.value)}\r\n                                className=\"w-full bg-gray-50 border border-border rounded-sm px-3 py-2 text-sm font-medium text-foreground/80 focus:ring-1 focus:ring-brand outline-none\"\r\n                                placeholder=\"ex: biologia, enem, citologia\"\r\n                            />\r\n                        </div>\r\n                    </div>\r\n                )}\r\n\r\n                {cards.length === 0 ? (\r\n                    <div className=\"border-2 border-dashed border-border rounded-sm py-20 sm:py-32 flex flex-col items-center justify-center text-center px-4 bg-white/50\">\r\n                        <div className=\"bg-gray-100 p-4 rounded-full mb-4\">\r\n                            <Plus className=\"h-8 w-8 text-foreground/20\" />\r\n                        </div>\r\n                        <p className=\"text-foreground/40 font-bold max-w-xs\">\r\n                            Nenhum card gerado ainda. Cole seu texto ao lado para come├ºar.\r\n                        </p>\r\n                    </div>\r\n                ) : (\r\n                    <div className=\"grid grid-cols-1 gap-px bg-zinc-100 dark:bg-zinc-800 border border-zinc-100 dark:border-zinc-800 rounded-sm overflow-hidden\">\r\n                        {cards.map((card, index) => (\r\n                            <div key={card.id} className=\"group bg-white dark:bg-zinc-950 p-8 relative transition-colors hover:bg-zinc-50 dark:hover:bg-zinc-900\">\r\n                                <div className=\"absolute top-4 right-4 opacity-0 group-hover:opacity-100 transition-opacity flex gap-1 z-10\">\r\n                                    <button\r\n                                        onClick={() => deleteCard(card.id)}\r\n                                        className=\"p-1.5 text-foreground/30 hover:text-red-500 hover:bg-red-50 rounded-sm transition-colors\"\r\n                                    >\r\n                                        <Trash2 className=\"h-4 w-4\" />\r\n                                    </button>\r\n                                </div>\r\n\r\n                                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n                                    {/* Se├º├úo Pergunta */}\r\n                                    <div\r\n                                        className={`space-y-2 rounded-sm transition-all ${dropTarget?.cardId === card.id && dropTarget?.section === 'question' ? 'bg-brand/5 ring-2 ring-brand/30 ring-dashed p-2 -m-2' : ''}`}\r\n                                        onDragOver={(e) => handleImageDragOver(e, card.id, 'question')}\r\n                                        onDragLeave={handleImageDragLeave}\r\n                                        onDrop={(e) => handleImageDrop(e, card.id, 'question')}\r\n                                    >\r\n                                        <label className=\"text-[10px] font-black uppercase tracking-widest text-brand\">Pergunta #{index + 1}</label>\r\n                                        {card.question_image_url ? (\r\n                                            <div className=\"relative group/img w-full\">\r\n                                                <img\r\n                                                    src={card.question_image_url}\r\n                                                    alt={`Imagem da pergunta ${index + 1}`}\r\n                                                    className=\"w-full h-40 object-cover rounded-sm border border-border cursor-grab active:cursor-grabbing\"\r\n                                                    draggable\r\n                                                    onDragStart={(e) => handleImageDragStart(e, card.id, 'question', card.question_image_url!)}\r\n                                                    onDragEnd={handleImageDragEnd}\r\n                                                    onError={() => removeImage(card.id, 'question')}\r\n                                                />\r\n                                                <div className=\"absolute top-2 right-2 flex gap-1 opacity-0 group-hover/img:opacity-100 transition-opacity\">\r\n                                                    <div className=\"bg-black/60 text-white p-1.5 rounded-sm cursor-grab\">\r\n                                                        <GripVertical className=\"h-3.5 w-3.5\" />\r\n                                                    </div>\r\n                                                    <button\r\n                                                        onClick={() => removeImage(card.id, 'question')}\r\n                                                        className=\"bg-red-500/90 hover:bg-red-600 text-white p-1.5 rounded-sm transition-colors\"\r\n                                                        title=\"Remover imagem\"\r\n                                                    >\r\n                                                        <X className=\"h-3.5 w-3.5\" />\r\n                                                    </button>\r\n                                                </div>\r\n                                                <p className=\"text-[9px] text-foreground/40 mt-1 text-center\">Arraste para mover</p>\r\n                                            </div>\r\n                                        ) : (\r\n                                            <div\r\n                                                className={`w-full h-20 border-2 border-dashed rounded-sm flex items-center justify-center text-xs text-foreground/30 transition-all ${draggedImage ? 'border-brand/40 bg-brand/5' : 'border-border'}`}\r\n                                            >\r\n                                                {draggedImage ? 'Solte aqui' : 'Arraste uma imagem aqui'}\r\n                                            </div>\r\n                                        )}\r\n                                        <textarea\r\n                                            value={card.question}\r\n                                            onChange={(e) => updateCard(card.id, 'question', e.target.value)}\r\n                                            className=\"w-full bg-transparent border border-transparent hover:border-border/50 focus:border-border focus:bg-white p-2 -ml-2 rounded-sm focus:ring-0 text-sm font-bold resize-none leading-relaxed text-foreground transition-all\"\r\n                                            rows={3}\r\n                                        />\r\n                                    </div>\r\n\r\n                                    {/* Se├º├úo Resposta */}\r\n                                    <div\r\n                                        className={`space-y-2 border-t md:border-t-0 md:border-l border-border pt-4 md:pt-0 md:pl-6 text-foreground rounded-sm transition-all ${dropTarget?.cardId === card.id && dropTarget?.section === 'answer' ? 'bg-brand/5 ring-2 ring-brand/30 ring-dashed p-2 -m-2' : ''}`}\r\n                                        onDragOver={(e) => handleImageDragOver(e, card.id, 'answer')}\r\n                                        onDragLeave={handleImageDragLeave}\r\n                                        onDrop={(e) => handleImageDrop(e, card.id, 'answer')}\r\n                                    >\r\n                                        <label className=\"text-[10px] font-black uppercase tracking-widest text-foreground/30\">Resposta</label>\r\n                                        {card.answer_image_url ? (\r\n                                            <div className=\"relative group/img w-full\">\r\n                                                <img\r\n                                                    src={card.answer_image_url}\r\n                                                    alt={`Imagem da resposta ${index + 1}`}\r\n                                                    className=\"w-full h-40 object-cover rounded-sm border border-border cursor-grab active:cursor-grabbing\"\r\n                                                    draggable\r\n                                                    onDragStart={(e) => handleImageDragStart(e, card.id, 'answer', card.answer_image_url!)}\r\n                                                    onDragEnd={handleImageDragEnd}\r\n                                                    onError={() => removeImage(card.id, 'answer')}\r\n                                                />\r\n                                                <div className=\"absolute top-2 right-2 flex gap-1 opacity-0 group-hover/img:opacity-100 transition-opacity\">\r\n                                                    <div className=\"bg-black/60 text-white p-1.5 rounded-sm cursor-grab\">\r\n                                                        <GripVertical className=\"h-3.5 w-3.5\" />\r\n                                                    </div>\r\n                                                    <button\r\n                                                        onClick={() => removeImage(card.id, 'answer')}\r\n                                                        className=\"bg-red-500/90 hover:bg-red-600 text-white p-1.5 rounded-sm transition-colors\"\r\n                                                        title=\"Remover imagem\"\r\n                                                    >\r\n                                                        <X className=\"h-3.5 w-3.5\" />\r\n                                                    </button>\r\n                                                </div>\r\n                                                <p className=\"text-[9px] text-foreground/40 mt-1 text-center\">Arraste para mover</p>\r\n                                            </div>\r\n                                        ) : (\r\n                                            <div\r\n                                                className={`w-full h-20 border-2 border-dashed rounded-sm flex items-center justify-center text-xs text-foreground/30 transition-all ${draggedImage ? 'border-brand/40 bg-brand/5' : 'border-border'}`}\r\n                                            >\r\n                                                {draggedImage ? 'Solte aqui' : 'Arraste uma imagem aqui'}\r\n                                            </div>\r\n                                        )}\r\n                                        <textarea\r\n                                            value={card.answer}\r\n                                            onChange={(e) => updateCard(card.id, 'answer', e.target.value)}\r\n                                            className=\"w-full bg-transparent border border-transparent hover:border-border/50 focus:border-border focus:bg-white p-2 -ml-2 rounded-sm focus:ring-0 text-sm font-medium text-foreground/80 resize-none leading-relaxed text-foreground transition-all\"\r\n                                            rows={3}\r\n                                        />\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        ))}\r\n\r\n                        <button\r\n                            onClick={() => setCards([...cards, { id: Math.random().toString(), question: 'Nova pergunta...', answer: 'Nova resposta...', question_image_url: null, answer_image_url: null }])}\r\n                            className=\"w-full py-4 border-2 border-dashed border-border rounded-sm text-foreground/40 font-bold hover:border-brand/40 hover:text-brand transition-all flex items-center justify-center gap-2 mt-4\"\r\n                        >\r\n                            <Plus className=\"h-5 w-5\" />\r\n                            Adicionar Card Manualmente\r\n                        </button>\r\n                    </div>\r\n                )}\r\n            </div>\r\n\r\n            {isDemo && cards.length > 0 && (\r\n                <div className=\"border border-brand/30 bg-brand/5 rounded-sm p-4 text-sm font-medium text-foreground space-y-4\">\r\n                    <div className=\"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3\">\r\n                        <span>Pronto! Salve, exporte e gere mais flashcards com uma conta gr├ítis.</span>\r\n                        <div className=\"flex flex-col sm:flex-row gap-2\">\r\n                            <button\r\n                                onClick={() => openAuthGate('demo_cta_save_export')}\r\n                                className=\"px-4 py-2 rounded-sm bg-brand text-white font-bold text-xs\"\r\n                            >\r\n                                Salvar e Exportar (Criar conta gr├ítis)\r\n                            </button>\r\n                            <button\r\n                                onClick={() => openAuthGate('demo_cta_more_cards')}\r\n                                className=\"px-4 py-2 rounded-sm border border-brand text-brand font-bold text-xs\"\r\n                            >\r\n                                Gerar mais 10 (crie conta)\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                    <ul className=\"grid grid-cols-1 sm:grid-cols-2 gap-2 text-xs text-foreground/70\">\r\n                        <li>Ô£à Exportar Anki (.apkg)</li>\r\n                        <li>Ô£à Exportar CSV</li>\r\n                        <li>Ô£à Hist├│rico salvo</li>\r\n                        <li>Ô£à Mais limites e gera├º├Áes</li>\r\n                    </ul>\r\n                    <div className=\"border-t border-brand/20 pt-3\">\r\n                        <div className=\"text-xs font-bold text-foreground/70 mb-2\">Para que voc├¬ est├í estudando?</div>\r\n                        <div className=\"flex flex-wrap gap-2\">\r\n                            {['ENEM', 'Concurso', 'Faculdade', 'Idiomas', 'Outros'].map((intent) => (\r\n                                <button\r\n                                    key={intent}\r\n                                    type=\"button\"\r\n                                    onClick={() => handleIntentSelect(intent)}\r\n                                    className={`px-3 py-1.5 rounded-sm text-[11px] font-bold border transition-all ${selectedIntent === intent ? 'bg-brand text-white border-brand' : 'bg-white border-border text-foreground/60 hover:border-brand/40'}`}\r\n                                >\r\n                                    {intent}\r\n                                </button>\r\n                            ))}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            )}\r\n\r\n            {isDemo && (\r\n                <div className=\"fixed bottom-0 left-0 right-0 z-40 bg-white border-t border-border px-4 py-3 shadow-[0_-8px_20px_-12px_rgba(0,0,0,0.2)]\">\r\n                    <div className=\"max-w-7xl mx-auto flex flex-col sm:flex-row items-center justify-between gap-3\">\r\n                        <span className=\"text-xs font-bold text-foreground/70\">Voc├¬ est├í no modo demo. Salve e exporte criando uma conta gratuita.</span>\r\n                        <button\r\n                            onClick={() => openAuthGate('demo_sticky_cta')}\r\n                            className=\"px-4 py-2 rounded-sm bg-brand text-white font-bold text-xs\"\r\n                        >\r\n                            Criar conta para exportar\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n            )}\r\n\r\n            {toast && (\r\n                <Toast\r\n                    message={toast.message}\r\n                    type={toast.type}\r\n                    onClose={() => setToast(null)}\r\n                />\r\n            )}\r\n\r\n            {/* Modal de aviso sobre gera├º├úo de imagens */}\r\n            {showImageWarningModal && (\r\n                <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4\">\r\n                    <div className=\"bg-white rounded-sm shadow-xl max-w-md w-full p-6\">\r\n                        <div className=\"flex items-center gap-3 mb-4\">\r\n                            <div className=\"bg-amber-100 p-2 rounded-full\">\r\n                                <AlertCircle className=\"h-6 w-6 text-amber-600\" />\r\n                            </div>\r\n                            <h3 className=\"text-lg font-bold text-foreground\">Funcionalidade em Desenvolvimento</h3>\r\n                        </div>\r\n                        <p className=\"text-foreground/70 mb-6\">\r\n                            A gera├º├úo de imagens ainda est├í em desenvolvimento e pode apresentar <strong>lentid├úo</strong> durante o processo.\r\n                        </p>\r\n                        <p className=\"text-foreground font-medium mb-6\">\r\n                            Voc├¬ deseja continuar mesmo assim?\r\n                        </p>\r\n                        <div className=\"flex flex-col sm:flex-row gap-3\">\r\n                            <button\r\n                                onClick={() => setShowImageWarningModal(false)}\r\n                                className=\"flex-1 px-4 py-3 border border-border rounded-sm font-bold text-foreground/70 hover:bg-gray-50 transition-colors\"\r\n                            >\r\n                                N├úo, vou testar depois\r\n                            </button>\r\n                            <button\r\n                                onClick={handleConfirmGenerate}\r\n                                className=\"flex-1 px-4 py-3 bg-brand text-white rounded-sm font-bold hover:bg-brand/90 transition-colors\"\r\n                            >\r\n                                Sim, desejo prosseguir\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n\r\n\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\otavi\\Desktop\\flashcards_generator\\flashcards_generator\\app\\app\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\otavi\\Desktop\\flashcards_generator\\flashcards_generator\\app\\auth\\callback\\route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\otavi\\Desktop\\flashcards_generator\\flashcards_generator\\app\\auth\\layout.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\otavi\\Desktop\\flashcards_generator\\flashcards_generator\\app\\auth\\login\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\otavi\\Desktop\\flashcards_generator\\flashcards_generator\\app\\auth\\reset\\page.tsx","messages":[],"suppressedMessages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":27,"column":23,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":27,"endColumn":26,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[966,969],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[966,969],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\otavi\\Desktop\\flashcards_generator\\flashcards_generator\\app\\auth\\signup\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\otavi\\Desktop\\flashcards_generator\\flashcards_generator\\app\\auth\\update-password\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\otavi\\Desktop\\flashcards_generator\\flashcards_generator\\app\\decks\\[id]\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'trackEvent' is defined but never used.","line":7,"column":10,"nodeType":"Identifier","messageId":"unusedVar","endLine":7,"endColumn":20,"suggestions":[{"messageId":"removeUnusedImportDeclaration","data":{"varName":"trackEvent"},"fix":{"range":[221,266],"text":""},"desc":"Remove unused import declaration."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'ArrowRight' is defined but never used.","line":8,"column":90,"nodeType":"Identifier","messageId":"unusedVar","endLine":8,"endColumn":100,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"ArrowRight"},"fix":{"range":[355,367],"text":""},"desc":"Remove unused variable \"ArrowRight\"."}]},{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":437,"column":45,"nodeType":"JSXOpeningElement","endLine":441,"endColumn":47},{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":452,"column":45,"nodeType":"JSXOpeningElement","endLine":456,"endColumn":47}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\r\n\r\nimport React, { useEffect, useMemo, useState, use } from 'react';\r\nimport Link from 'next/link';\r\nimport { LazyMotion, domAnimation, m } from 'framer-motion';\r\nimport { supabase } from '@/lib/supabase';\r\nimport { trackEvent } from '@/lib/analytics';\r\nimport { ArrowLeft, Loader2, FileDown, ExternalLink, Calendar, Layers, Globe, Lock, Tag, ArrowRight } from 'lucide-react';\r\nimport FlashcardPlayer from '@/components/FlashcardPlayer';\r\nimport ExportModal from '@/components/ExportModal';\r\nimport Toast, { ToastType } from '@/components/Toast';\r\nimport { buildCategoryLabelMap, buildCategoryOptions, Category } from '@/lib/category-utils';\r\n\r\nfunction SectionLabel({ text }: { text: string }) {\r\n    return (\r\n        <p className=\"text-[11px] font-black uppercase tracking-widest text-brand mb-3\">\r\n            {text}\r\n        </p>\r\n    );\r\n}\r\n\r\ninterface Card {\r\n    id: string;\r\n    front: string;\r\n    back: string;\r\n    next_review?: string;\r\n    image_url?: string | null;\r\n    question_image_url?: string | null;\r\n    answer_image_url?: string | null;\r\n}\r\n\r\ninterface Deck {\r\n    id: string;\r\n    user_id: string;\r\n    title: string;\r\n    created_at: string;\r\n    is_public: boolean;\r\n    published_at?: string | null;\r\n    tags?: string[];\r\n    description?: string | null;\r\n    category_id?: string | null;\r\n    category?: Category | null;\r\n    price?: number;\r\n    rating?: number;\r\n    rating_count?: number;\r\n    is_verified?: boolean;\r\n    cards: Card[];\r\n}\r\n\r\nexport default function DeckDetailPage({ params }: { params: Promise<{ id: string }> }) {\r\n    const resolvedParams = use(params);\r\n    const [deck, setDeck] = useState<Deck | null>(null);\r\n    const [loading, setLoading] = useState(true);\r\n    const [mode, setMode] = useState<'overview' | 'study'>('overview');\r\n    const [isExportModalOpen, setIsExportModalOpen] = useState(false);\r\n    const [studyCards, setStudyCards] = useState<Card[]>([]);\r\n    const [studyLoading, setStudyLoading] = useState(false);\r\n    const [isOwner, setIsOwner] = useState(false);\r\n    const [publishLoading, setPublishLoading] = useState(false);\r\n    const [toast, setToast] = useState<{ message: string; type: ToastType } | null>(null);\r\n    const [categories, setCategories] = useState<Category[]>([]);\r\n    const [metadataSaving, setMetadataSaving] = useState(false);\r\n    const [deckDescription, setDeckDescription] = useState('');\r\n    const [deckTagsInput, setDeckTagsInput] = useState('');\r\n    const [selectedCategoryId, setSelectedCategoryId] = useState<string | null>(null);\r\n    const categoryOptions = useMemo(() => buildCategoryOptions(categories), [categories]);\r\n    const categoryLabels = useMemo(() => buildCategoryLabelMap(categories), [categories]);\r\n\r\n    useEffect(() => {\r\n        const fetchDeck = async (id: string) => {\r\n            const { data: { session } } = await supabase.auth.getSession();\r\n            const { data, error } = await supabase\r\n                .from('decks')\r\n                .select('*, cards(*), category:categories(id, name, parent_id, slug)')\r\n                .eq('id', id)\r\n                .single();\r\n\r\n            if (error) {\r\n                console.error(error);\r\n            } else {\r\n                setDeck(data);\r\n                setIsOwner(session?.user?.id === data.user_id);\r\n            }\r\n            setLoading(false);\r\n        };\r\n\r\n        if (resolvedParams.id) {\r\n            fetchDeck(resolvedParams.id);\r\n        }\r\n    }, [resolvedParams.id]);\r\n\r\n    useEffect(() => {\r\n        const fetchCategories = async () => {\r\n            const { data, error } = await supabase\r\n                .from('categories')\r\n                .select('id, name, parent_id, slug');\r\n\r\n            if (error) {\r\n                console.error(error);\r\n                return;\r\n            }\r\n\r\n            setCategories(data || []);\r\n        };\r\n\r\n        fetchCategories();\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        if (!deck) return;\r\n        setDeckDescription(deck.description || '');\r\n        setDeckTagsInput((deck.tags || []).join(', '));\r\n        setSelectedCategoryId(deck.category_id || deck.category?.id || null);\r\n    }, [deck]);\r\n\r\n    useEffect(() => {\r\n        const fetchDueCards = async (id: string) => {\r\n            setStudyLoading(true);\r\n            const nowIso = new Date().toISOString();\r\n            const { data, error } = await supabase\r\n                .from('cards')\r\n                .select('id, front, back, next_review, image_url')\r\n                .eq('deck_id', id)\r\n                .lte('next_review', nowIso)\r\n                .order('next_review', { ascending: true });\r\n\r\n            if (error) {\r\n                console.error(error);\r\n                setStudyCards([]);\r\n            } else {\r\n                setStudyCards(data || []);\r\n            }\r\n            setStudyLoading(false);\r\n        };\r\n\r\n        if (mode === 'study' && resolvedParams.id) {\r\n            fetchDueCards(resolvedParams.id);\r\n        }\r\n    }, [mode, resolvedParams.id]);\r\n\r\n    const parseTags = (value: string) => {\r\n        const rawTags = value\r\n            .split(',')\r\n            .map((tag) => tag.trim())\r\n            .filter(Boolean);\r\n\r\n        const seen = new Set<string>();\r\n        const normalized: string[] = [];\r\n\r\n        for (const tag of rawTags) {\r\n            const key = tag.toLowerCase();\r\n            if (!seen.has(key)) {\r\n                seen.add(key);\r\n                normalized.push(key);\r\n            }\r\n        }\r\n\r\n        return normalized.slice(0, 10);\r\n    };\r\n\r\n    const handleSaveMetadata = async () => {\r\n        if (!deck || metadataSaving || !isOwner) return;\r\n        setMetadataSaving(true);\r\n\r\n        const tags = parseTags(deckTagsInput);\r\n        const description = deckDescription.trim();\r\n\r\n        const { data, error } = await supabase\r\n            .from('decks')\r\n            .update({\r\n                description: description || null,\r\n                tags,\r\n                category_id: selectedCategoryId || null\r\n            })\r\n            .eq('id', deck.id)\r\n            .select('description, tags, category_id, category:categories(id, name, parent_id, slug)')\r\n            .single();\r\n\r\n        if (error) {\r\n            console.error(error);\r\n            setToast({ message: 'Erro ao salvar detalhes do baralho', type: 'error' });\r\n        } else if (data) {\r\n            const updatedCategory = selectedCategoryId\r\n                ? categories.find((category) => category.id === selectedCategoryId) ?? null\r\n                : null;\r\n            setDeck({\r\n                ...deck,\r\n                description: data.description,\r\n                tags: data.tags,\r\n                category_id: data.category_id,\r\n                category: updatedCategory\r\n            });\r\n            setToast({ message: 'Detalhes do baralho atualizados', type: 'success' });\r\n        }\r\n\r\n        setMetadataSaving(false);\r\n    };\r\n\r\n    const handleTogglePublish = async () => {\r\n        if (!deck || publishLoading) return;\r\n        setPublishLoading(true);\r\n        const nextPublic = !deck.is_public;\r\n\r\n        const { data, error } = await supabase\r\n            .from('decks')\r\n            .update({\r\n                is_public: nextPublic,\r\n                published_at: nextPublic ? new Date().toISOString() : null\r\n            })\r\n            .eq('id', deck.id)\r\n            .select('id, is_public, published_at')\r\n            .single();\r\n\r\n        if (error) {\r\n            setToast({ message: 'Erro ao atualizar visibilidade', type: 'error' });\r\n        } else if (data) {\r\n            setDeck({ ...deck, is_public: data.is_public, published_at: data.published_at });\r\n            setToast({\r\n                message: data.is_public ? 'Deck publicado no marketplace' : 'Deck removido do marketplace',\r\n                type: 'success'\r\n            });\r\n        }\r\n\r\n        setPublishLoading(false);\r\n    };\r\n\r\n\r\n\r\n    if (loading) {\r\n        return (\r\n            <div className=\"min-h-screen flex items-center justify-center pt-20\">\r\n                <Loader2 className=\"h-8 w-8 animate-spin text-brand\" />\r\n            </div>\r\n        );\r\n    }\r\n\r\n    if (!deck) {\r\n        return (\r\n            <div className=\"min-h-screen flex flex-col items-center justify-center pt-20 px-4\">\r\n                <h2 className=\"text-2xl font-bold mb-4\">Baralho n├úo encontrado</h2>\r\n                <Link href=\"/decks\" className=\"text-brand font-bold hover:underline\">\r\n                    Voltar para a Biblioteca\r\n                </Link>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    const categoryLabel = deck.category?.id\r\n        ? categoryLabels[deck.category.id] || deck.category.name\r\n        : deck.category_id\r\n            ? categoryLabels[deck.category_id]\r\n            : undefined;\r\n\r\n    return (\r\n        <LazyMotion features={domAnimation}>\r\n            <div className=\"max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 py-12 pt-32\">\r\n                <m.div\r\n                    initial={{ opacity: 0, x: -10 }}\r\n                    animate={{ opacity: 1, x: 0 }}\r\n                >\r\n                    <Link\r\n                        href=\"/decks\"\r\n                        className=\"inline-flex items-center gap-2 text-foreground/40 hover:text-brand transition-colors font-bold text-sm mb-8 group\"\r\n                    >\r\n                        <ArrowLeft className=\"h-4 w-4 group-hover:-translate-x-1 transition-transform\" />\r\n                        Voltar para Biblioteca\r\n                    </Link>\r\n                </m.div>\r\n\r\n                <m.div\r\n                    initial={{ opacity: 0, y: 20 }}\r\n                    animate={{ opacity: 1, y: 0 }}\r\n                    transition={{ delay: 0.1 }}\r\n                    className=\"flex flex-col md:flex-row md:items-end justify-between gap-6 mb-12 border-b border-border pb-12\"\r\n                >\r\n                    <div>\r\n                        <SectionLabel text=\"VISUALIZANDO BARALHO\" />\r\n                        <div className=\"flex items-center gap-3 mb-4\">\r\n                            <div className=\"bg-brand/10 p-2 rounded-sm text-brand\">\r\n                                <Layers className=\"h-5 w-5\" />\r\n                            </div>\r\n                            <span className=\"text-[10px] font-black uppercase tracking-[0.2em] text-foreground/30\">Visualizando Baralho</span>\r\n                        </div>\r\n                    <h1 className=\"text-4xl md:text-5xl font-black tracking-tight mb-4\">{deck.title}</h1>\r\n                    {deck.description && (\r\n                        <p className=\"text-foreground/60 font-medium max-w-2xl mb-4\">\r\n                            {deck.description}\r\n                        </p>\r\n                    )}\r\n                    <div className=\"flex flex-wrap items-center gap-4 text-sm font-bold text-foreground/40\">\r\n                        <div className=\"flex items-center gap-2\">\r\n                            <Calendar className=\"h-4 w-4\" />\r\n                            {new Date(deck.created_at).toLocaleDateString('pt-BR')}\r\n                        </div>\r\n                        <div className=\"bg-gray-100 px-3 py-1 rounded-sm text-foreground text-[10px]\">\r\n                            {deck.cards.length} CARDS\r\n                        </div>\r\n                        {categoryLabel && (\r\n                            <div className=\"bg-gray-100 px-3 py-1 rounded-sm text-[10px] uppercase tracking-widest font-black text-foreground/40\">\r\n                                {categoryLabel}\r\n                            </div>\r\n                        )}\r\n                        <div className={`flex items-center gap-2 px-3 py-1 rounded-sm text-[10px] uppercase tracking-widest font-black ${deck.is_public ? 'bg-brand/10 text-brand' : 'bg-gray-100 text-foreground/40'}`}>\r\n                            {deck.is_public ? <Globe className=\"h-3 w-3\" /> : <Lock className=\"h-3 w-3\" />}\r\n                            {deck.is_public ? 'Publicado' : 'Privado'}\r\n                        </div>\r\n                        {(deck.tags || []).length > 0 && (\r\n                            <div className=\"flex items-center gap-2 text-[10px] uppercase tracking-widest font-black text-foreground/40\">\r\n                                <Tag className=\"h-3 w-3\" />\r\n                                {(deck.tags || []).slice(0, 3).join(', ')}\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"flex flex-col sm:flex-row gap-3 w-full sm:w-auto\">\r\n                    {deck.is_public && (\r\n                        <Link\r\n                            href={`/marketplace/${deck.id}`}\r\n                            className=\"w-full sm:w-auto bg-gray-50 border border-border px-6 py-3 rounded-sm font-bold text-sm hover:bg-white transition-all flex items-center justify-center gap-2 shadow-sm\"\r\n                        >\r\n                            <Globe className=\"h-4 w-4 text-brand\" />\r\n                            Ver no Marketplace\r\n                        </Link>\r\n                    )}\r\n                    <button\r\n                        onClick={() => setIsExportModalOpen(true)}\r\n                        className=\"w-full sm:w-auto bg-white border border-border px-6 py-3 rounded-sm font-bold text-sm hover:bg-gray-50 transition-all flex items-center justify-center gap-2 shadow-sm\"\r\n                    >\r\n                        <FileDown className=\"h-4 w-4 text-brand\" />\r\n                        Exportar\r\n                    </button>\r\n                    {isOwner && (\r\n                        <button\r\n                            onClick={handleTogglePublish}\r\n                            disabled={publishLoading}\r\n                            className={`w-full sm:w-auto px-6 py-3 rounded-sm font-bold text-sm transition-all flex items-center justify-center gap-2 shadow-sm ${deck.is_public\r\n                                ? 'bg-gray-100 text-foreground hover:bg-gray-200'\r\n                                : 'bg-brand text-white hover:bg-brand/90 shadow-brand/20'\r\n                                } ${publishLoading ? 'opacity-70 cursor-not-allowed' : ''}`}\r\n                        >\r\n                            {deck.is_public ? 'Remover do Marketplace' : 'Publicar no Marketplace'}\r\n                        </button>\r\n                    )}\r\n                    <button\r\n                        onClick={() => setMode(mode === 'overview' ? 'study' : 'overview')}\r\n                        className={`w-full sm:w-auto px-6 py-3 rounded-sm font-bold text-sm transition-all flex items-center justify-center gap-2 shadow-lg ${mode === 'study'\r\n                            ? 'bg-gray-100 text-foreground hover:bg-gray-200'\r\n                            : 'bg-brand text-white hover:bg-brand/90 shadow-brand/20'\r\n                            }`}\r\n                    >\r\n                        {mode === 'overview' ? (\r\n                            <>\r\n                                Estudar agora\r\n                                <ExternalLink className=\"h-4 w-4\" />\r\n                            </>\r\n                        ) : (\r\n                            <>\r\n                                <Layers className=\"h-4 w-4\" />\r\n                                Ver Lista\r\n                            </>\r\n                        )}\r\n                    </button>\r\n                </div>\r\n            </m.div>\r\n\r\n            {isOwner && (\r\n                <div className=\"bg-white border border-border rounded-sm p-6 shadow-sm mb-10\">\r\n                    <div className=\"flex flex-col sm:flex-row sm:items-center justify-between gap-3 mb-5\">\r\n                        <h3 className=\"text-sm font-bold uppercase tracking-widest text-foreground/40\">Detalhes do Baralho</h3>\r\n                        <button\r\n                            onClick={handleSaveMetadata}\r\n                            disabled={metadataSaving}\r\n                            className=\"px-4 py-2 bg-brand text-white rounded-sm text-xs font-bold uppercase tracking-widest hover:bg-brand/90 transition-all disabled:opacity-60 disabled:cursor-not-allowed\"\r\n                        >\r\n                            {metadataSaving ? 'Salvando...' : 'Salvar detalhes'}\r\n                        </button>\r\n                    </div>\r\n                    <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n                        <div className=\"md:col-span-2 space-y-1\">\r\n                            <label htmlFor=\"deck-meta-description\" className=\"text-[10px] font-bold uppercase tracking-wider text-foreground/40\">\r\n                                Descri├º├úo\r\n                            </label>\r\n                            <textarea\r\n                                id=\"deck-meta-description\"\r\n                                value={deckDescription}\r\n                                onChange={(event) => setDeckDescription(event.target.value)}\r\n                                rows={3}\r\n                                className=\"w-full bg-gray-50 border border-border rounded-sm px-3 py-2 text-sm font-medium text-foreground/80 focus:ring-1 focus:ring-brand outline-none resize-none\"\r\n                                placeholder=\"Fale sobre o conte├║do e o objetivo deste baralho.\"\r\n                            />\r\n                        </div>\r\n                        <div className=\"space-y-1\">\r\n                            <label htmlFor=\"deck-meta-category\" className=\"text-[10px] font-bold uppercase tracking-wider text-foreground/40\">\r\n                                Categoria\r\n                            </label>\r\n                            <select\r\n                                id=\"deck-meta-category\"\r\n                                value={selectedCategoryId || ''}\r\n                                onChange={(event) => setSelectedCategoryId(event.target.value || null)}\r\n                                className=\"w-full appearance-none bg-gray-50 border border-border px-3 py-2 rounded-sm text-sm font-bold focus:ring-1 focus:ring-brand outline-none pr-8 cursor-pointer\"\r\n                            >\r\n                                <option value=\"\">Sem categoria</option>\r\n                                {categoryOptions.map((option) => (\r\n                                    <option key={option.id} value={option.id}>\r\n                                        {option.label}\r\n                                    </option>\r\n                                ))}\r\n                            </select>\r\n                        </div>\r\n                        <div className=\"space-y-1\">\r\n                            <label htmlFor=\"deck-meta-tags\" className=\"text-[10px] font-bold uppercase tracking-wider text-foreground/40\">\r\n                                Tags (separadas por v├¡rgulas)\r\n                            </label>\r\n                            <input\r\n                                id=\"deck-meta-tags\"\r\n                                type=\"text\"\r\n                                value={deckTagsInput}\r\n                                onChange={(event) => setDeckTagsInput(event.target.value)}\r\n                                className=\"w-full bg-gray-50 border border-border rounded-sm px-3 py-2 text-sm font-medium text-foreground/80 focus:ring-1 focus:ring-brand outline-none\"\r\n                                placeholder=\"ex: anatomia, cardio, prova\"\r\n                            />\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            )}\r\n\r\n            {mode === 'overview' ? (\r\n                <div className=\"grid grid-cols-1 gap-6\">\r\n                    {deck.cards.map((card, index) => (\r\n                        <div key={card.id} className=\"bg-white border border-border rounded-sm overflow-hidden shadow-sm hover:border-brand/40 transition-all group\">\r\n                            <div className=\"grid grid-cols-1 md:grid-cols-2\">\r\n                                <div className=\"p-8 border-b md:border-b-0 md:border-r border-border relative\">\r\n                                    <span className=\"absolute top-4 left-4 text-[9px] font-black text-brand/20 uppercase tracking-widest\">Frente #{index + 1}</span>\r\n                                    {(card.question_image_url || card.image_url) && (\r\n                                        <div className=\"mt-4\">\r\n                                            <img\r\n                                                src={card.question_image_url || card.image_url || ''}\r\n                                                alt={`Imagem do card ${index + 1}`}\r\n                                                className=\"w-full h-48 object-cover rounded-sm border border-border\"\r\n                                            />\r\n                                        </div>\r\n                                    )}\r\n                                    <div className=\"mt-4 text-lg font-bold text-foreground leading-relaxed\">\r\n                                        {card.front}\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"p-8 bg-gray-50/50 relative\">\r\n                                    <span className=\"absolute top-4 left-4 text-[9px] font-black text-foreground/10 uppercase tracking-widest\">Verso / Resposta</span>\r\n                                    {card.answer_image_url && (\r\n                                        <div className=\"mt-4\">\r\n                                            <img\r\n                                                src={card.answer_image_url}\r\n                                                alt={`Imagem da resposta ${index + 1}`}\r\n                                                className=\"w-full h-48 object-cover rounded-sm border border-border\"\r\n                                            />\r\n                                        </div>\r\n                                    )}\r\n                                    <div className=\"mt-4 text-lg font-medium text-foreground/60 leading-relaxed\">\r\n                                        {card.back}\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    ))}\r\n                </div>\r\n            ) : (\r\n                studyLoading ? (\r\n                    <div className=\"h-64 flex items-center justify-center\">\r\n                        <Loader2 className=\"h-8 w-8 animate-spin text-brand\" />\r\n                    </div>\r\n                ) : (\r\n                    <FlashcardPlayer cards={studyCards} disableProgress={!isOwner} />\r\n                )\r\n            )}\r\n\r\n            <ExportModal\r\n                isOpen={isExportModalOpen}\r\n                onClose={() => setIsExportModalOpen(false)}\r\n                deck={deck}\r\n            />\r\n\r\n            {toast && (\r\n                <Toast\r\n                    message={toast.message}\r\n                    type={toast.type}\r\n                    onClose={() => setToast(null)}\r\n                />\r\n            )}\r\n        </div>\r\n        </LazyMotion>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\otavi\\Desktop\\flashcards_generator\\flashcards_generator\\app\\decks\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'SectionLabel' is defined but never used.","line":18,"column":10,"nodeType":"Identifier","messageId":"unusedVar","endLine":18,"endColumn":22}],"suppressedMessages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":29,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":29,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1194,1197],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1194,1197],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":34,"column":54,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":34,"endColumn":57,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1537,1540],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1537,1540],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\r\n\r\nimport React, { useEffect, useState } from 'react';\r\nimport Link from 'next/link';\r\nimport { LazyMotion, domAnimation, m } from 'framer-motion';\r\nimport { supabase } from '@/lib/supabase';\r\nimport { trackEvent } from '@/lib/analytics';\r\nimport { useTauri } from '@/lib/tauri';\r\nimport { Library, ArrowRight, Loader2, Plus, Trash2 } from 'lucide-react';\r\nimport ConfirmationModal from '@/components/ConfirmationModal';\r\nimport ExportModal from '@/components/ExportModal';\r\nimport Toast, { ToastType } from '@/components/Toast';\r\nimport StudyHeatmap from '@/components/StudyHeatmap';\r\nimport { addUtcDays, getDateKey, startOfUtcDay, StudyActivityRecord } from '@/lib/study-activity';\r\nimport AppShell from '@/components/AppShell';\r\nimport { SwipeableDeckRow } from '@/components/mobile';\r\n\r\nfunction SectionLabel({ text }: { text: string }) {\r\n    return (\r\n        <p className=\"text-[11px] font-black uppercase tracking-widest text-brand mb-3\">\r\n            {text}\r\n        </p>\r\n    );\r\n}\r\n\r\nexport default function DecksPage() {\r\n    const { isMobile } = useTauri();\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    const [decks, setDecks] = useState<any[]>([]);\r\n    const [loading, setLoading] = useState(true);\r\n    const [activityData, setActivityData] = useState<StudyActivityRecord[]>([]);\r\n    const [deckToDelete, setDeckToDelete] = useState<string | null>(null);\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    const [deckToExport, setDeckToExport] = useState<any | null>(null);\r\n    const [toast, setToast] = useState<{ message: string; type: ToastType } | null>(null);\r\n\r\n    useEffect(() => {\r\n        trackEvent('decks_view', { source: 'decks_page' });\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        const fetchDecks = async () => {\r\n            const { data: { session } } = await supabase.auth.getSession();\r\n            if (!session) return;\r\n\r\n            const startDate = addUtcDays(startOfUtcDay(new Date()), -120);\r\n            const startKey = getDateKey(startDate);\r\n\r\n            const [decksResult, activityResult] = await Promise.all([\r\n                supabase\r\n                    .from('decks')\r\n                    .select('*, cards(count)')\r\n                    .eq('user_id', session.user.id)\r\n                    .order('created_at', { ascending: false }),\r\n                supabase\r\n                    .from('study_activity')\r\n                    .select('day, count')\r\n                    .eq('user_id', session.user.id)\r\n                    .gte('day', startKey)\r\n            ]);\r\n\r\n            if (decksResult.error) {\r\n                console.error(decksResult.error);\r\n            } else {\r\n                setDecks(decksResult.data || []);\r\n            }\r\n\r\n            if (activityResult.error) {\r\n                console.error(activityResult.error);\r\n            } else {\r\n                setActivityData(activityResult.data || []);\r\n            }\r\n            setLoading(false);\r\n        };\r\n\r\n        fetchDecks();\r\n    }, []);\r\n\r\n    const handleDeleteClick = (id: string) => {\r\n        setDeckToDelete(id);\r\n    };\r\n\r\n    const confirmDelete = async () => {\r\n        if (!deckToDelete) return;\r\n\r\n        const { error } = await supabase.from('decks').delete().eq('id', deckToDelete);\r\n        if (error) {\r\n            setToast({ message: 'Erro ao excluir o baralho', type: 'error' });\r\n        } else {\r\n            setDecks(decks.filter(d => d.id !== deckToDelete));\r\n            setToast({ message: 'Baralho removido com sucesso!', type: 'success' });\r\n            trackEvent('deck_deleted', { source: 'decks_page' });\r\n        }\r\n        setDeckToDelete(null);\r\n    };\r\n\r\n    const ctaHref = decks.length > 0 ? '#decks-list' : '/app';\r\n\r\n    const cardVariants = {\r\n        hidden: { opacity: 0, y: 20 },\r\n        visible: (i: number) => ({\r\n            opacity: 1,\r\n            y: 0,\r\n            transition: { delay: i * 0.05, duration: 0.3 }\r\n        })\r\n    };\r\n\r\n    return (\r\n        <LazyMotion features={domAnimation}>\r\n            <AppShell\r\n                eyebrow=\"MINHA BIBLIOTECA\"\r\n                title=\"Minha Biblioteca\"\r\n                subtitle=\"Todos os seus baralhos gerados e salvos.\"\r\n                headerActions={(\r\n                    <m.div\r\n                        whileHover={{ scale: 1.02 }}\r\n                        whileTap={{ scale: 0.98 }}\r\n                    >\r\n                        <Link\r\n                            href=\"/app\"\r\n                            className=\"group bg-brand text-white px-6 py-3 rounded-sm font-bold flex items-center justify-center gap-2 hover:bg-brand/90 transition-all shadow-lg shadow-brand/20 self-stretch sm:self-start w-full sm:w-auto\"\r\n                        >\r\n                            <Plus className=\"h-5 w-5\" />\r\n                            Novo Baralho\r\n                        </Link>\r\n                    </m.div>\r\n                )}\r\n                maxWidthClass=\"max-w-7xl\"\r\n            >\r\n\r\n                <m.div\r\n                    initial={{ opacity: 0, y: 20 }}\r\n                    animate={{ opacity: 1, y: 0 }}\r\n                    transition={{ delay: 0.1 }}\r\n                    className=\"mb-10 bg-white border border-border rounded-sm p-6 shadow-sm\"\r\n                >\r\n                    <StudyHeatmap activityData={activityData} ctaHref={ctaHref} />\r\n                </m.div>\r\n\r\n                {loading ? (\r\n                    <div className=\"h-64 flex items-center justify-center\">\r\n                        <Loader2 className=\"h-8 w-8 animate-spin text-brand\" />\r\n                    </div>\r\n                ) : decks.length === 0 ? (\r\n                    <m.div\r\n                        initial={{ opacity: 0, scale: 0.95 }}\r\n                        animate={{ opacity: 1, scale: 1 }}\r\n                        className=\"border-2 border-dashed border-border rounded-sm py-20 sm:py-32 flex flex-col items-center justify-center text-center px-4 bg-white/50\"\r\n                    >\r\n                        <div className=\"bg-gray-100 p-6 rounded-full mb-6\">\r\n                            <Library className=\"h-10 w-10 text-foreground/20\" />\r\n                        </div>\r\n                        <h3 className=\"text-xl font-bold mb-2\">Sua biblioteca est├í vazia</h3>\r\n                        <p className=\"text-foreground/40 font-medium max-w-xs mb-8\">\r\n                            Gere seu primeiro baralho usando nossa IA para come├ºar a estudar.\r\n                        </p>\r\n                        <Link href=\"/app\" className=\"group text-brand font-bold hover:underline underline-offset-4 inline-flex items-center gap-2\">\r\n                            Ir para o Gerador\r\n                            <ArrowRight className=\"h-4 w-4 cta-arrow-shift\" />\r\n                        </Link>\r\n                    </m.div>\r\n                ) : isMobile ? (\r\n                    /* Mobile: Swipeable list view */\r\n                    <div id=\"decks-list\" className=\"space-y-2\">\r\n                        {decks.map((deck, index) => (\r\n                            <m.div\r\n                                key={deck.id}\r\n                                custom={index}\r\n                                initial=\"hidden\"\r\n                                animate=\"visible\"\r\n                                variants={cardVariants}\r\n                            >\r\n                                <SwipeableDeckRow\r\n                                    deck={deck}\r\n                                    onDelete={handleDeleteClick}\r\n                                    onLongPress={(d) => setDeckToExport(d)}\r\n                                />\r\n                            </m.div>\r\n                        ))}\r\n                    </div>\r\n                ) : (\r\n                    /* Desktop: Grid view */\r\n                    <div id=\"decks-list\" className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-x-px gap-y-px bg-zinc-200 dark:bg-zinc-800 border border-zinc-200 dark:border-zinc-800 overflow-hidden rounded-sm\">\r\n                        {decks.map((deck, index) => (\r\n                            <m.div\r\n                                key={deck.id}\r\n                                custom={index}\r\n                                initial=\"hidden\"\r\n                                animate=\"visible\"\r\n                                variants={cardVariants}\r\n                                className=\"group bg-white dark:bg-zinc-950 p-8 hover:bg-zinc-50 dark:hover:bg-zinc-900 transition-colors relative h-full flex flex-col\"\r\n                            >\r\n                                <div className=\"flex items-start justify-between mb-12\">\r\n                                    <span className=\"text-[10px] font-black uppercase tracking-[0.2em] text-zinc-400\">\r\n                                        {new Date(deck.created_at).toLocaleDateString()}\r\n                                    </span>\r\n                                    <button\r\n                                        onClick={() => handleDeleteClick(deck.id)}\r\n                                        className=\"opacity-0 group-hover:opacity-100 transition-opacity p-2 text-zinc-300 hover:text-red-500\"\r\n                                    >\r\n                                        <Trash2 className=\"h-4 w-4\" />\r\n                                    </button>\r\n                                </div>\r\n\r\n                                <div className=\"flex-1\">\r\n                                    <h3 className=\"text-2xl font-black text-swiss-header mb-4 group-hover:text-brand transition-colors\">\r\n                                        {deck.title}\r\n                                    </h3>\r\n                                    <div className=\"flex items-center gap-3 mb-8\">\r\n                                        <div className=\"h-1 bg-zinc-100 dark:bg-zinc-900 flex-1\">\r\n                                            <div\r\n                                                className=\"h-full bg-brand\"\r\n                                                style={{ width: `${Math.min(100, (deck.cards[0]?.count || 0) * 10)}%` }}\r\n                                            />\r\n                                        </div>\r\n                                        <span className=\"text-[10px] font-bold text-zinc-400 uppercase tracking-widest\">\r\n                                            {deck.cards[0]?.count || 0} Cards\r\n                                        </span>\r\n                                    </div>\r\n                                </div>\r\n\r\n                                <div className=\"flex border border-zinc-100 dark:border-zinc-900 divide-x divide-zinc-100 dark:divide-zinc-900 mt-auto overflow-hidden rounded-sm\">\r\n                                    <button\r\n                                        onClick={() => setDeckToExport(deck)}\r\n                                        className=\"flex-1 py-3 text-[10px] font-black uppercase tracking-widest hover:bg-brand hover:text-white transition-all ripple\"\r\n                                    >\r\n                                        Exportar\r\n                                    </button>\r\n                                    <Link\r\n                                        href={`/decks/${deck.id}`}\r\n                                        className=\"flex-1 py-3 text-[10px] font-black uppercase tracking-widest text-center hover:bg-zinc-900 dark:hover:bg-zinc-100 hover:text-white dark:hover:text-black transition-all ripple\"\r\n                                    >\r\n                                        Abrir\r\n                                    </Link>\r\n                                </div>\r\n                            </m.div>\r\n                        ))}\r\n                    </div>\r\n                )}\r\n\r\n                <ConfirmationModal\r\n                    isOpen={!!deckToDelete}\r\n                    onClose={() => setDeckToDelete(null)}\r\n                    onConfirm={confirmDelete}\r\n                    title=\"Excluir Baralho\"\r\n                    description=\"Tem certeza que deseja excluir este baralho? Todos os cart├Áes associados ser├úo removidos permanentemente.\"\r\n                    confirmText=\"Excluir Agora\"\r\n                    cancelText=\"Manter Baralho\"\r\n                    variant=\"danger\"\r\n                />\r\n\r\n                <ExportModal\r\n                    isOpen={!!deckToExport}\r\n                    onClose={() => setDeckToExport(null)}\r\n                    deck={deckToExport}\r\n                />\r\n\r\n                {toast && (\r\n                    <Toast\r\n                        message={toast.message}\r\n                        type={toast.type}\r\n                        onClose={() => setToast(null)}\r\n                    />\r\n                )}\r\n            </AppShell>\r\n        </LazyMotion>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\otavi\\Desktop\\flashcards_generator\\flashcards_generator\\app\\desktop\\features\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\otavi\\Desktop\\flashcards_generator\\flashcards_generator\\app\\desktop\\layout.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\otavi\\Desktop\\flashcards_generator\\flashcards_generator\\app\\desktop\\login\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\otavi\\Desktop\\flashcards_generator\\flashcards_generator\\app\\desktop\\plans\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\otavi\\Desktop\\flashcards_generator\\flashcards_generator\\app\\desktop\\welcome\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\otavi\\Desktop\\flashcards_generator\\flashcards_generator\\app\\documentacao\\page.tsx","messages":[{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":50,"column":37,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[2806,2870],"text":"Se a pergunta for &quot;O que e isto?\", a imagem vai para a Pergunta."},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[2806,2870],"text":"Se a pergunta for &ldquo;O que e isto?\", a imagem vai para a Pergunta."},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[2806,2870],"text":"Se a pergunta for &#34;O que e isto?\", a imagem vai para a Pergunta."},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[2806,2870],"text":"Se a pergunta for &rdquo;O que e isto?\", a imagem vai para a Pergunta."},"desc":"Replace with `&rdquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":50,"column":51,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[2806,2870],"text":"Se a pergunta for \"O que e isto?&quot;, a imagem vai para a Pergunta."},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[2806,2870],"text":"Se a pergunta for \"O que e isto?&ldquo;, a imagem vai para a Pergunta."},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[2806,2870],"text":"Se a pergunta for \"O que e isto?&#34;, a imagem vai para a Pergunta."},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[2806,2870],"text":"Se a pergunta for \"O que e isto?&rdquo;, a imagem vai para a Pergunta."},"desc":"Replace with `&rdquo;`."}]}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"export const dynamic = 'force-static';\r\n\r\nexport default function DocumentacaoPage() {\r\n  return (\r\n    <div className=\"min-h-screen bg-white\">\r\n      <div className=\"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-24\">\r\n        <div className=\"mb-12\">\r\n          <span className=\"inline-flex items-center gap-2 text-[10px] font-black uppercase tracking-widest text-brand bg-brand/10 px-3 py-1 rounded-sm\">\r\n            Documentacao\r\n          </span>\r\n          <h1 className=\"text-3xl sm:text-4xl font-black text-foreground mt-4\">\r\n            Como os processos de IA funcionam\r\n          </h1>\r\n          <p className=\"text-foreground/60 mt-3 text-base sm:text-lg\">\r\n            Esta pagina explica, de forma transparente, como o gerador utiliza IA para criar flashcards, imagens e organizar anexos.\r\n          </p>\r\n        </div>\r\n\r\n        <div className=\"space-y-10\">\r\n          <section className=\"bg-white border border-border rounded-sm p-6 shadow-sm\">\r\n            <h2 className=\"text-lg font-bold text-foreground\">1) Entrada de conteudo</h2>\r\n            <ul className=\"mt-3 text-sm text-foreground/70 space-y-2 list-disc pl-5\">\r\n              <li>Texto colado no campo principal.</li>\r\n              <li>Arquivos PDF e DOCX (texto e estrutura).</li>\r\n              <li>Imagens enviadas (diagramas, fotos, esquemas) para serem usadas como apoio visual.</li>\r\n            </ul>\r\n            <p className=\"mt-4 text-sm text-foreground/60\">\r\n              O sistema combina essas fontes para criar perguntas e respostas consistentes e alinhadas ao nivel de dificuldade escolhido.\r\n            </p>\r\n          </section>\r\n\r\n          <section className=\"bg-white border border-border rounded-sm p-6 shadow-sm\">\r\n            <h2 className=\"text-lg font-bold text-foreground\">2) Geracao dos flashcards</h2>\r\n            <p className=\"mt-3 text-sm text-foreground/70\">\r\n              A IA analisa o conteudo fornecido e gera exatamente a quantidade de cards solicitada. Cada card tem:\r\n            </p>\r\n            <ul className=\"mt-3 text-sm text-foreground/70 space-y-2 list-disc pl-5\">\r\n              <li>Pergunta clara e direta.</li>\r\n              <li>Resposta concisa e objetiva.</li>\r\n              <li>Idioma e nivel de dificuldade configurados no app.</li>\r\n            </ul>\r\n          </section>\r\n\r\n          <section className=\"bg-white border border-border rounded-sm p-6 shadow-sm\">\r\n            <h2 className=\"text-lg font-bold text-foreground\">3) Uso de imagens enviadas</h2>\r\n            <p className=\"mt-3 text-sm text-foreground/70\">\r\n              Se voce enviar imagens junto com um prompt de texto, a IA tenta encaixar cada imagem em um card que faca sentido.\r\n            </p>\r\n            <ul className=\"mt-3 text-sm text-foreground/70 space-y-2 list-disc pl-5\">\r\n              <li>Se a pergunta for \"O que e isto?\", a imagem vai para a Pergunta.</li>\r\n              <li>Se a resposta explicar um diagrama, a imagem vai para a Resposta.</li>\r\n              <li>Se nenhuma imagem se encaixar, ela nao e usada automaticamente.</li>\r\n            </ul>\r\n          </section>\r\n\r\n          <section className=\"bg-white border border-border rounded-sm p-6 shadow-sm\">\r\n            <h2 className=\"text-lg font-bold text-foreground\">4) Geracao de imagens pela IA</h2>\r\n            <p className=\"mt-3 text-sm text-foreground/70\">\r\n              Quando a opcao de gerar imagens esta ativada, a IA cria ilustra├º├Áes educativas baseadas no conteudo dos cards.\r\n              Essas imagens sao adicionadas automaticamente aos primeiros cards gerados (respeitando o limite do plano).\r\n            </p>\r\n          </section>\r\n\r\n          <section className=\"bg-white border border-border rounded-sm p-6 shadow-sm\">\r\n            <h2 className=\"text-lg font-bold text-foreground\">5) Ajustes manuais e UX</h2>\r\n            <ul className=\"mt-3 text-sm text-foreground/70 space-y-2 list-disc pl-5\">\r\n              <li>Voce pode editar perguntas e respostas livremente.</li>\r\n              <li>Arraste imagens entre Pergunta e Resposta, ou entre cards.</li>\r\n              <li>Remova imagens que nao sejam relevantes para o estudo.</li>\r\n            </ul>\r\n          </section>\r\n\r\n          <section className=\"bg-white border border-border rounded-sm p-6 shadow-sm\">\r\n            <h2 className=\"text-lg font-bold text-foreground\">6) Privacidade e seguranca</h2>\r\n            <p className=\"mt-3 text-sm text-foreground/70\">\r\n              Os dados enviados sao usados exclusivamente para gerar os flashcards solicitados. O sistema aplica filtros\r\n              para reduzir instrucoes maliciosas embutidas no conteudo enviado.\r\n            </p>\r\n          </section>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\otavi\\Desktop\\flashcards_generator\\flashcards_generator\\app\\download\\page.tsx","messages":[{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":261,"column":67,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[11774,11891],"text":"\r\n                                    Apareceu um aviso do Windows (&quot;SmartScreen\")?\r\n                                "},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[11774,11891],"text":"\r\n                                    Apareceu um aviso do Windows (&ldquo;SmartScreen\")?\r\n                                "},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[11774,11891],"text":"\r\n                                    Apareceu um aviso do Windows (&#34;SmartScreen\")?\r\n                                "},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[11774,11891],"text":"\r\n                                    Apareceu um aviso do Windows (&rdquo;SmartScreen\")?\r\n                                "},"desc":"Replace with `&rdquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":261,"column":79,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[11774,11891],"text":"\r\n                                    Apareceu um aviso do Windows (\"SmartScreen&quot;)?\r\n                                "},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[11774,11891],"text":"\r\n                                    Apareceu um aviso do Windows (\"SmartScreen&ldquo;)?\r\n                                "},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[11774,11891],"text":"\r\n                                    Apareceu um aviso do Windows (\"SmartScreen&#34;)?\r\n                                "},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[11774,11891],"text":"\r\n                                    Apareceu um aviso do Windows (\"SmartScreen&rdquo;)?\r\n                                "},"desc":"Replace with `&rdquo;`."}]}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\r\n\r\nimport { useEffect, useState } from 'react';\r\nimport { motion } from 'framer-motion';\r\nimport {\r\n    Download,\r\n    Monitor,\r\n    Smartphone,\r\n    Check,\r\n    Zap,\r\n    Shield,\r\n    Cloud,\r\n    CheckCircle2\r\n} from 'lucide-react';\r\nimport Link from 'next/link';\r\nimport { isTauriApp } from '@/lib/tauri';\r\n\r\nconst GITHUB_RELEASES_BASE = 'https://github.com/otavio0machado/flashcards_generator/releases/latest/download';\r\n\r\ninterface Platform {\r\n    name: string;\r\n    icon: typeof Monitor;\r\n    description: string;\r\n    downloadUrl: string;\r\n    available: boolean;\r\n    fileType?: string;\r\n    size?: string;\r\n    comingSoon?: boolean;\r\n    store?: string;\r\n    osKey?: string;\r\n}\r\n\r\nconst platforms: Platform[] = [\r\n    {\r\n        name: 'Windows',\r\n        icon: Monitor,\r\n        description: 'Windows 10 ou superior',\r\n        downloadUrl: `${GITHUB_RELEASES_BASE}/Flashcards.Generator_1.0.4_x64-setup.exe`,\r\n        available: true,\r\n        fileType: '.exe',\r\n        size: '~80 MB',\r\n        osKey: 'windows',\r\n    },\r\n    {\r\n        name: 'macOS',\r\n        icon: Monitor,\r\n        description: 'macOS 11 Big Sur ou superior',\r\n        downloadUrl: '#',\r\n        available: false,\r\n        comingSoon: true,\r\n    },\r\n    {\r\n        name: 'Linux',\r\n        icon: Monitor,\r\n        description: 'Ubuntu 20.04+, Fedora 36+',\r\n        downloadUrl: '#',\r\n        available: false,\r\n        comingSoon: true,\r\n    },\r\n    {\r\n        name: 'iOS',\r\n        icon: Smartphone,\r\n        description: 'iPhone e iPad',\r\n        downloadUrl: '#',\r\n        available: false,\r\n        comingSoon: true,\r\n        store: 'App Store',\r\n    },\r\n    {\r\n        name: 'Android',\r\n        icon: Smartphone,\r\n        description: 'Android 8.0 ou superior',\r\n        downloadUrl: '#',\r\n        available: false,\r\n        comingSoon: true,\r\n        store: 'Google Play',\r\n    },\r\n];\r\n\r\nconst benefits = [\r\n    'Performance nativa otimizada',\r\n    'Modo offline dispon├¡vel',\r\n    'Sincroniza├º├úo autom├ítica',\r\n    'Notifica├º├Áes de estudo',\r\n    'Atalhos de teclado',\r\n];\r\n\r\nfunction detectOS(): string | null {\r\n    if (typeof navigator === 'undefined') return null;\r\n    const ua = navigator.userAgent.toLowerCase();\r\n    if (ua.includes('win')) return 'windows';\r\n    if (ua.includes('mac')) return 'macos';\r\n    if (ua.includes('linux')) return 'linux';\r\n    if (ua.includes('android')) return 'android';\r\n    if (ua.includes('iphone') || ua.includes('ipad')) return 'ios';\r\n    return null;\r\n}\r\n\r\nexport default function DownloadPage() {\r\n    const [detectedOS, setDetectedOS] = useState<string | null>(null);\r\n    const [isDesktopApp, setIsDesktopApp] = useState(false);\r\n\r\n    useEffect(() => {\r\n        setDetectedOS(detectOS());\r\n        setIsDesktopApp(isTauriApp());\r\n    }, []);\r\n\r\n    // Sort platforms: detected OS first, then available, then coming soon\r\n    const sortedPlatforms = [...platforms].sort((a, b) => {\r\n        if (a.osKey === detectedOS && b.osKey !== detectedOS) return -1;\r\n        if (b.osKey === detectedOS && a.osKey !== detectedOS) return 1;\r\n        if (a.available && !b.available) return -1;\r\n        if (!a.available && b.available) return 1;\r\n        return 0;\r\n    });\r\n\r\n    // If inside Tauri, show a different view\r\n    if (isDesktopApp) {\r\n        return (\r\n            <div className=\"min-h-screen bg-[var(--background)] flex items-center justify-center p-6\">\r\n                <div className=\"text-center max-w-md\">\r\n                    <div className=\"mx-auto mb-6 w-16 h-16 bg-green-100 dark:bg-green-900/30 rounded-2xl flex items-center justify-center\">\r\n                        <CheckCircle2 className=\"w-8 h-8 text-green-600 dark:text-green-400\" />\r\n                    </div>\r\n                    <h1 className=\"text-2xl font-bold text-[var(--foreground)] mb-3\">\r\n                        Voc├¬ j├í est├í usando o app desktop!\r\n                    </h1>\r\n                    <p className=\"text-[var(--color-text-secondary)] mb-6\">\r\n                        Aproveite todos os recursos nativos do Flashcards Generator.\r\n                    </p>\r\n                    <Link\r\n                        href=\"/app\"\r\n                        className=\"inline-flex items-center gap-2 px-6 py-3 bg-brand text-white font-semibold rounded-lg hover:bg-brand/90 focus:ring-2 focus:ring-brand focus:ring-offset-2 transition-colors\"\r\n                    >\r\n                        Ir para o App\r\n                    </Link>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div className=\"min-h-screen bg-background\">\r\n            {/* Hero Section */}\r\n            <section className=\"pt-32 pb-16 px-4\">\r\n                <div className=\"max-w-4xl mx-auto text-center\">\r\n                    <motion.h1\r\n                        initial={{ opacity: 0, y: 16 }}\r\n                        animate={{ opacity: 1, y: 0 }}\r\n                        className=\"text-4xl md:text-5xl font-bold text-foreground mb-4 tracking-tight\"\r\n                    >\r\n                        Download\r\n                    </motion.h1>\r\n\r\n                    <motion.p\r\n                        initial={{ opacity: 0, y: 16 }}\r\n                        animate={{ opacity: 1, y: 0 }}\r\n                        transition={{ delay: 0.1 }}\r\n                        className=\"text-lg text-[var(--color-text-secondary)] max-w-xl mx-auto mb-12\"\r\n                    >\r\n                        Baixe o aplicativo nativo para desktop ou mobile.\r\n                    </motion.p>\r\n\r\n                    {/* Benefits List */}\r\n                    <motion.div\r\n                        initial={{ opacity: 0 }}\r\n                        animate={{ opacity: 1 }}\r\n                        transition={{ delay: 0.2 }}\r\n                        className=\"flex flex-wrap justify-center gap-x-6 gap-y-2 mb-16\"\r\n                    >\r\n                        {benefits.map((benefit, index) => (\r\n                            <div key={index} className=\"flex items-center gap-2 text-sm text-[var(--color-text-secondary)]\">\r\n                                <Check className=\"w-4 h-4 text-brand\" />\r\n                                <span>{benefit}</span>\r\n                            </div>\r\n                        ))}\r\n                    </motion.div>\r\n                </div>\r\n            </section>\r\n\r\n            {/* Download Cards */}\r\n            <section className=\"pb-24 px-4\">\r\n                <div className=\"max-w-4xl mx-auto\">\r\n                    <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-5\">\r\n                        {sortedPlatforms.map((platform, index) => {\r\n                            const isRecommended = platform.osKey === detectedOS;\r\n\r\n                            return (\r\n                                <motion.div\r\n                                    key={platform.name}\r\n                                    initial={{ opacity: 0, y: 12 }}\r\n                                    animate={{ opacity: 1, y: 0 }}\r\n                                    transition={{ delay: 0.1 * index }}\r\n                                    className={`relative p-6 rounded-xl border transition-colors ${isRecommended\r\n                                        ? 'bg-surface border-brand shadow-lg shadow-brand/10'\r\n                                        : platform.available\r\n                                            ? 'bg-surface border-border hover:border-brand/50'\r\n                                            : 'bg-surface-muted border-border opacity-60'\r\n                                        }`}\r\n                                >\r\n                                    {isRecommended && (\r\n                                        <div className=\"absolute -top-3 left-1/2 -translate-x-1/2 px-3 py-1 bg-brand text-white text-xs font-semibold rounded-full whitespace-nowrap\">\r\n                                            Recomendado para voc├¬\r\n                                        </div>\r\n                                    )}\r\n                                    {platform.comingSoon && (\r\n                                        <div className=\"absolute top-4 right-4 px-2.5 py-1 bg-amber-100 dark:bg-amber-900/30 text-amber-700 dark:text-amber-400 text-xs font-medium rounded\">\r\n                                            Em breve\r\n                                        </div>\r\n                                    )}\r\n\r\n                                    <div className=\"flex flex-col items-center text-center\">\r\n                                        <div className={`w-12 h-12 rounded-lg flex items-center justify-center mb-3 ${platform.available\r\n                                            ? 'bg-brand text-white'\r\n                                            : 'bg-border text-[var(--color-text-secondary)]'\r\n                                            }`}>\r\n                                            <platform.icon className=\"w-6 h-6\" />\r\n                                        </div>\r\n\r\n                                        <h3 className=\"text-lg font-bold text-foreground mb-0.5\">\r\n                                            {platform.name}\r\n                                        </h3>\r\n                                        <p className=\"text-sm text-[var(--color-text-secondary)] mb-3\">\r\n                                            {platform.description}\r\n                                        </p>\r\n\r\n                                        {platform.available ? (\r\n                                            <>\r\n                                                <div className=\"flex items-center gap-3 text-xs text-[var(--color-text-secondary)] mb-3\">\r\n                                                    <span>{platform.fileType}</span>\r\n                                                    <span>&middot;</span>\r\n                                                    <span>{platform.size}</span>\r\n                                                </div>\r\n                                                <a\r\n                                                    href={platform.downloadUrl}\r\n                                                    className=\"inline-flex items-center gap-2 px-5 py-2.5 bg-brand text-white font-semibold rounded-lg hover:bg-brand/90 transition-colors text-sm\"\r\n                                                >\r\n                                                    <Download className=\"w-4 h-4\" />\r\n                                                    <span>Download para {platform.name}</span>\r\n                                                </a>\r\n                                            </>\r\n                                        ) : (\r\n                                            <p className=\"text-sm text-[var(--color-text-secondary)]\">\r\n                                                Dispon├¡vel em breve na {platform.store}\r\n                                            </p>\r\n                                        )}\r\n                                    </div>\r\n                                </motion.div>\r\n                            );\r\n                        })}\r\n                    </div>\r\n\r\n                    {/* Installation Help (SmartScreen) */}\r\n                    <div className=\"mt-12 bg-amber-50 dark:bg-amber-950/20 border border-amber-200 dark:border-amber-900/50 rounded-xl p-6\">\r\n                        <div className=\"flex items-start gap-4\">\r\n                            <div className=\"p-2 bg-amber-100 dark:bg-amber-900/40 rounded-lg shrink-0\">\r\n                                <Shield className=\"w-6 h-6 text-amber-700 dark:text-amber-400\" />\r\n                            </div>\r\n                            <div>\r\n                                <h3 className=\"text-lg font-semibold text-amber-900 dark:text-amber-200 mb-2\">\r\n                                    Apareceu um aviso do Windows (\"SmartScreen\")?\r\n                                </h3>\r\n                                <p className=\"text-amber-800 dark:text-amber-300/90 text-sm mb-4\">\r\n                                    Isso ├® comum em aplicativos novos que ainda n├úo possuem milhares de downloads. O app ├® 100% seguro e livre de v├¡rus.\r\n                                </p>\r\n                                <ol className=\"list-decimal list-inside space-y-2 text-sm text-amber-800 dark:text-amber-300/80 font-medium\">\r\n                                    <li>Clique no link <span className=\"font-bold underline\">Mais informa├º├Áes</span> (no pop-up azul)</li>\r\n                                    <li>Depois clique no bot├úo <span className=\"font-bold\">Executar assim mesmo</span></li>\r\n                                </ol>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </section>\r\n\r\n            {/* Features Section */}\r\n            <section className=\"py-16 px-4 bg-surface-muted dark:bg-[#151A1E]\">\r\n                <div className=\"max-w-4xl mx-auto\">\r\n                    <h2 className=\"text-2xl font-bold text-foreground mb-8 text-center tracking-tight\">\r\n                        Por que usar o aplicativo?\r\n                    </h2>\r\n\r\n                    <div className=\"grid grid-cols-1 md:grid-cols-3 gap-5\">\r\n                        {[\r\n                            { icon: Zap, title: 'R├ípido', description: 'Acesso instant├óneo sem abrir navegador' },\r\n                            { icon: Shield, title: 'Offline', description: 'Estude sem conex├úo com internet' },\r\n                            { icon: Cloud, title: 'Sincronizado', description: 'Seus dados em todos os dispositivos' },\r\n                        ].map((item, index) => (\r\n                            <motion.div\r\n                                key={index}\r\n                                initial={{ opacity: 0, y: 12 }}\r\n                                whileInView={{ opacity: 1, y: 0 }}\r\n                                viewport={{ once: true }}\r\n                                transition={{ delay: index * 0.1 }}\r\n                                className=\"p-5 bg-surface rounded-xl border border-border text-center\"\r\n                            >\r\n                                <div className=\"w-10 h-10 bg-brand/10 rounded-lg flex items-center justify-center mb-3 mx-auto\">\r\n                                    <item.icon className=\"w-5 h-5 text-brand\" />\r\n                                </div>\r\n                                <h3 className=\"font-semibold text-foreground mb-1\">\r\n                                    {item.title}\r\n                                </h3>\r\n                                <p className=\"text-sm text-[var(--color-text-secondary)]\">\r\n                                    {item.description}\r\n                                </p>\r\n                            </motion.div>\r\n                        ))}\r\n                    </div>\r\n                </div>\r\n            </section>\r\n\r\n            {/* CTA Section */}\r\n            <section className=\"py-16 px-4\">\r\n                <div className=\"max-w-2xl mx-auto text-center\">\r\n                    <h2 className=\"text-xl font-bold text-foreground mb-3 tracking-tight\">\r\n                        Prefere usar no navegador?\r\n                    </h2>\r\n                    <p className=\"text-[var(--color-text-secondary)] mb-6 text-sm\">\r\n                        Use o Flashcards Generator diretamente no navegador, sem precisar baixar nada.\r\n                    </p>\r\n                    <Link\r\n                        href=\"/app\"\r\n                        className=\"inline-flex items-center gap-2 px-5 py-2.5 bg-foreground text-background font-semibold rounded-lg hover:opacity-90 transition-opacity text-sm\"\r\n                    >\r\n                        <span>Usar no Navegador</span>\r\n                    </Link>\r\n                </div>\r\n            </section>\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\otavi\\Desktop\\flashcards_generator\\flashcards_generator\\app\\guia\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\otavi\\Desktop\\flashcards_generator\\flashcards_generator\\app\\layout.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\otavi\\Desktop\\flashcards_generator\\flashcards_generator\\app\\marketplace\\[id]\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'trackEvent' is defined but never used.","line":7,"column":10,"nodeType":"Identifier","messageId":"unusedVar","endLine":7,"endColumn":20,"suggestions":[{"messageId":"removeUnusedImportDeclaration","data":{"varName":"trackEvent"},"fix":{"range":[215,260],"text":""},"desc":"Remove unused import declaration."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'ArrowRight' is defined but never used.","line":9,"column":101,"nodeType":"Identifier","messageId":"unusedVar","endLine":9,"endColumn":111,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"ArrowRight"},"fix":{"range":[413,425],"text":""},"desc":"Remove unused variable \"ArrowRight\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'SectionLabel' is defined but never used.","line":15,"column":10,"nodeType":"Identifier","messageId":"unusedVar","endLine":15,"endColumn":22},{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":271,"column":49,"nodeType":"JSXOpeningElement","endLine":275,"endColumn":51}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\n\nimport React, { useEffect, useMemo, useState, use } from 'react';\nimport Link from 'next/link';\nimport { LazyMotion, domAnimation, m } from 'framer-motion';\nimport { supabase } from '@/lib/supabase';\nimport { trackEvent } from '@/lib/analytics';\nimport { deckService } from '@/services/deckService';\nimport { ArrowLeft, Loader2, FileDown, ExternalLink, Calendar, Layers, Copy, Tag, Star, BadgeCheck, ArrowRight } from 'lucide-react';\nimport FlashcardPlayer from '@/components/FlashcardPlayer';\nimport ExportModal from '@/components/ExportModal';\nimport Toast, { ToastType } from '@/components/Toast';\nimport { buildCategoryLabelMap, Category } from '@/lib/category-utils';\n\nfunction SectionLabel({ text }: { text: string }) {\n    return (\n        <p className=\"text-[11px] font-black uppercase tracking-widest text-brand mb-3\">\n            {text}\n        </p>\n    );\n}\n\ninterface Card {\n    id: string;\n    front: string;\n    back: string;\n    image_url?: string | null;\n}\n\ninterface Deck {\n    id: string;\n    title: string;\n    created_at: string;\n    published_at?: string | null;\n    tags?: string[];\n    description?: string | null;\n    price?: number;\n    rating?: number;\n    rating_count?: number;\n    is_verified?: boolean;\n    category?: Category | null;\n    cards: Card[];\n}\n\nexport default function MarketplaceDeckPage({ params }: { params: Promise<{ id: string }> }) {\n    const resolvedParams = use(params);\n    const [deck, setDeck] = useState<Deck | null>(null);\n    const [loading, setLoading] = useState(true);\n    const [mode, setMode] = useState<'overview' | 'study'>('overview');\n    const [isExportModalOpen, setIsExportModalOpen] = useState(false);\n    const [cloning, setCloning] = useState(false);\n    const [toast, setToast] = useState<{ message: string; type: ToastType } | null>(null);\n    const [categories, setCategories] = useState<Category[]>([]);\n\n    const categoryLabels = useMemo(() => buildCategoryLabelMap(categories), [categories]);\n\n    useEffect(() => {\n        const fetchDeck = async (id: string) => {\n            const { data, error } = await supabase\n                .from('decks')\n                .select('*, cards(*), category:categories(id, name, parent_id, slug)')\n                .eq('id', id)\n                .eq('is_public', true)\n                .single();\n\n            if (error) {\n                console.error(error);\n                setDeck(null);\n            } else {\n                setDeck(data);\n            }\n            setLoading(false);\n        };\n\n        if (resolvedParams.id) {\n            fetchDeck(resolvedParams.id);\n        }\n    }, [resolvedParams.id]);\n\n    useEffect(() => {\n        const fetchCategories = async () => {\n            const { data, error } = await supabase\n                .from('categories')\n                .select('id, name, parent_id, slug');\n\n            if (error) {\n                console.error(error);\n                return;\n            }\n\n            setCategories(data || []);\n        };\n\n        fetchCategories();\n    }, []);\n\n    const handleClone = async () => {\n        if (!deck || cloning) return;\n        const { data: { session } } = await supabase.auth.getSession();\n        if (!session) {\n            setToast({ message: 'Faca login para clonar', type: 'info' });\n            return;\n        }\n\n        setCloning(true);\n        try {\n            await deckService.clonePublicDeck(session.user.id, deck.id);\n            setToast({ message: 'Deck clonado com sucesso', type: 'success' });\n        } catch (error) {\n            console.error(error);\n            setToast({ message: 'Erro ao clonar deck', type: 'error' });\n        } finally {\n            setCloning(false);\n        }\n    };\n\n    if (loading) {\n        return (\n            <div className=\"min-h-screen flex items-center justify-center pt-20\">\n                <Loader2 className=\"h-8 w-8 animate-spin text-brand\" />\n            </div>\n        );\n    }\n\n    if (!deck) {\n        return (\n            <div className=\"min-h-screen flex flex-col items-center justify-center pt-20 px-4\">\n                <h2 className=\"text-2xl font-bold mb-4\">Deck nao encontrado</h2>\n                <Link href=\"/marketplace\" className=\"text-brand font-bold hover:underline\">\n                    Voltar para o Marketplace\n                </Link>\n            </div>\n        );\n    }\n\n    const priceLabel = (() => {\n        const value = typeof deck.price === 'number' ? deck.price : Number(deck.price || 0);\n        if (!value) return 'Gr├ítis';\n        return value.toLocaleString('pt-BR', { style: 'currency', currency: 'BRL' });\n    })();\n\n    const categoryLabel = deck.category?.id\n        ? categoryLabels[deck.category.id] || deck.category.name\n        : undefined;\n\n    return (\n        <LazyMotion features={domAnimation}>\n            <div className=\"relative overflow-hidden noise-bg\">\n                <div className=\"pointer-events-none absolute inset-x-0 top-0 h-72 bg-gradient-to-b from-brand/10 via-brand/5 to-transparent\" />\n                <div className=\"pointer-events-none absolute -right-10 top-24 h-64 w-64 rounded-full bg-brand/10 blur-3xl\" />\n\n                <div className=\"max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 py-12 pt-32 relative z-10\">\n                    <m.div\n                        initial={{ opacity: 0, x: -10 }}\n                        animate={{ opacity: 1, x: 0 }}\n                    >\n                        <Link\n                            href=\"/marketplace\"\n                            className=\"inline-flex items-center gap-2 text-foreground/40 hover:text-brand transition-colors font-bold text-sm mb-8 group\"\n                        >\n                            <ArrowLeft className=\"h-4 w-4 group-hover:-translate-x-1 transition-transform\" />\n                            Voltar para o Marketplace\n                        </Link>\n                    </m.div>\n\n                    <m.div\n                        initial={{ opacity: 0, y: 20 }}\n                        animate={{ opacity: 1, y: 0 }}\n                        transition={{ delay: 0.1 }}\n                        className=\"mb-12 rounded-sm border border-border bg-white/80 backdrop-blur-sm shadow-sm\"\n                    >\n                    <div className=\"flex flex-col md:flex-row md:items-end justify-between gap-6 p-6 md:p-8\">\n                        <div>\n                            <div className=\"flex items-center gap-3 mb-4\">\n                                <div className=\"bg-brand/10 p-2 rounded-sm text-brand\">\n                                    <Layers className=\"h-5 w-5\" />\n                                </div>\n                                <span className=\"text-[10px] font-black uppercase tracking-[0.2em] text-foreground/30\">Deck Publico</span>\n                                {deck.is_verified && (\n                                    <span className=\"inline-flex items-center gap-1 text-[9px] font-black uppercase tracking-widest text-brand bg-brand/10 px-2 py-1 rounded-sm\">\n                                        <BadgeCheck className=\"h-3 w-3\" />\n                                        Verificado\n                                    </span>\n                                )}\n                            </div>\n                            <h1 className=\"text-4xl md:text-5xl font-black tracking-tight mb-4\">{deck.title}</h1>\n                            {deck.description && (\n                                <p className=\"text-foreground/60 font-medium max-w-2xl mb-4\">\n                                    {deck.description}\n                                </p>\n                            )}\n                            <div className=\"flex flex-wrap items-center gap-3 text-sm font-bold text-foreground/40\">\n                                <div className=\"flex items-center gap-2\">\n                                    <Calendar className=\"h-4 w-4\" />\n                                    {new Date(deck.published_at || deck.created_at).toLocaleDateString('pt-BR')}\n                                </div>\n                                <div className=\"bg-gray-100/80 border border-border/60 px-3 py-1 rounded-sm text-foreground text-[10px]\">\n                                    {deck.cards.length} CARDS\n                                </div>\n                                {categoryLabel && (\n                                    <div className=\"bg-gray-100/80 border border-border/60 px-3 py-1 rounded-sm text-[10px] uppercase tracking-widest font-black text-foreground/40\">\n                                        {categoryLabel}\n                                    </div>\n                                )}\n                                <div className=\"bg-emerald-50 text-emerald-700 border border-emerald-100 px-3 py-1 rounded-sm text-[10px] uppercase tracking-widest font-black\">\n                                    {priceLabel}\n                                </div>\n                                {(deck.rating_count || 0) > 0 && (\n                                    <div className=\"flex items-center gap-2 text-[10px] uppercase tracking-widest font-black text-foreground/40\">\n                                        <Star className=\"h-3 w-3\" />\n                                        {Number(deck.rating || 0).toFixed(1)} ({deck.rating_count})\n                                    </div>\n                                )}\n                                {(deck.tags || []).length > 0 && (\n                                    <div className=\"flex items-center gap-2 text-[10px] uppercase tracking-widest font-black text-foreground/40\">\n                                        <Tag className=\"h-3 w-3\" />\n                                        {(deck.tags || []).slice(0, 3).join(', ')}\n                                    </div>\n                                )}\n                            </div>\n                        </div>\n\n                        <div className=\"flex flex-col sm:flex-row gap-3 w-full sm:w-auto\">\n                            <button\n                                onClick={handleClone}\n                                disabled={cloning}\n                                className=\"w-full sm:w-auto bg-brand text-white px-6 py-3 rounded-sm font-bold text-sm hover:bg-brand/90 transition-all flex items-center justify-center gap-2 shadow-lg shadow-brand/20 disabled:opacity-70 disabled:cursor-not-allowed\"\n                            >\n                                <Copy className=\"h-4 w-4\" />\n                                {cloning ? 'Clonando...' : 'Clonar deck'}\n                            </button>\n                            <button\n                                onClick={() => setIsExportModalOpen(true)}\n                                className=\"w-full sm:w-auto bg-white/90 border border-border px-6 py-3 rounded-sm font-bold text-sm hover:bg-gray-50 transition-all flex items-center justify-center gap-2 shadow-sm\"\n                            >\n                                <FileDown className=\"h-4 w-4 text-brand\" />\n                                Exportar\n                            </button>\n                            <button\n                                onClick={() => setMode(mode === 'overview' ? 'study' : 'overview')}\n                                className={`w-full sm:w-auto px-6 py-3 rounded-sm font-bold text-sm transition-all flex items-center justify-center gap-2 shadow-lg ${mode === 'study'\n                                    ? 'bg-gray-100 text-foreground hover:bg-gray-200'\n                                    : 'bg-brand text-white hover:bg-brand/90 shadow-brand/20'\n                                    }`}\n                            >\n                                {mode === 'overview' ? (\n                                    <>\n                                        Estudar agora\n                                        <ExternalLink className=\"h-4 w-4\" />\n                                    </>\n                                ) : (\n                                    <>\n                                        <Layers className=\"h-4 w-4\" />\n                                        Ver Lista\n                                    </>\n                                )}\n                            </button>\n                        </div>\n                    </div>\n                </m.div>\n\n                {mode === 'overview' ? (\n                    <div className=\"grid grid-cols-1 gap-6\">\n                        {deck.cards.map((card, index) => (\n                            <div key={card.id} className=\"bg-white border border-border/80 rounded-sm overflow-hidden shadow-sm hover:border-brand/40 hover:shadow-md transition-all duration-300 group\">\n                                <div className=\"grid grid-cols-1 md:grid-cols-2\">\n                                    <div className=\"p-8 border-b md:border-b-0 md:border-r border-border/60 relative\">\n                                        <span className=\"absolute top-4 left-4 text-[9px] font-black text-brand/30 uppercase tracking-widest\">Frente #{index + 1}</span>\n                                        {card.image_url && (\n                                            <div className=\"mt-4\">\n                                                <img\n                                                    src={card.image_url}\n                                                    alt={`Imagem do card ${index + 1}`}\n                                                    className=\"w-full h-48 object-cover rounded-sm border border-border\"\n                                                />\n                                            </div>\n                                        )}\n                                        <div className=\"mt-4 text-lg font-bold text-foreground leading-relaxed\">\n                                            {card.front}\n                                        </div>\n                                    </div>\n                                    <div className=\"p-8 bg-gray-50/60 relative\">\n                                        <span className=\"absolute top-4 left-4 text-[9px] font-black text-foreground/20 uppercase tracking-widest\">Verso / Resposta</span>\n                                        <div className=\"mt-4 text-lg font-medium text-foreground/70 leading-relaxed\">\n                                            {card.back}\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                        ))}\n                    </div>\n                ) : (\n                    <FlashcardPlayer cards={deck.cards} disableProgress />\n                )}\n\n                <ExportModal\n                    isOpen={isExportModalOpen}\n                    onClose={() => setIsExportModalOpen(false)}\n                    deck={deck}\n                />\n\n                {toast && (\n                    <Toast\n                        message={toast.message}\n                        type={toast.type}\n                        onClose={() => setToast(null)}\n                    />\n                )}\n            </div>\n        </div>\n        </LazyMotion>\n    );\n}\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\otavi\\Desktop\\flashcards_generator\\flashcards_generator\\app\\marketplace\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'SectionLabel' is defined but never used.","line":17,"column":10,"nodeType":"Identifier","messageId":"unusedVar","endLine":17,"endColumn":22}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\r\n\r\nimport React, { useEffect, useMemo, useState } from 'react';\r\nimport Link from 'next/link';\r\nimport { LazyMotion, domAnimation, m } from 'framer-motion';\r\nimport { supabase } from '@/lib/supabase';\r\nimport { trackEvent } from '@/lib/analytics';\r\nimport { useTauri } from '@/lib/tauri';\r\nimport { deckService } from '@/services/deckService';\r\nimport { Search, Loader2, Layers, ArrowRight, Copy, Tag, Star, BadgeCheck, ChevronDown } from 'lucide-react';\r\nimport Toast, { ToastType } from '@/components/Toast';\r\nimport AppShell from '@/components/AppShell';\r\nimport { buildCategoryLabelMap, buildCategoryOptions, Category } from '@/lib/category-utils';\r\nimport { SearchBar } from '@/components/ios';\r\nimport { DeckCard } from '@/components/mobile';\r\n\r\nfunction SectionLabel({ text }: { text: string }) {\r\n    return (\r\n        <p className=\"text-[11px] font-black uppercase tracking-widest text-brand mb-3\">\r\n            {text}\r\n        </p>\r\n    );\r\n}\r\n\r\ninterface PublicDeck {\r\n    id: string;\r\n    title: string;\r\n    description?: string | null;\r\n    price?: number;\r\n    rating?: number;\r\n    rating_count?: number;\r\n    is_verified?: boolean;\r\n    tags?: string[];\r\n    created_at: string;\r\n    published_at?: string | null;\r\n    cards: { count: number }[];\r\n    category?: Category | null;\r\n}\r\n\r\nexport default function MarketplacePage() {\r\n    const { isMobile } = useTauri();\r\n    const [decks, setDecks] = useState<PublicDeck[]>([]);\r\n    const [loading, setLoading] = useState(true);\r\n    const [search, setSearch] = useState('');\r\n    const [activeTag, setActiveTag] = useState<string | null>(null);\r\n    const [categories, setCategories] = useState<Category[]>([]);\r\n    const [activeCategoryId, setActiveCategoryId] = useState<string | null>(null);\r\n    const [cloningId, setCloningId] = useState<string | null>(null);\r\n    const [toast, setToast] = useState<{ message: string; type: ToastType } | null>(null);\r\n\r\n    useEffect(() => {\r\n        trackEvent('marketplace_view', { source: 'marketplace_page' });\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        const fetchDecks = async () => {\r\n            setLoading(true);\r\n            const [decksResult, categoriesResult] = await Promise.all([\r\n                supabase\r\n                    .from('decks')\r\n                    .select('id, title, description, price, rating, rating_count, is_verified, tags, created_at, published_at, cards(count), category:categories(id, name, parent_id, slug)')\r\n                    .eq('is_public', true)\r\n                    .order('published_at', { ascending: false, nullsFirst: false })\r\n                    .order('created_at', { ascending: false }),\r\n                supabase\r\n                    .from('categories')\r\n                    .select('id, name, parent_id, slug')\r\n            ]);\r\n\r\n            if (decksResult.error) {\r\n                console.error(decksResult.error);\r\n                setToast({ message: 'Erro ao carregar marketplace', type: 'error' });\r\n                setDecks([]);\r\n            } else {\r\n                const normalized = (decksResult.data || []).map((deck) => ({\r\n                    ...deck,\r\n                    category: Array.isArray(deck.category) ? deck.category[0] ?? null : deck.category\r\n                }));\r\n                setDecks(normalized);\r\n            }\r\n\r\n            if (categoriesResult.error) {\r\n                console.error(categoriesResult.error);\r\n            } else {\r\n                setCategories(categoriesResult.data || []);\r\n            }\r\n            setLoading(false);\r\n        };\r\n\r\n        fetchDecks();\r\n    }, []);\r\n\r\n    const tags = useMemo(() => {\r\n        const tagSet = new Set<string>();\r\n        decks.forEach((deck) => {\r\n            (deck.tags || []).forEach((tag) => {\r\n                if (tag) tagSet.add(tag);\r\n            });\r\n        });\r\n        return Array.from(tagSet).slice(0, 10);\r\n    }, [decks]);\r\n\r\n    const categoryOptions = useMemo(() => buildCategoryOptions(categories), [categories]);\r\n    const categoryLabels = useMemo(() => buildCategoryLabelMap(categories), [categories]);\r\n\r\n    const filteredDecks = useMemo(() => {\r\n        const query = search.trim().toLowerCase();\r\n        return decks.filter((deck) => {\r\n            const categoryLabel = deck.category?.id ? (categoryLabels[deck.category.id] || deck.category.name || '') : '';\r\n            const matchesQuery = !query\r\n                || deck.title.toLowerCase().includes(query)\r\n                || (deck.description || '').toLowerCase().includes(query)\r\n                || categoryLabel.toLowerCase().includes(query)\r\n                || (deck.tags || []).some((tag) => tag.toLowerCase().includes(query));\r\n\r\n            const matchesTag = !activeTag || (deck.tags || []).includes(activeTag);\r\n            const matchesCategory = !activeCategoryId || deck.category?.id === activeCategoryId;\r\n            return matchesQuery && matchesTag && matchesCategory;\r\n        });\r\n    }, [decks, search, activeTag, activeCategoryId, categoryLabels]);\r\n\r\n    const formatPrice = (price?: number) => {\r\n        const value = typeof price === 'number' ? price : Number(price || 0);\r\n        if (!value) return 'Gr├ítis';\r\n        return value.toLocaleString('pt-BR', { style: 'currency', currency: 'BRL' });\r\n    };\r\n\r\n    const handleClone = async (deckId: string) => {\r\n        const { data: { session } } = await supabase.auth.getSession();\r\n        if (!session) {\r\n            setToast({ message: 'Faca login para clonar', type: 'info' });\r\n            return;\r\n        }\r\n\r\n        setCloningId(deckId);\r\n        trackEvent('deck_clone_started', { deckId, source: 'marketplace_page' });\r\n        try {\r\n            await deckService.clonePublicDeck(session.user.id, deckId);\r\n            setToast({ message: 'Deck clonado com sucesso', type: 'success' });\r\n            trackEvent('deck_clone_completed', { deckId, source: 'marketplace_page' });\r\n        } catch (error) {\r\n            console.error(error);\r\n            setToast({ message: 'Erro ao clonar deck', type: 'error' });\r\n        } finally {\r\n            setCloningId(null);\r\n        }\r\n    };\r\n\r\n    const cardVariants = {\r\n        hidden: { opacity: 0, y: 20 },\r\n        visible: (i: number) => ({\r\n            opacity: 1,\r\n            y: 0,\r\n            transition: { delay: i * 0.05, duration: 0.3 }\r\n        })\r\n    };\r\n\r\n    return (\r\n        <LazyMotion features={domAnimation}>\r\n            <AppShell\r\n                eyebrow=\"MARKETPLACE\"\r\n                title=\"Marketplace de Decks\"\r\n                subtitle=\"Explore decks publicados pela comunidade e clone direto para a sua biblioteca.\"\r\n                headerActions={(\r\n                    <m.div\r\n                        whileHover={{ scale: 1.02 }}\r\n                        whileTap={{ scale: 0.98 }}\r\n                    >\r\n                        <Link\r\n                            href=\"/app\"\r\n                            className=\"group bg-brand text-white px-6 py-3 rounded-sm font-bold flex items-center justify-center gap-2 hover:bg-brand/90 transition-all shadow-lg shadow-brand/20 w-auto\"\r\n                        >\r\n                            <Layers className=\"h-4 w-4\" />\r\n                            Criar meu deck\r\n                        </Link>\r\n                    </m.div>\r\n                )}\r\n                maxWidthClass=\"max-w-7xl\"\r\n            >\r\n\r\n                {isMobile ? (\r\n                    /* Mobile: iOS SearchBar */\r\n                    <m.div\r\n                        initial={{ opacity: 0, y: 20 }}\r\n                        animate={{ opacity: 1, y: 0 }}\r\n                        transition={{ delay: 0.1 }}\r\n                        className=\"mb-6\"\r\n                    >\r\n                        <SearchBar\r\n                            value={search}\r\n                            onChange={setSearch}\r\n                            placeholder=\"Buscar decks...\"\r\n                            filters={tags.map(tag => ({ id: tag, label: tag }))}\r\n                            selectedFilters={activeTag ? [activeTag] : []}\r\n                            onFilterChange={(filters) => setActiveTag(filters[0] || null)}\r\n                        />\r\n                    </m.div>\r\n                ) : (\r\n                    /* Desktop: Original search bar */\r\n                    <m.div\r\n                        initial={{ opacity: 0, y: 20 }}\r\n                        animate={{ opacity: 1, y: 0 }}\r\n                        transition={{ delay: 0.1 }}\r\n                        className=\"bg-white border border-border rounded-sm p-4 mb-10 shadow-sm\"\r\n                    >\r\n                        <div className=\"flex flex-col gap-4 sm:flex-row sm:items-center\">\r\n                            <div className=\"flex items-center gap-3 flex-1\">\r\n                                <Search className=\"h-4 w-4 text-foreground/40\" />\r\n                                <input\r\n                                    value={search}\r\n                                    onChange={(event) => setSearch(event.target.value)}\r\n                                    placeholder=\"Buscar por titulo, tag ou categoria\"\r\n                                    className=\"w-full bg-transparent text-sm font-medium text-foreground placeholder:text-foreground/40 focus:outline-none\"\r\n                                />\r\n                            </div>\r\n                            <div className=\"relative w-full sm:w-64\">\r\n                                <select\r\n                                    value={activeCategoryId || ''}\r\n                                    onChange={(event) => setActiveCategoryId(event.target.value || null)}\r\n                                    className=\"w-full appearance-none bg-gray-50 border border-border px-3 py-2 rounded-sm text-xs font-bold uppercase tracking-widest text-foreground/60 focus:ring-1 focus:ring-brand outline-none pr-8\"\r\n                                >\r\n                                    <option value=\"\">Todas as categorias</option>\r\n                                    {categoryOptions.map((option) => (\r\n                                        <option key={option.id} value={option.id}>\r\n                                            {option.label}\r\n                                        </option>\r\n                                    ))}\r\n                                </select>\r\n                                <ChevronDown className=\"absolute right-2 top-1/2 -translate-y-1/2 h-4 w-4 text-foreground/30 pointer-events-none\" />\r\n                            </div>\r\n                        </div>\r\n                        {tags.length > 0 && (\r\n                            <div className=\"flex flex-wrap gap-2 mt-4\">\r\n                                <m.button\r\n                                    whileHover={{ scale: 1.02 }}\r\n                                    whileTap={{ scale: 0.98 }}\r\n                                    onClick={() => setActiveTag(null)}\r\n                                    className={`px-3 py-1 rounded-sm text-[10px] font-bold uppercase tracking-widest border transition-all ${!activeTag ? 'bg-brand text-white border-brand' : 'bg-gray-50 text-foreground/60 border-border hover:border-brand/40'}`}\r\n                                >\r\n                                    Todos\r\n                                </m.button>\r\n                                {tags.map((tag) => (\r\n                                    <m.button\r\n                                        key={tag}\r\n                                        whileHover={{ scale: 1.02 }}\r\n                                        whileTap={{ scale: 0.98 }}\r\n                                        onClick={() => setActiveTag(tag)}\r\n                                        className={`px-3 py-1 rounded-sm text-[10px] font-bold uppercase tracking-widest border transition-all ${activeTag === tag ? 'bg-brand text-white border-brand' : 'bg-gray-50 text-foreground/60 border-border hover:border-brand/40'}`}\r\n                                    >\r\n                                        <span className=\"inline-flex items-center gap-1\">\r\n                                            <Tag className=\"h-3 w-3\" />\r\n                                            {tag}\r\n                                        </span>\r\n                                    </m.button>\r\n                                ))}\r\n                            </div>\r\n                        )}\r\n                    </m.div>\r\n                )}\r\n\r\n                {loading ? (\r\n                    <div className=\"h-64 flex items-center justify-center\">\r\n                        <Loader2 className=\"h-8 w-8 animate-spin text-brand\" />\r\n                    </div>\r\n                ) : filteredDecks.length === 0 ? (\r\n                    <m.div\r\n                        initial={{ opacity: 0, scale: 0.95 }}\r\n                        animate={{ opacity: 1, scale: 1 }}\r\n                        className=\"border-2 border-dashed border-border rounded-sm py-20 sm:py-32 flex flex-col items-center justify-center text-center px-4 bg-white/50\"\r\n                    >\r\n                        <div className=\"bg-gray-100 p-6 rounded-full mb-6\">\r\n                            <Layers className=\"h-10 w-10 text-foreground/20\" />\r\n                        </div>\r\n                        <h3 className=\"text-xl font-bold mb-2\">Nenhum deck encontrado</h3>\r\n                        <p className=\"text-foreground/40 font-medium max-w-xs mb-8\">\r\n                            Tente outra busca ou publique o seu primeiro deck para ajudar a comunidade.\r\n                        </p>\r\n                        <Link href=\"/app\" className=\"group text-brand font-bold hover:underline underline-offset-4 inline-flex items-center gap-2\">\r\n                            Criar deck agora\r\n                            <ArrowRight className=\"h-4 w-4 cta-arrow-shift\" />\r\n                        </Link>\r\n                    </m.div>\r\n                ) : isMobile ? (\r\n                    <div className=\"space-y-2\">\r\n                        {filteredDecks.map((deck) => (\r\n                            <DeckCard\r\n                                key={deck.id}\r\n                                deck={deck}\r\n                                categoryLabel={deck.category?.id ? categoryLabels[deck.category.id] : undefined}\r\n                                onClone={handleClone}\r\n                                isCloning={cloningId === deck.id}\r\n                            />\r\n                        ))}\r\n                    </div>\r\n                ) : (\r\n                    <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\r\n                        {filteredDecks.map((deck, index) => (\r\n                            <m.div\r\n                                key={deck.id}\r\n                                custom={index}\r\n                                initial=\"hidden\"\r\n                                animate=\"visible\"\r\n                                variants={cardVariants}\r\n                                whileHover={{ y: -4 }}\r\n                                className=\"group bg-white border border-border p-6 rounded-sm shadow-sm hover:border-brand/40 transition-all relative overflow-hidden\"\r\n                            >\r\n                                <div className=\"flex items-start justify-between mb-6\">\r\n                                    <div className=\"bg-brand/10 p-2 rounded-sm\">\r\n                                        <Layers className=\"h-5 w-5 text-brand\" />\r\n                                    </div>\r\n                                    <div className=\"flex flex-col items-end gap-2\">\r\n                                        {deck.is_verified && (\r\n                                            <span className=\"inline-flex items-center gap-1 text-[9px] font-black uppercase tracking-widest text-brand bg-brand/10 px-2 py-1 rounded-sm\">\r\n                                                <BadgeCheck className=\"h-3 w-3\" />\r\n                                                Verificado\r\n                                            </span>\r\n                                        )}\r\n                                        <div className=\"text-[10px] uppercase tracking-widest font-black text-foreground/30\">\r\n                                            {new Date(deck.published_at || deck.created_at).toLocaleDateString('pt-BR')}\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n\r\n                                {deck.category?.id && (\r\n                                    <div className=\"text-[10px] uppercase tracking-widest font-black text-foreground/30 mb-2\">\r\n                                        {categoryLabels[deck.category.id] || deck.category.name}\r\n                                    </div>\r\n                                )}\r\n\r\n                                <h3 className=\"text-xl font-bold mb-2 group-hover:text-brand transition-colors line-clamp-2\">\r\n                                    {deck.title}\r\n                                </h3>\r\n\r\n                                {deck.description && (\r\n                                    <p className=\"text-sm text-foreground/60 font-medium mb-4 line-clamp-2\">\r\n                                        {deck.description}\r\n                                    </p>\r\n                                )}\r\n\r\n                                <div className=\"flex flex-wrap items-center gap-3 text-xs font-bold text-foreground/40 mb-6\">\r\n                                    <div className=\"bg-gray-100 px-2 py-0.5 rounded-sm\">\r\n                                        {deck.cards?.[0]?.count || 0} CARDS\r\n                                    </div>\r\n                                    <div className=\"bg-emerald-50 text-emerald-700 px-2 py-0.5 rounded-sm\">\r\n                                        {formatPrice(deck.price)}\r\n                                    </div>\r\n                                    {(deck.rating_count || 0) > 0 && (\r\n                                        <div className=\"flex items-center gap-1\">\r\n                                            <Star className=\"h-3.5 w-3.5\" />\r\n                                            {Number(deck.rating || 0).toFixed(1)} ({deck.rating_count})\r\n                                        </div>\r\n                                    )}\r\n                                    {(deck.tags || []).length > 0 && (\r\n                                        <div className=\"flex items-center gap-1\">\r\n                                            <Tag className=\"h-3.5 w-3.5\" />\r\n                                            {(deck.tags || []).slice(0, 2).join(', ')}\r\n                                        </div>\r\n                                    )}\r\n                                </div>\r\n\r\n                                <div className=\"flex flex-col sm:flex-row gap-2\">\r\n                                    <button\r\n                                        onClick={() => handleClone(deck.id)}\r\n                                        disabled={cloningId === deck.id}\r\n                                        className=\"w-full sm:flex-1 bg-brand text-white py-2 rounded-sm text-xs font-bold hover:bg-brand/90 transition-all flex items-center justify-center gap-2 disabled:opacity-70 disabled:cursor-not-allowed\"\r\n                                    >\r\n                                        <Copy className=\"h-3.5 w-3.5\" />\r\n                                        {cloningId === deck.id ? 'Clonando...' : 'Clonar'}\r\n                                    </button>\r\n                                    <Link\r\n                                        href={`/marketplace/${deck.id}`}\r\n                                        className=\"group/link w-full sm:flex-1 bg-white border border-border py-2 rounded-sm text-xs font-bold text-center hover:bg-gray-50 transition-all flex items-center justify-center gap-2\"\r\n                                    >\r\n                                        Ver Deck\r\n                                        <ArrowRight className=\"h-3.5 w-3.5 cta-arrow-shift\" />\r\n                                    </Link>\r\n                                </div>\r\n                            </m.div>\r\n                        ))}\r\n                    </div>\r\n                )}\r\n\r\n                {toast && (\r\n                    <Toast\r\n                        message={toast.message}\r\n                        type={toast.type}\r\n                        onClose={() => setToast(null)}\r\n                    />\r\n                )}\r\n            </AppShell>\r\n        </LazyMotion>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\otavi\\Desktop\\flashcards_generator\\flashcards_generator\\app\\mobile\\features\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\otavi\\Desktop\\flashcards_generator\\flashcards_generator\\app\\mobile\\login\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\otavi\\Desktop\\flashcards_generator\\flashcards_generator\\app\\mobile\\plans\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\otavi\\Desktop\\flashcards_generator\\flashcards_generator\\app\\mobile\\welcome\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Sparkles' is defined but never used.","line":6,"column":10,"nodeType":"Identifier","messageId":"unusedVar","endLine":6,"endColumn":18,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"Sparkles"},"fix":{"range":[159,168],"text":""},"desc":"Remove unused variable \"Sparkles\"."}]},{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":49,"column":25,"nodeType":"JSXOpeningElement","endLine":49,"endColumn":149}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\r\n\r\nimport { useEffect, useState } from 'react';\r\nimport { motion } from 'framer-motion';\r\nimport { useRouter } from 'next/navigation';\r\nimport { Sparkles, ArrowRight } from 'lucide-react';\r\nimport { isTauriApp } from '@/lib/tauri';\r\n\r\nexport default function MobileWelcomePage() {\r\n    const router = useRouter();\r\n    const [checking, setChecking] = useState(true);\r\n\r\n    useEffect(() => {\r\n        if (!isTauriApp()) {\r\n            router.replace('/');\r\n            return;\r\n        }\r\n        setChecking(false);\r\n    }, [router]);\r\n\r\n    const handleContinue = () => {\r\n        if (typeof window !== 'undefined') {\r\n            localStorage.setItem('mobile_onboarding_complete', 'true');\r\n        }\r\n        router.push('/mobile/login');\r\n    };\r\n\r\n    if (checking) {\r\n        return (\r\n            <div className=\"fixed inset-0 flex items-center justify-center bg-[var(--background)]\">\r\n                <div className=\"w-10 h-10 border-3 border-[var(--color-border)] border-t-brand rounded-full animate-spin\" />\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div className=\"fixed inset-0 flex flex-col items-center justify-center p-6 bg-[var(--background)] safe-area-inset\">\r\n            <motion.div\r\n                initial={{ opacity: 0, scale: 0.95 }}\r\n                animate={{ opacity: 1, scale: 1 }}\r\n                transition={{ duration: 0.5 }}\r\n                className=\"max-w-md w-full flex flex-col items-center text-center\"\r\n            >\r\n                {/* Logo - use packaged app icon for a consistent brand */}\r\n                <div className=\"mb-8 relative\">\r\n                    <div className=\"absolute inset-0 bg-brand/20 blur-xl rounded-full\" />\r\n                    <div className=\"relative w-20 h-20 bg-gradient-to-br from-brand to-orange-600 rounded-2xl flex items-center justify-center shadow-2xl overflow-hidden\">\r\n                        {/* Use the app icon from /public/icons for a more authentic visual */}\r\n                        <img src=\"/icons/icon-192x192.png\" alt=\"Flashcards Generator\" width={64} height={64} className=\"w-12 h-12 object-contain\" />\r\n                    </div>\r\n                </div>\r\n\r\n                <h1 className=\"text-3xl font-black text-[var(--foreground)] mb-3 tracking-tight\">\r\n                    Flashcards Generator\r\n                </h1>\r\n\r\n                <p className=\"text-lg text-[var(--color-text-secondary)] mb-10 max-w-sm leading-relaxed\">\r\n                    A maneira mais r├ípida de criar material de estudo.\r\n                    <br />\r\n                    <span className=\"text-brand font-medium\">Agora no seu celular.</span>\r\n                </p>\r\n\r\n                {/* Features */}\r\n                <div className=\"flex flex-col gap-4 mb-10 w-full text-left\">\r\n                    <div className=\"flex items-center gap-4 bg-[var(--card-bg)] border border-[var(--color-border)] p-4 rounded-xl\">\r\n                        <div className=\"w-10 h-10 bg-blue-500/10 rounded-lg flex items-center justify-center shrink-0\">\r\n                            <svg className=\"w-5 h-5 text-blue-500\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M13 10V3L4 14h7v7l9-11h-7z\" />\r\n                            </svg>\r\n                        </div>\r\n                        <div>\r\n                            <h3 className=\"font-bold text-[var(--foreground)] text-sm\">Super R├ípido</h3>\r\n                            <p className=\"text-xs text-[var(--color-text-secondary)]\">Gere decks inteiros em segundos com IA.</p>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className=\"flex items-center gap-4 bg-[var(--card-bg)] border border-[var(--color-border)] p-4 rounded-xl\">\r\n                        <div className=\"w-10 h-10 bg-emerald-500/10 rounded-lg flex items-center justify-center shrink-0\">\r\n                            <svg className=\"w-5 h-5 text-emerald-500\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M5 13l4 4L19 7\" />\r\n                            </svg>\r\n                        </div>\r\n                        <div>\r\n                            <h3 className=\"font-bold text-[var(--foreground)] text-sm\">Funciona Offline</h3>\r\n                            <p className=\"text-xs text-[var(--color-text-secondary)]\">Estude seus cards mesmo sem internet.</p>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className=\"flex items-center gap-4 bg-[var(--card-bg)] border border-[var(--color-border)] p-4 rounded-xl\">\r\n                        <div className=\"w-10 h-10 bg-purple-500/10 rounded-lg flex items-center justify-center shrink-0\">\r\n                            <svg className=\"w-5 h-5 text-purple-500\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15\" />\r\n                            </svg>\r\n                        </div>\r\n                        <div>\r\n                            <h3 className=\"font-bold text-[var(--foreground)] text-sm\">Sincronizado</h3>\r\n                            <p className=\"text-xs text-[var(--color-text-secondary)]\">Seus decks na nuvem, acess├¡veis em qualquer lugar.</p>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                <button\r\n                    onClick={handleContinue}\r\n                    className=\"group relative inline-flex items-center justify-center px-8 py-4 bg-brand text-white font-bold text-lg rounded-xl hover:bg-brand/90 transition-all active:scale-[0.98] shadow-lg shadow-brand/25 w-full\"\r\n                >\r\n                    <span>Come├ºar agora</span>\r\n                    <ArrowRight className=\"ml-2 w-5 h-5 group-hover:translate-x-1 transition-transform\" />\r\n                </button>\r\n\r\n                <p className=\"mt-4 text-xs text-[var(--color-text-secondary)] uppercase tracking-wider font-semibold\">\r\n                    Vers├úo Mobile v1.0.0\r\n                </p>\r\n            </motion.div>\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\otavi\\Desktop\\flashcards_generator\\flashcards_generator\\app\\offline\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\otavi\\Desktop\\flashcards_generator\\flashcards_generator\\app\\opengraph-image.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\otavi\\Desktop\\flashcards_generator\\flashcards_generator\\app\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\otavi\\Desktop\\flashcards_generator\\flashcards_generator\\app\\privacy\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\otavi\\Desktop\\flashcards_generator\\flashcards_generator\\app\\robots.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\otavi\\Desktop\\flashcards_generator\\flashcards_generator\\app\\settings\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'BarChart3' is defined but never used.","line":10,"column":28,"nodeType":"Identifier","messageId":"unusedVar","endLine":10,"endColumn":37,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"BarChart3"},"fix":{"range":[402,413],"text":""},"desc":"Remove unused variable \"BarChart3\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Zap' is defined but never used.","line":10,"column":56,"nodeType":"Identifier","messageId":"unusedVar","endLine":10,"endColumn":59,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"Zap"},"fix":{"range":[430,435],"text":""},"desc":"Remove unused variable \"Zap\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Sun' is defined but never used.","line":10,"column":139,"nodeType":"Identifier","messageId":"unusedVar","endLine":10,"endColumn":142,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"Sun"},"fix":{"range":[513,518],"text":""},"desc":"Remove unused variable \"Sun\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'HelpCircle' is defined but never used.","line":10,"column":173,"nodeType":"Identifier","messageId":"unusedVar","endLine":10,"endColumn":183,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"HelpCircle"},"fix":{"range":[547,559],"text":""},"desc":"Remove unused variable \"HelpCircle\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'SectionLabel' is defined but never used.","line":17,"column":10,"nodeType":"Identifier","messageId":"unusedVar","endLine":17,"endColumn":22}],"suppressedMessages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":28,"column":38,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":28,"endColumn":41,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1234,1237],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1234,1237],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":30,"column":44,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":30,"endColumn":47,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1358,1361],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1358,1361],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\r\n\r\nimport React, { useEffect, useState } from 'react';\r\nimport { useRouter } from 'next/navigation';\r\nimport { LazyMotion, domAnimation, m } from 'framer-motion';\r\nimport { supabase } from '@/lib/supabase';\r\nimport { getApiUrl } from '@/lib/api-config';\r\nimport { PLAN_LIMITS, PlanKey } from '@/constants/pricing';\r\nimport { trackEvent } from '@/lib/analytics';\r\nimport { User, CreditCard, BarChart3, LogOut, Loader2, Zap, ArrowRight, Bell, BookOpen, FileText, Smartphone, Hand, Vibrate, Globe, Moon, Sun, Trash2, MessageSquare, Star, HelpCircle, Shield } from 'lucide-react';\r\nimport Link from 'next/link';\r\nimport NotificationSettings from '@/components/NotificationSettings';\r\nimport { useTauri } from '@/lib/tauri';\r\nimport { useMobilePreferences } from '@/lib/mobile-preferences';\r\nimport AppShell from '@/components/AppShell';\r\n\r\nfunction SectionLabel({ text }: { text: string }) {\r\n    return (\r\n        <p className=\"text-[11px] font-black uppercase tracking-widest text-brand mb-3\">\r\n            {text}\r\n        </p>\r\n    );\r\n}\r\n\r\nexport default function SettingsPage() {\r\n    const router = useRouter();\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    const [user, setUser] = useState<any>(null);\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    const [profile, setProfile] = useState<any>(null);\r\n    const [loading, setLoading] = useState(true);\r\n    const [loadingPortal, setLoadingPortal] = useState(false);\r\n    const { isMobileTauri } = useTauri();\r\n    const [mobilePrefs, setMobilePrefs] = useMobilePreferences();\r\n\r\n    useEffect(() => {\r\n        trackEvent('settings_view', { source: 'settings_page' });\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        const getProfile = async () => {\r\n            const { data: { session } } = await supabase.auth.getSession();\r\n            if (!session) {\r\n                router.push('/auth/login');\r\n                return;\r\n            }\r\n\r\n            setUser(session.user);\r\n\r\n            const { data } = await supabase\r\n                .from('profiles')\r\n                .select('*')\r\n                .eq('id', session.user.id)\r\n                .single();\r\n\r\n            setProfile(data);\r\n            setLoading(false);\r\n        };\r\n\r\n        getProfile();\r\n    }, [router]);\r\n\r\n    const handleSignOut = async () => {\r\n        trackEvent('user_signed_out', { source: 'settings_page' });\r\n        await supabase.auth.signOut();\r\n        router.push('/');\r\n        router.refresh();\r\n    };\r\n\r\n    const handleManageSubscription = async () => {\r\n        try {\r\n            setLoadingPortal(true);\r\n            trackEvent('manage_subscription_clicked', { source: 'settings_page' });\r\n            const response = await fetch(getApiUrl('api/stripe/portal'), {\r\n                method: 'POST',\r\n            });\r\n\r\n            const data = await response.json();\r\n\r\n            if (response.ok && data.url) {\r\n                window.location.href = data.url;\r\n            } else {\r\n                console.error('Failed to get portal URL:', data);\r\n                const errorMsg = data.error === 'No Stripe customer found'\r\n                    ? 'Voc├¬ n├úo possui uma assinatura vinculada ao Stripe. Se seu plano foi ativado manualmente, entre em contato com o suporte.'\r\n                    : 'Erro ao carregar o portal de assinatura. Verifique se voc├¬ possui uma assinatura ativa.';\r\n                alert(errorMsg);\r\n            }\r\n        } catch (error) {\r\n            console.error('Portal Error:', error);\r\n            alert('Ocorreu um erro ao tentar acessar o portal.');\r\n        } finally {\r\n            setLoadingPortal(false);\r\n        }\r\n    };\r\n\r\n    const handleThemeChange = (theme: 'light' | 'dark') => {\r\n        const root = document.documentElement;\r\n        root.classList.toggle('dark', theme === 'dark');\r\n        root.setAttribute('data-theme', theme);\r\n        localStorage.setItem('theme', theme);\r\n        trackEvent('theme_changed', { theme });\r\n    };\r\n\r\n    const handleDeleteAccount = () => {\r\n        if (confirm('Tem certeza? Essa a├º├úo ├® irrevers├¡vel e apagar├í todos os seus decks e dados.')) {\r\n            // TODO: Implement delete account logic\r\n            alert('Funcionalidade em desenvolvimento. Entre em contato com o suporte para excluir sua conta imediatamente.');\r\n        }\r\n    };\r\n\r\n    if (loading) {\r\n        return (\r\n            <div className=\"min-h-screen flex items-center justify-center pt-20\">\r\n                <Loader2 className=\"h-8 w-8 animate-spin text-brand\" />\r\n            </div>\r\n        );\r\n    }\r\n\r\n    const currentPlan = (profile?.plan_tier || 'free') as PlanKey;\r\n    const limits = PLAN_LIMITS[currentPlan];\r\n    const usage = profile?.daily_generations || 0;\r\n    const usagePercent = Math.min((usage / limits.dailyGens) * 100, 100);\r\n\r\n    const cardVariants = {\r\n        hidden: { opacity: 0, y: 20 },\r\n        visible: (i: number) => ({\r\n            opacity: 1,\r\n            y: 0,\r\n            transition: { delay: i * 0.1, duration: 0.4 }\r\n        })\r\n    };\r\n\r\n    return (\r\n        <LazyMotion features={domAnimation}>\r\n            <AppShell eyebrow=\"CONFIGURA├ç├òES\" title=\"Configura├º├Áes da Conta\" maxWidthClass=\"max-w-3xl\">\r\n                <m.div\r\n                    initial={{ opacity: 0, y: 20 }}\r\n                    animate={{ opacity: 1, y: 0 }}\r\n                >\r\n                </m.div>\r\n\r\n                <div className=\"space-y-px bg-zinc-100 dark:bg-zinc-800 border border-zinc-100 dark:border-zinc-800 rounded-sm overflow-hidden\">\r\n                    {/* General Preferences */}\r\n                    <m.div\r\n                        custom={0}\r\n                        initial=\"hidden\"\r\n                        animate=\"visible\"\r\n                        variants={cardVariants}\r\n                        className=\"bg-white dark:bg-zinc-950 p-8\"\r\n                    >\r\n                        <h2 className=\"text-xl font-black text-swiss-header mb-8\">Prefer├¬ncias</h2>\r\n\r\n                        <div className=\"flex items-center justify-between mb-6\">\r\n                            <div className=\"flex items-center gap-3\">\r\n                                <Globe className=\"h-5 w-5 text-zinc-400\" />\r\n                                <span className=\"text-sm font-bold\">Idioma</span>\r\n                            </div>\r\n                            <select className=\"bg-zinc-50 dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-sm px-3 py-1.5 text-xs font-bold uppercase tracking-wider outline-none\">\r\n                                <option value=\"pt\">Portugu├¬s</option>\r\n                                <option value=\"en\">English (Breve)</option>\r\n                                <option value=\"es\">Espa├▒ol (Breve)</option>\r\n                            </select>\r\n                        </div>\r\n\r\n                        <div className=\"flex items-center justify-between\">\r\n                            <div className=\"flex items-center gap-3\">\r\n                                <Moon className=\"h-5 w-5 text-zinc-400\" />\r\n                                <span className=\"text-sm font-bold\">Tema</span>\r\n                            </div>\r\n                            <div className=\"flex bg-zinc-50 dark:bg-zinc-900 p-1 rounded-sm border border-zinc-200 dark:border-zinc-800\">\r\n                                <button\r\n                                    onClick={() => handleThemeChange('light')}\r\n                                    className=\"px-3 py-1.5 rounded-sm text-xs font-bold uppercase tracking-wider hover:bg-white dark:hover:bg-zinc-800 hover:shadow-sm transition-all\"\r\n                                >\r\n                                    Claro\r\n                                </button>\r\n                                <button\r\n                                    onClick={() => handleThemeChange('dark')}\r\n                                    className=\"px-3 py-1.5 rounded-sm text-xs font-bold uppercase tracking-wider hover:bg-white dark:hover:bg-zinc-800 hover:shadow-sm transition-all\"\r\n                                >\r\n                                    Escuro\r\n                                </button>\r\n                            </div>\r\n                        </div>\r\n                    </m.div>\r\n\r\n                    {/* Profile Card */}\r\n                    <m.div\r\n                        custom={0}\r\n                        initial=\"hidden\"\r\n                        animate=\"visible\"\r\n                        variants={cardVariants}\r\n                        className=\"bg-white dark:bg-zinc-950 p-8 flex items-center justify-between group\"\r\n                    >\r\n                        <div className=\"flex items-center gap-6\">\r\n                            <div className=\"bg-zinc-50 dark:bg-zinc-900 p-4 rounded-sm border border-zinc-100 dark:border-zinc-800\">\r\n                                <User className=\"h-6 w-6 text-brand\" />\r\n                            </div>\r\n                            <div>\r\n                                <h2 className=\"text-xl font-black text-swiss-header\">Perfil</h2>\r\n                                <p className=\"text-xs text-zinc-400 font-bold uppercase tracking-widest mt-1\">{user.email}</p>\r\n                            </div>\r\n                        </div>\r\n                        <button\r\n                            onClick={handleSignOut}\r\n                            className=\"p-3 text-zinc-300 hover:text-red-500 transition-colors ripple\"\r\n                            title=\"Sair\"\r\n                        >\r\n                            <LogOut className=\"h-5 w-5\" />\r\n                        </button>\r\n                    </m.div>\r\n\r\n                    {/* Usage Stats */}\r\n                    <m.div\r\n                        custom={1}\r\n                        initial=\"hidden\"\r\n                        animate=\"visible\"\r\n                        variants={cardVariants}\r\n                        className=\"bg-white dark:bg-zinc-950 p-8\"\r\n                    >\r\n                        <div className=\"flex items-center justify-between mb-8\">\r\n                            <h2 className=\"text-xl font-black text-swiss-header\">Uso Di├írio</h2>\r\n                            <div className=\"text-[10px] font-black uppercase tracking-widest text-zinc-400\">\r\n                                {usage} / {limits.dailyGens}\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"h-1 bg-zinc-100 dark:bg-zinc-900 rounded-full overflow-hidden\">\r\n                            <m.div\r\n                                initial={{ width: 0 }}\r\n                                animate={{ width: `${usagePercent}%` }}\r\n                                transition={{ duration: 0.8, ease: 'easeOut' }}\r\n                                className={`h-full ${usagePercent > 90 ? 'bg-red-500' : 'bg-brand'}`}\r\n                            />\r\n                        </div>\r\n                    </m.div>\r\n\r\n                    {/* Subscription Plan */}\r\n                    <m.div\r\n                        custom={2}\r\n                        initial=\"hidden\"\r\n                        animate=\"visible\"\r\n                        variants={cardVariants}\r\n                        className=\"bg-white dark:bg-zinc-950 p-8 relative overflow-hidden\"\r\n                    >\r\n                        <div className=\"flex items-start justify-between mb-10\">\r\n                            <div>\r\n                                <h2 className=\"text-xl font-black text-swiss-header uppercase tracking-tighter\">Plano {currentPlan === 'free' ? 'B├ísico' : currentPlan}</h2>\r\n                                <p className=\"text-xs text-zinc-400 font-bold mt-1\">Status: {currentPlan === 'free' ? 'Ativo (Gr├ítis)' : 'Premium'}</p>\r\n                            </div>\r\n                            <CreditCard className=\"h-6 w-6 text-zinc-200 dark:text-zinc-800\" />\r\n                        </div>\r\n\r\n                        <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-4 mb-10\">\r\n                            <div className=\"p-4 bg-zinc-50 dark:bg-zinc-900 border border-zinc-100 dark:border-zinc-800 rounded-sm\">\r\n                                <span className=\"text-[10px] font-black uppercase tracking-widest text-brand block mb-1\">Gera├º├Áes</span>\r\n                                <span className=\"text-sm font-bold\">{limits.dailyGens} por dia</span>\r\n                            </div>\r\n                            <div className=\"p-4 bg-zinc-50 dark:bg-zinc-900 border border-zinc-100 dark:border-zinc-800 rounded-sm\">\r\n                                <span className=\"text-[10px] font-black uppercase tracking-widest text-brand block mb-1\">Upload</span>\r\n                                <span className=\"text-sm font-bold\">{limits.allowFile ? 'Habilitado' : 'Bloqueado'}</span>\r\n                            </div>\r\n                        </div>\r\n\r\n                        {currentPlan === 'free' ? (\r\n                            <Link\r\n                                href=\"/#pricing\"\r\n                                className=\"block w-full bg-brand text-white py-4 rounded-sm font-black text-xs uppercase tracking-[0.2em] text-center hover:bg-brand/90 transition-all shadow-xl shadow-brand/20 ripple\"\r\n                            >\r\n                                Fazer Upgrade\r\n                            </Link>\r\n                        ) : (\r\n                            <button\r\n                                onClick={handleManageSubscription}\r\n                                disabled={loadingPortal}\r\n                                className=\"w-full bg-zinc-900 dark:bg-zinc-100 text-white dark:text-black py-4 rounded-sm font-black text-xs uppercase tracking-[0.2em] hover:opacity-90 transition-all disabled:opacity-50 ripple flex items-center justify-center gap-2\"\r\n                            >\r\n                                {loadingPortal && <Loader2 className=\"h-4 w-4 animate-spin\" />}\r\n                                Painel Strype\r\n                            </button>\r\n                        )}\r\n                    </m.div>\r\n\r\n                    {/* Notifications */}\r\n                    <m.div\r\n                        custom={3}\r\n                        initial=\"hidden\"\r\n                        animate=\"visible\"\r\n                        variants={cardVariants}\r\n                        className=\"bg-white dark:bg-zinc-950 p-8\"\r\n                    >\r\n                        <div className=\"flex items-center justify-between mb-8\">\r\n                            <h2 className=\"text-xl font-black text-swiss-header\">Notifica├º├Áes</h2>\r\n                            <Bell className=\"h-5 w-5 text-zinc-300 dark:text-zinc-700\" />\r\n                        </div>\r\n                        <NotificationSettings />\r\n                    </m.div>\r\n\r\n                    {/* Privacy */}\r\n                    <m.div\r\n                        custom={4}\r\n                        initial=\"hidden\"\r\n                        animate=\"visible\"\r\n                        variants={cardVariants}\r\n                        className=\"bg-white dark:bg-zinc-950 p-8\"\r\n                    >\r\n                        <div className=\"flex items-center justify-between mb-8\">\r\n                            <h2 className=\"text-xl font-black text-swiss-header\">Privacidade</h2>\r\n                            <Shield className=\"h-5 w-5 text-zinc-300 dark:text-zinc-700\" />\r\n                        </div>\r\n                        <div className=\"space-y-4\">\r\n                            <button className=\"w-full flex items-center justify-between p-4 bg-zinc-50 dark:bg-zinc-900 border border-zinc-100 dark:border-zinc-800 rounded-sm hover:border-zinc-300 transition-colors group text-left\">\r\n                                <span className=\"text-sm font-bold text-foreground/70\">Exportar meus dados</span>\r\n                                <ArrowRight className=\"h-4 w-4 text-zinc-300 group-hover:text-brand transition-all\" />\r\n                            </button>\r\n                            <button\r\n                                onClick={handleDeleteAccount}\r\n                                className=\"w-full flex items-center justify-between p-4 bg-red-50 dark:bg-red-900/10 border border-red-100 dark:border-red-900/20 rounded-sm hover:border-red-300 transition-colors group text-left\"\r\n                            >\r\n                                <span className=\"text-sm font-bold text-red-600\">Excluir conta</span>\r\n                                <Trash2 className=\"h-4 w-4 text-red-400 group-hover:text-red-600 transition-all\" />\r\n                            </button>\r\n                        </div>\r\n                    </m.div>\r\n\r\n                    {/* Mobile Settings - Only visible on mobile Tauri */}\r\n                    {isMobileTauri && (\r\n                        <m.div\r\n                            custom={4}\r\n                            initial=\"hidden\"\r\n                            animate=\"visible\"\r\n                            variants={cardVariants}\r\n                            className=\"bg-white dark:bg-zinc-950 p-8\"\r\n                        >\r\n                            <div className=\"flex items-center justify-between mb-8\">\r\n                                <h2 className=\"text-xl font-black text-swiss-header\">Gestos e Feedback</h2>\r\n                                <Smartphone className=\"h-5 w-5 text-zinc-300 dark:text-zinc-700\" />\r\n                            </div>\r\n                            <div className=\"space-y-6\">\r\n                                {/* Swipe Gestures Toggle */}\r\n                                <div className=\"flex items-center justify-between\">\r\n                                    <div className=\"flex items-center gap-3\">\r\n                                        <Hand className=\"h-5 w-5 text-brand\" />\r\n                                        <div>\r\n                                            <p className=\"font-bold text-sm\">Gestos de Swipe</p>\r\n                                            <p className=\"text-xs text-zinc-500\">Deslize para virar e avaliar cards</p>\r\n                                        </div>\r\n                                    </div>\r\n                                    <button\r\n                                        onClick={() => setMobilePrefs({ swipeGesturesEnabled: !mobilePrefs.swipeGesturesEnabled })}\r\n                                        className={`relative w-12 h-7 rounded-full transition-colors ${mobilePrefs.swipeGesturesEnabled ? 'bg-brand' : 'bg-zinc-200 dark:bg-zinc-700'}`}\r\n                                    >\r\n                                        <span className={`absolute top-1 w-5 h-5 bg-white rounded-full shadow transition-transform ${mobilePrefs.swipeGesturesEnabled ? 'translate-x-6' : 'translate-x-1'}`} />\r\n                                    </button>\r\n                                </div>\r\n\r\n                                {/* Haptic Feedback Toggle */}\r\n                                <div className=\"flex items-center justify-between\">\r\n                                    <div className=\"flex items-center gap-3\">\r\n                                        <Vibrate className=\"h-5 w-5 text-brand\" />\r\n                                        <div>\r\n                                            <p className=\"font-bold text-sm\">Vibra├º├úo</p>\r\n                                            <p className=\"text-xs text-zinc-500\">Feedback t├ítil nas intera├º├Áes</p>\r\n                                        </div>\r\n                                    </div>\r\n                                    <button\r\n                                        onClick={() => setMobilePrefs({ hapticFeedbackEnabled: !mobilePrefs.hapticFeedbackEnabled })}\r\n                                        className={`relative w-12 h-7 rounded-full transition-colors ${mobilePrefs.hapticFeedbackEnabled ? 'bg-brand' : 'bg-zinc-200 dark:bg-zinc-700'}`}\r\n                                    >\r\n                                        <span className={`absolute top-1 w-5 h-5 bg-white rounded-full shadow transition-transform ${mobilePrefs.hapticFeedbackEnabled ? 'translate-x-6' : 'translate-x-1'}`} />\r\n                                    </button>\r\n                                </div>\r\n\r\n                                {/* Haptic Intensity */}\r\n                                {mobilePrefs.hapticFeedbackEnabled && (\r\n                                    <div className=\"pl-8\">\r\n                                        <p className=\"text-xs font-bold text-zinc-500 uppercase tracking-wider mb-3\">Intensidade</p>\r\n                                        <div className=\"flex gap-2\">\r\n                                            {(['light', 'medium', 'strong'] as const).map((intensity) => (\r\n                                                <button\r\n                                                    key={intensity}\r\n                                                    onClick={() => setMobilePrefs({ hapticIntensity: intensity })}\r\n                                                    className={`flex-1 py-2 px-3 rounded-lg text-xs font-bold uppercase tracking-wider transition-colors ${mobilePrefs.hapticIntensity === intensity\r\n                                                        ? 'bg-brand text-white'\r\n                                                        : 'bg-zinc-100 dark:bg-zinc-800 text-zinc-600 dark:text-zinc-400'\r\n                                                        }`}\r\n                                                >\r\n                                                    {intensity === 'light' ? 'Leve' : intensity === 'medium' ? 'M├®dio' : 'Forte'}\r\n                                                </button>\r\n                                            ))}\r\n                                        </div>\r\n                                    </div>\r\n                                )}\r\n                            </div>\r\n                        </m.div>\r\n                    )}\r\n\r\n                    {/* Feedback */}\r\n                    <m.div\r\n                        custom={isMobileTauri ? 6 : 5}\r\n                        initial=\"hidden\"\r\n                        animate=\"visible\"\r\n                        variants={cardVariants}\r\n                        className=\"bg-white dark:bg-zinc-950 p-8\"\r\n                    >\r\n                        <h2 className=\"text-xl font-black text-swiss-header mb-8\">Feedback</h2>\r\n                        <div className=\"grid grid-cols-1 gap-2\">\r\n                            <a\r\n                                href=\"mailto:feedback@flashcardsgenerator.com\"\r\n                                className=\"flex items-center justify-between p-4 bg-zinc-50 dark:bg-zinc-900 border border-zinc-100 dark:border-zinc-800 rounded-sm hover:border-brand transition-colors group ripple\"\r\n                            >\r\n                                <div className=\"flex items-center gap-4\">\r\n                                    <MessageSquare className=\"h-5 w-5 text-brand\" />\r\n                                    <span className=\"text-sm font-bold uppercase tracking-tight\">Enviar Sugest├úo</span>\r\n                                </div>\r\n                                <ArrowRight className=\"h-4 w-4 text-zinc-300 group-hover:text-brand transition-all group-hover:translate-x-1\" />\r\n                            </a>\r\n                            <button\r\n                                className=\"flex items-center justify-between p-4 bg-zinc-50 dark:bg-zinc-900 border border-zinc-100 dark:border-zinc-800 rounded-sm hover:border-brand transition-colors group ripple w-full text-left\"\r\n                            >\r\n                                <div className=\"flex items-center gap-4\">\r\n                                    <Star className=\"h-5 w-5 text-yellow-500\" />\r\n                                    <span className=\"text-sm font-bold uppercase tracking-tight\">Avaliar App</span>\r\n                                </div>\r\n                                <ArrowRight className=\"h-4 w-4 text-zinc-300 group-hover:text-brand transition-all group-hover:translate-x-1\" />\r\n                            </button>\r\n                        </div>\r\n                    </m.div>\r\n\r\n                    {/* Help & Support */}\r\n                    <m.div\r\n                        custom={isMobileTauri ? 7 : 6}\r\n                        initial=\"hidden\"\r\n                        animate=\"visible\"\r\n                        variants={cardVariants}\r\n                        className=\"bg-white dark:bg-zinc-950 p-8\"\r\n                    >\r\n                        <h2 className=\"text-xl font-black text-swiss-header mb-8\">Ajuda e Suporte</h2>\r\n                        <div className=\"grid grid-cols-1 gap-2\">\r\n                            <Link\r\n                                href=\"/guia\"\r\n                                className=\"flex items-center justify-between p-4 bg-zinc-50 dark:bg-zinc-900 border border-zinc-100 dark:border-zinc-800 rounded-sm hover:border-brand transition-colors group ripple\"\r\n                            >\r\n                                <div className=\"flex items-center gap-4\">\r\n                                    <BookOpen className=\"h-5 w-5 text-brand\" />\r\n                                    <span className=\"text-sm font-bold uppercase tracking-tight\">Tutorial Android</span>\r\n                                </div>\r\n                                <ArrowRight className=\"h-4 w-4 text-zinc-300 group-hover:text-brand transition-all group-hover:translate-x-1\" />\r\n                            </Link>\r\n                            <Link\r\n                                href=\"/documentacao\"\r\n                                className=\"flex items-center justify-between p-4 bg-zinc-50 dark:bg-zinc-900 border border-zinc-100 dark:border-zinc-800 rounded-sm hover:border-brand transition-colors group ripple\"\r\n                            >\r\n                                <div className=\"flex items-center gap-4\">\r\n                                    <FileText className=\"h-5 w-5 text-zinc-400\" />\r\n                                    <span className=\"text-sm font-bold uppercase tracking-tight\">Documenta├º├úo</span>\r\n                                </div>\r\n                                <ArrowRight className=\"h-4 w-4 text-zinc-300 group-hover:text-brand transition-all group-hover:translate-x-1\" />\r\n                            </Link>\r\n                        </div>\r\n                    </m.div>\r\n                </div>\r\n            </AppShell>\r\n        </LazyMotion>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\otavi\\Desktop\\flashcards_generator\\flashcards_generator\\app\\sitemap.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\otavi\\Desktop\\flashcards_generator\\flashcards_generator\\app\\template.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\otavi\\Desktop\\flashcards_generator\\flashcards_generator\\app\\terms\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\otavi\\Desktop\\flashcards_generator\\flashcards_generator\\components\\AnalyticsPageView.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\otavi\\Desktop\\flashcards_generator\\flashcards_generator\\components\\AnalyticsProvider.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\otavi\\Desktop\\flashcards_generator\\flashcards_generator\\components\\AppShell.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'topPaddingMd' is assigned a value but never used.","line":36,"column":9,"nodeType":"Identifier","messageId":"unusedVar","endLine":36,"endColumn":21}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\r\n\r\nimport React from 'react';\r\n\r\n/**\r\n * AppShell\r\n *\r\n * Centralized page shell that guarantees consistent top spacing across all screens,\r\n * handles the device safe area (status bar), and provides a single header layout\r\n * for title/eyebrow/subtitle and optional header actions (CTAs).\r\n *\r\n * Usage:\r\n * <AppShell title=\"Minha P├ígina\" eyebrow=\"SE├ç├âO\" subtitle=\"Breve descri├º├úo\">\r\n *   ...page content...\r\n * </AppShell>\r\n *\r\n * This prevents per-page top margin/padding variations and keeps the main H1\r\n * visually aligned across mobile and desktop breakpoints.\r\n */\r\n\r\ninterface AppShellProps {\r\n  title?: React.ReactNode;\r\n  eyebrow?: string;\r\n  subtitle?: React.ReactNode;\r\n  headerActions?: React.ReactNode;\r\n  titleClassName?: string;\r\n  maxWidthClass?: string; // Tailwind max width class (e.g., 'max-w-7xl')\r\n  children?: React.ReactNode;\r\n  className?: string;\r\n}\r\n\r\nexport default function AppShell({ title, eyebrow, subtitle, headerActions, titleClassName, maxWidthClass = 'max-w-7xl', children, className = '' }: AppShellProps) {\r\n  // Use safe-area-inset-top + standard top spacing so all screens align\r\n  // Base spacing: mobile pt-12 (48px), md:pt-20 (80px)\r\n  const topPadding = 'calc(env(safe-area-inset-top, 0px) + 3rem)';\r\n  const topPaddingMd = 'calc(env(safe-area-inset-top, 0px) + 5rem)';\r\n\r\n  return (\r\n    <div>\r\n      <div\r\n        style={{ paddingTop: topPadding }}\r\n        className={`${maxWidthClass} mx-auto px-4 sm:px-6 lg:px-8 pt-12 md:pt-20`}\r\n      >\r\n        <header className={`mb-8 ${className}`}>\r\n          {/* Stack on small screens to avoid overlap with headerActions; align side-by-side on sm+ */}\r\n          <div className=\"flex flex-col sm:flex-row items-start sm:items-end justify-between gap-6\">\r\n            <div>\r\n              {eyebrow && <p className=\"text-[11px] font-black uppercase tracking-widest text-brand mb-3\">{eyebrow}</p>}\r\n              {title && (\r\n                <h1 className={`${titleClassName ?? 'text-3xl md:text-4xl'} font-bold tracking-tight text-foreground`}>{title}</h1>\r\n              )}\r\n              {subtitle && <p className=\"text-foreground/60 font-medium mt-2\">{subtitle}</p>}\r\n            </div>\r\n            {/* Optional header actions (e.g., CTA) can be provided by pages via headerActions prop */}\r\n            <div className=\"flex-shrink-0 mt-4 sm:mt-0 max-w-[260px] w-full sm:w-auto\">{(headerActions as React.ReactNode) ?? null}</div>\r\n          </div>\r\n        </header>\r\n      </div>\r\n\r\n      {/* Content area ÔÇö note we keep the same horizontal paddings to align content with header */}\r\n      <div className={`${maxWidthClass} mx-auto px-4 sm:px-6 lg:px-8 pb-12 md:pb-20`}>{children}</div>\r\n\r\n    </div>\r\n  );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\otavi\\Desktop\\flashcards_generator\\flashcards_generator\\components\\AuthGateModal.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\otavi\\Desktop\\flashcards_generator\\flashcards_generator\\components\\BottomNav.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\otavi\\Desktop\\flashcards_generator\\flashcards_generator\\components\\CheckoutButton.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\otavi\\Desktop\\flashcards_generator\\flashcards_generator\\components\\CheckoutSuccessTracker.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\otavi\\Desktop\\flashcards_generator\\flashcards_generator\\components\\ConfirmationModal.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\otavi\\Desktop\\flashcards_generator\\flashcards_generator\\components\\ContextMenu.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\otavi\\Desktop\\flashcards_generator\\flashcards_generator\\components\\CookieConsent.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\otavi\\Desktop\\flashcards_generator\\flashcards_generator\\components\\DesktopSidebar.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\otavi\\Desktop\\flashcards_generator\\flashcards_generator\\components\\EditableCard.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'e' is defined but never used.","line":43,"column":46,"nodeType":"Identifier","messageId":"unusedVar","endLine":43,"endColumn":47},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'e' is defined but never used.","line":47,"column":49,"nodeType":"Identifier","messageId":"unusedVar","endLine":47,"endColumn":50},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'e' is defined but never used.","line":70,"column":43,"nodeType":"Identifier","messageId":"unusedVar","endLine":70,"endColumn":44}],"suppressedMessages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":82,"column":98,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":82,"endColumn":101,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2997,3000],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2997,3000],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":94,"column":29,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":94,"endColumn":32,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3697,3700],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3697,3700],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":95,"column":32,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":95,"endColumn":35,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3782,3785],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3782,3785],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\r\n\r\nimport React, { useState, useRef } from 'react';\r\nimport { motion, PanInfo } from 'framer-motion';\r\nimport { Edit2, Trash2, Star, Copy, Share2 } from 'lucide-react';\r\nimport ContextMenu from '@/components/ContextMenu';\r\nimport { useSwipeGesture } from '@/hooks/useSwipeGesture';\r\nimport { haptics } from '@/lib/haptics';\r\n\r\n/*\r\n Temporarily allow explicit any for pan event forwarding to the low-level swipe handler.\r\n We'll replace this with stronger types when we extract a well-typed swipe adapter.\r\n*/\r\n/* eslint-disable @typescript-eslint/no-explicit-any */\r\n\r\ninterface CardProps {\r\n    id: string;\r\n    question: string;\r\n    answer: string;\r\n    question_image_url?: string | null;\r\n    answer_image_url?: string | null;\r\n    favorite?: boolean;\r\n}\r\n\r\ninterface EditableCardProps {\r\n    card: CardProps;\r\n    idx: number;\r\n    onDelete: (id: string) => void;\r\n    onUpdate: (id: string, patched: Partial<CardProps>) => void;\r\n    onToggleFavorite: (id: string) => void;\r\n}\r\n\r\nexport default function EditableCard({ card, idx, onDelete, onUpdate, onToggleFavorite }: EditableCardProps) {\r\n    const [editing, setEditing] = useState(false);\r\n    const [draftQuestion, setDraftQuestion] = useState(card.question);\r\n    const [draftAnswer, setDraftAnswer] = useState(card.answer);\r\n    const [menuOpen, setMenuOpen] = useState(false);\r\n    const [menuPos, setMenuPos] = useState({ x: 0, y: 0 });\r\n    const longPressTimer = useRef<number | null>(null);\r\n\r\n    const handlers = useSwipeGesture({\r\n        onSwipeLeft: () => {\r\n            try { haptics.impact(); } catch (e) {}\r\n            onDelete(card.id);\r\n        },\r\n        onSwipeRight: () => {\r\n            try { haptics.selection(); } catch (e) {}\r\n            onToggleFavorite(card.id);\r\n        },\r\n        threshold: 60,\r\n        velocityThreshold: 200,\r\n    });\r\n\r\n    const startLongPress = (e: React.PointerEvent) => {\r\n        longPressTimer.current = window.setTimeout(() => {\r\n            setMenuPos({ x: e.clientX, y: e.clientY });\r\n            setMenuOpen(true);\r\n        }, 700);\r\n    };\r\n    const clearLongPress = () => {\r\n        if (longPressTimer.current) {\r\n            clearTimeout(longPressTimer.current);\r\n            longPressTimer.current = null;\r\n        }\r\n    };\r\n\r\n    const handleSave = () => {\r\n        onUpdate(card.id, { question: draftQuestion, answer: draftAnswer });\r\n        setEditing(false);\r\n        try { haptics.success(); } catch (e) {}\r\n    };\r\n\r\n    const handleCancel = () => {\r\n        setDraftQuestion(card.question);\r\n        setDraftAnswer(card.answer);\r\n        setEditing(false);\r\n    };\r\n\r\n    const menuOptions = [\r\n        { id: 'copy_q', label: 'Copiar pergunta', icon: Copy, onClick: () => navigator.clipboard?.writeText(card.question) },\r\n        { id: 'copy_a', label: 'Copiar resposta', icon: Copy, onClick: () => navigator.clipboard?.writeText(card.answer) },\r\n        { id: 'share', label: 'Compartilhar', icon: Share2, onClick: () => { try { (navigator as any).share?.({ title: 'Flashcard', text: `${card.question}\\n\\n${card.answer}` }); } catch {} } },\r\n        { id: 'favorite', label: card.favorite ? 'Remover favorito' : 'Marcar favorito', icon: Star, onClick: () => onToggleFavorite(card.id) },\r\n        { id: 'delete', label: 'Excluir', icon: Trash2, destructive: true, onClick: () => onDelete(card.id) },\r\n    ];\r\n\r\n    return (\r\n        <motion.div\r\n            className=\"relative bg-[var(--secondary-system-background)] p-6 rounded-[var(--corner-card)]\"\r\n            drag=\"x\"\r\n            dragConstraints={{ left: 0, right: 0 }}\r\n            dragElastic={0.12}\r\n            onDragStart={() => handlers.onDragStart()}\r\n            onDrag={(event: any, info: PanInfo) => handlers.onDrag(event, info)}\r\n            onDragEnd={(event: any, info: PanInfo) => handlers.onDragEnd(event, info)}\r\n            /* eslint-enable @typescript-eslint/no-explicit-any */\r\n            onContextMenu={(e) => { e.preventDefault(); setMenuPos({ x: e.clientX, y: e.clientY }); setMenuOpen(true); }}\r\n            onPointerDown={startLongPress}\r\n            onPointerUp={() => { clearLongPress(); }}\r\n            onPointerCancel={() => { clearLongPress(); }}\r\n        >\r\n            <div className=\"flex items-start justify-between mb-4\">\r\n                <div className=\"flex items-center gap-2\">\r\n                    <button\r\n                        onClick={() => onToggleFavorite(card.id)}\r\n                        aria-label={card.favorite ? 'Remover favorito' : 'Favoritar'}\r\n                        className={`p-1 ${card.favorite ? 'text-yellow-500' : 'text-zinc-400'}`}\r\n                    >\r\n                        <Star className=\"w-4 h-4\" />\r\n                    </button>\r\n                    <span className=\"text-[10px] font-black uppercase tracking-[0.2em] text-zinc-300\">Card #{idx + 1}</span>\r\n                </div>\r\n                <div className=\"flex items-center gap-2\">\r\n                    <button onClick={() => setEditing(true)} className=\"p-1\" aria-label=\"Editar\">\r\n                        <Edit2 className=\"w-4 h-4\" />\r\n                    </button>\r\n                    <button onClick={() => onDelete(card.id)} className=\"p-1 text-zinc-200 hover:text-red-500 transition-colors\" aria-label=\"Excluir\">\r\n                        <Trash2 className=\"w-4 h-4\" />\r\n                    </button>\r\n                </div>\r\n            </div>\r\n\r\n            {editing ? (\r\n                <div className=\"space-y-4\">\r\n                    <label className=\"text-[9px] font-black uppercase tracking-widest text-brand mb-2 block\">Pergunta</label>\r\n                    <textarea value={draftQuestion} onChange={(e) => setDraftQuestion(e.target.value)} className=\"w-full p-3 border border-border rounded-sm bg-white dark:bg-zinc-900\" />\r\n                    <label className=\"text-[9px] font-black uppercase tracking-widest text-zinc-400 mb-2 block\">Resposta</label>\r\n                    <textarea value={draftAnswer} onChange={(e) => setDraftAnswer(e.target.value)} className=\"w-full p-3 border border-border rounded-sm bg-white dark:bg-zinc-900\" />\r\n\r\n                    <div className=\"flex gap-2 mt-2\">\r\n                        <button onClick={handleSave} className=\"px-4 py-2 bg-brand text-white rounded-sm font-bold\">Salvar</button>\r\n                        <button onClick={handleCancel} className=\"px-4 py-2 rounded-sm border\">Cancelar</button>\r\n                    </div>\r\n                </div>\r\n            ) : (\r\n                <div className=\"space-y-6\">\r\n                    <div>\r\n                        <label className=\"text-[9px] font-black uppercase tracking-widest text-brand mb-2 block\">Pergunta</label>\r\n                        <p className=\"text-lg font-black text-swiss-header leading-tight italic\">{card.question}</p>\r\n                    </div>\r\n                    <div className=\"pt-6 border-t border-zinc-50 dark:border-zinc-900\">\r\n                        <label className=\"text-[9px] font-black uppercase tracking-widest text-zinc-400 mb-2 block\">Resposta</label>\r\n                        <p className=\"text-base font-bold text-zinc-600 dark:text-zinc-400 leading-snug\">{card.answer}</p>\r\n                    </div>\r\n                </div>\r\n            )}\r\n\r\n            <ContextMenu\r\n                open={menuOpen}\r\n                x={menuPos.x}\r\n                y={menuPos.y}\r\n                options={menuOptions}\r\n                onClose={() => setMenuOpen(false)}\r\n            />\r\n        </motion.div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\otavi\\Desktop\\flashcards_generator\\flashcards_generator\\components\\ExportModal.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\otavi\\Desktop\\flashcards_generator\\flashcards_generator\\components\\FeedbackWidget.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\otavi\\Desktop\\flashcards_generator\\flashcards_generator\\components\\FlashcardPlayer.tsx","messages":[],"suppressedMessages":[{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'handleKeyDown'. Either include it or remove the dependency array.","line":118,"column":8,"nodeType":"ArrayExpression","endLine":118,"endColumn":33,"suggestions":[{"desc":"Update the dependencies array to be: [currentIndex, handleKeyDown, isFlipped]","fix":{"range":[3647,3672],"text":"[currentIndex, handleKeyDown, isFlipped]"}}],"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\otavi\\Desktop\\flashcards_generator\\flashcards_generator\\components\\HomeContent.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\otavi\\Desktop\\flashcards_generator\\flashcards_generator\\components\\InstallPrompt.tsx","messages":[{"ruleId":"react-hooks/immutability","severity":2,"message":"Error: This value cannot be modified\n\nModifying a variable defined outside a component or hook is not allowed. Consider using an effect.\n\nC:\\Users\\otavi\\Desktop\\flashcards_generator\\flashcards_generator\\components\\InstallPrompt.tsx:95:13\n  93 |             trackEvent('desktop_install_clicked', { platform: 'windows' });\n  94 |             // Direct download link\n> 95 |             window.location.href = 'https://github.com/otavio0machado/flashcards_generator/releases/download/v1.0.4/Flashcards.Generator_1.0.4_x64-setup.exe';\n     |             ^^^^^^^^^^^^^^^ value cannot be modified\n  96 |             handleDismiss(); // Close prompt after click\n  97 |             return;\n  98 |         }","line":95,"column":13,"nodeType":null,"endLine":95,"endColumn":28}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\r\n\r\nimport React, { useEffect, useState } from 'react';\r\nimport { LazyMotion, domAnimation, m, AnimatePresence } from 'framer-motion';\r\nimport { Download, X, Smartphone } from 'lucide-react';\r\nimport { trackEvent } from '@/lib/analytics';\r\n\r\ninterface BeforeInstallPromptEvent extends Event {\r\n    readonly platforms: string[];\r\n    readonly userChoice: Promise<{\r\n        outcome: 'accepted' | 'dismissed';\r\n        platform: string;\r\n    }>;\r\n    prompt(): Promise<void>;\r\n}\r\n\r\ndeclare global {\r\n    interface WindowEventMap {\r\n        beforeinstallprompt: BeforeInstallPromptEvent;\r\n    }\r\n}\r\n\r\nexport default function InstallPrompt() {\r\n    const [deferredPrompt, setDeferredPrompt] = useState<BeforeInstallPromptEvent | null>(null);\r\n    const [showPrompt, setShowPrompt] = useState(false);\r\n    const [isIOS, setIsIOS] = useState(false);\r\n    const [isWindows, setIsWindows] = useState(false);\r\n    const [isStandalone, setIsStandalone] = useState(false);\r\n\r\n    useEffect(() => {\r\n        // Check if already installed (standalone mode)\r\n        const standalone = window.matchMedia('(display-mode: standalone)').matches\r\n            || (window.navigator as Navigator & { standalone?: boolean }).standalone === true;\r\n        setIsStandalone(standalone);\r\n\r\n        // Detect OS\r\n        const ua = navigator.userAgent.toLowerCase();\r\n        const iOS = /iPad|iPhone|iPod/.test(ua);\r\n        const windows = ua.includes('windows');\r\n\r\n        setIsIOS(iOS);\r\n        setIsWindows(windows);\r\n\r\n        // Check if user dismissed the prompt before\r\n        const dismissed = localStorage.getItem('pwa-prompt-dismissed');\r\n        const dismissedAt = dismissed ? parseInt(dismissed, 10) : 0;\r\n        const daysSinceDismissed = (Date.now() - dismissedAt) / (1000 * 60 * 60 * 24);\r\n\r\n        // Show prompt again after 7 days\r\n        if (dismissed && daysSinceDismissed < 7) {\r\n            return;\r\n        }\r\n\r\n        // Handle beforeinstallprompt event (PWA for Android/Desktop PWA)\r\n        const handleBeforeInstallPrompt = (e: BeforeInstallPromptEvent) => {\r\n            e.preventDefault();\r\n            setDeferredPrompt(e);\r\n\r\n            // If not windows (because windows handles its own exe prompt), show PWA prompt\r\n            if (!windows) {\r\n                setTimeout(() => {\r\n                    setShowPrompt(true);\r\n                    trackEvent('pwa_install_prompt_shown', { platform: 'android' });\r\n                }, 30000);\r\n            }\r\n        };\r\n\r\n        window.addEventListener('beforeinstallprompt', handleBeforeInstallPrompt);\r\n\r\n        // For iOS, show custom instructions after delay\r\n        if (iOS && !standalone) {\r\n            setTimeout(() => {\r\n                setShowPrompt(true);\r\n                trackEvent('pwa_install_prompt_shown', { platform: 'ios' });\r\n            }, 60000);\r\n        }\r\n\r\n        // For Windows, show .exe download prompt after delay\r\n        if (windows && !standalone) {\r\n            setTimeout(() => {\r\n                setShowPrompt(true);\r\n                trackEvent('desktop_install_prompt_shown', { platform: 'windows' });\r\n            }, 15000); // Faster prompt for desktop (15s)\r\n        }\r\n\r\n        return () => {\r\n            window.removeEventListener('beforeinstallprompt', handleBeforeInstallPrompt);\r\n        };\r\n    }, []);\r\n\r\n    const handleInstall = async () => {\r\n        if (isWindows) {\r\n            trackEvent('desktop_install_clicked', { platform: 'windows' });\r\n            // Direct download link\r\n            window.location.href = 'https://github.com/otavio0machado/flashcards_generator/releases/download/v1.0.4/Flashcards.Generator_1.0.4_x64-setup.exe';\r\n            handleDismiss(); // Close prompt after click\r\n            return;\r\n        }\r\n\r\n        if (!deferredPrompt) return;\r\n\r\n        trackEvent('pwa_install_clicked', { platform: 'android' });\r\n\r\n        await deferredPrompt.prompt();\r\n        const { outcome } = await deferredPrompt.userChoice;\r\n\r\n        if (outcome === 'accepted') {\r\n            trackEvent('pwa_installed', { platform: 'android' });\r\n        } else {\r\n            trackEvent('pwa_install_dismissed', { platform: 'android' });\r\n        }\r\n\r\n        setDeferredPrompt(null);\r\n        setShowPrompt(false);\r\n    };\r\n\r\n    const handleDismiss = () => {\r\n        localStorage.setItem('pwa-prompt-dismissed', Date.now().toString());\r\n        setShowPrompt(false);\r\n        trackEvent('pwa_prompt_dismissed', { platform: isIOS ? 'ios' : isWindows ? 'windows' : 'android' });\r\n    };\r\n\r\n    // Don't show if already installed\r\n    if (isStandalone) return null;\r\n\r\n    return (\r\n        <LazyMotion features={domAnimation}>\r\n            <AnimatePresence>\r\n                {showPrompt && (\r\n                    <m.div\r\n                        initial={{ opacity: 0, y: 100 }}\r\n                        animate={{ opacity: 1, y: 0 }}\r\n                        exit={{ opacity: 0, y: 100 }}\r\n                        transition={{ type: 'spring', damping: 25, stiffness: 300 }}\r\n                        className=\"fixed bottom-4 left-4 right-4 z-[200] md:left-auto md:right-4 md:w-[380px]\"\r\n                    >\r\n                        <div className=\"bg-white border border-border rounded-sm shadow-2xl overflow-hidden\">\r\n                            {/* Header */}\r\n                            <div className=\"bg-brand/5 border-b border-border p-4 flex items-center justify-between\">\r\n                                <div className=\"flex items-center gap-3\">\r\n                                    <div className=\"bg-brand/10 p-2 rounded-sm\">\r\n                                        <Smartphone className=\"h-5 w-5 text-brand\" />\r\n                                    </div>\r\n                                    <div>\r\n                                        <h3 className=\"font-bold text-sm\">Instalar Flashcards</h3>\r\n                                        <p className=\"text-[10px] font-medium text-foreground/50\">\r\n                                            {isWindows ? 'Vers├úo Desktop Oficial' : 'Acesse mais r├ípido'}\r\n                                        </p>\r\n                                    </div>\r\n                                </div>\r\n                                <button\r\n                                    onClick={handleDismiss}\r\n                                    className=\"text-foreground/30 hover:text-foreground/60 transition-colors p-1\"\r\n                                    aria-label=\"Fechar\"\r\n                                >\r\n                                    <X className=\"h-5 w-5\" />\r\n                                </button>\r\n                            </div>\r\n\r\n                            {/* Content */}\r\n                            <div className=\"p-4\">\r\n                                {isIOS ? (\r\n                                    <div className=\"space-y-3\">\r\n                                        <p className=\"text-sm text-foreground/70 font-medium\">\r\n                                            Adicione ├á tela inicial para acesso r├ípido:\r\n                                        </p>\r\n                                        <ol className=\"text-xs text-foreground/60 space-y-2\">\r\n                                            <li className=\"flex items-center gap-2\">\r\n                                                <span className=\"bg-gray-100 w-5 h-5 rounded-sm flex items-center justify-center text-[10px] font-bold\">1</span>\r\n                                                Toque no ├¡cone de <strong>compartilhar</strong> (ÔûíÔåæ)\r\n                                            </li>\r\n                                            <li className=\"flex items-center gap-2\">\r\n                                                <span className=\"bg-gray-100 w-5 h-5 rounded-sm flex items-center justify-center text-[10px] font-bold\">2</span>\r\n                                                Role e toque em <strong>&quot;Adicionar ├á Tela de In├¡cio&quot;</strong>\r\n                                            </li>\r\n                                            <li className=\"flex items-center gap-2\">\r\n                                                <span className=\"bg-gray-100 w-5 h-5 rounded-sm flex items-center justify-center text-[10px] font-bold\">3</span>\r\n                                                Toque em <strong>&quot;Adicionar&quot;</strong>\r\n                                            </li>\r\n                                        </ol>\r\n                                        <button\r\n                                            onClick={handleDismiss}\r\n                                            className=\"w-full bg-gray-100 text-foreground/70 py-2 rounded-sm text-xs font-bold hover:bg-gray-200 transition-all\"\r\n                                        >\r\n                                            Entendi\r\n                                        </button>\r\n                                    </div>\r\n                                ) : (\r\n                                    <div className=\"space-y-3\">\r\n                                        <p className=\"text-sm text-foreground/70 font-medium\">\r\n                                            {isWindows\r\n                                                ? 'Baixe o app oficial para Windows para melhor performance.'\r\n                                                : 'Instale o app para estudar offline e receber lembretes!'}\r\n                                        </p>\r\n                                        <div className=\"flex gap-2\">\r\n                                            <button\r\n                                                onClick={handleDismiss}\r\n                                                className=\"flex-1 bg-gray-100 text-foreground/60 py-2.5 rounded-sm text-xs font-bold hover:bg-gray-200 transition-all\"\r\n                                            >\r\n                                                Agora n├úo\r\n                                            </button>\r\n                                            <button\r\n                                                onClick={handleInstall}\r\n                                                className=\"flex-1 bg-brand text-white py-2.5 rounded-sm text-xs font-bold hover:bg-brand/90 transition-all flex items-center justify-center gap-2 shadow-lg shadow-brand/20\"\r\n                                            >\r\n                                                <Download className=\"h-3.5 w-3.5\" />\r\n                                                {isWindows ? 'Baixar .EXE' : 'Instalar'}\r\n                                            </button>\r\n                                        </div>\r\n                                    </div>\r\n                                )}\r\n                            </div>\r\n\r\n                            {/* Benefits */}\r\n                            <div className=\"bg-gray-50 border-t border-border px-4 py-3\">\r\n                                <div className=\"flex items-center justify-between text-[10px] font-medium text-foreground/40\">\r\n                                    <span>Ô£ô Acesso offline</span>\r\n                                    <span>Ô£ô Carregamento r├ípido</span>\r\n                                    <span>Ô£ô Sem an├║ncios</span>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </m.div>\r\n                )}\r\n            </AnimatePresence>\r\n        </LazyMotion>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\otavi\\Desktop\\flashcards_generator\\flashcards_generator\\components\\Logo.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\otavi\\Desktop\\flashcards_generator\\flashcards_generator\\components\\MobileHomeDashboard.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\otavi\\Desktop\\flashcards_generator\\flashcards_generator\\components\\MobileShell.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\otavi\\Desktop\\flashcards_generator\\flashcards_generator\\components\\Navbar.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\otavi\\Desktop\\flashcards_generator\\flashcards_generator\\components\\NotificationSettings.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\otavi\\Desktop\\flashcards_generator\\flashcards_generator\\components\\OfflineIndicator.tsx","messages":[{"ruleId":"react-hooks/immutability","severity":2,"message":"Error: Cannot access variable before it is declared\n\n`handleSync` is accessed before it is declared, which prevents the earlier access from updating when this value changes over time.\n\nC:\\Users\\otavi\\Desktop\\flashcards_generator\\flashcards_generator\\components\\OfflineIndicator.tsx:26:13\n  24 |             setTimeout(() => setShowBanner(false), 3000);\n  25 |             // Trigger sync when back online\n> 26 |             handleSync();\n     |             ^^^^^^^^^^ `handleSync` accessed before it is declared\n  27 |         };\n  28 |\n  29 |         const handleOffline = () => {\n\nC:\\Users\\otavi\\Desktop\\flashcards_generator\\flashcards_generator\\components\\OfflineIndicator.tsx:59:5\n  57 |     }\n  58 |\n> 59 |     async function handleSync() {\n     |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 60 |         if (!navigator.onLine) return;\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 61 |         \n     ÔÇª\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 69 |         }, 2000);\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 70 |     }\n     | ^^^^^^ `handleSync` is declared here\n  71 |\n  72 |     return (\n  73 |         <AnimatePresence>","line":26,"column":13,"nodeType":null,"endLine":26,"endColumn":23},{"ruleId":"react-hooks/immutability","severity":2,"message":"Error: Cannot access variable before it is declared\n\n`checkPendingItems` is accessed before it is declared, which prevents the earlier access from updating when this value changes over time.\n\nC:\\Users\\otavi\\Desktop\\flashcards_generator\\flashcards_generator\\components\\OfflineIndicator.tsx:38:9\n  36 |\n  37 |         // Check for pending items\n> 38 |         checkPendingItems();\n     |         ^^^^^^^^^^^^^^^^^ `checkPendingItems` accessed before it is declared\n  39 |\n  40 |         // Listen for sync events\n  41 |         const handleCardSynced = () => {\n\nC:\\Users\\otavi\\Desktop\\flashcards_generator\\flashcards_generator\\components\\OfflineIndicator.tsx:54:5\n  52 |     }, []);\n  53 |\n> 54 |     async function checkPendingItems() {\n     |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 55 |         const cards = await getPendingCards();\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 56 |         setPendingCount(cards.length);\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 57 |     }\n     | ^^^^^^ `checkPendingItems` is declared here\n  58 |\n  59 |     async function handleSync() {\n  60 |         if (!navigator.onLine) return;","line":38,"column":9,"nodeType":null,"endLine":38,"endColumn":26},{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has missing dependencies: 'checkPendingItems' and 'handleSync'. Either include them or remove the dependency array.","line":52,"column":8,"nodeType":"ArrayExpression","endLine":52,"endColumn":10,"suggestions":[{"desc":"Update the dependencies array to be: [checkPendingItems, handleSync]","fix":{"range":[1811,1813],"text":"[checkPendingItems, handleSync]"}}]}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\r\n\r\nimport { useState, useEffect } from 'react';\r\nimport { WifiOff, Wifi, CloudOff, RefreshCw } from 'lucide-react';\r\nimport { motion, AnimatePresence } from 'framer-motion';\r\nimport { useBackgroundSync } from '@/lib/useBackgroundSync';\r\n\r\nexport default function OfflineIndicator() {\r\n    const [isOnline, setIsOnline] = useState(true);\r\n    const [showBanner, setShowBanner] = useState(false);\r\n    const [pendingCount, setPendingCount] = useState(0);\r\n    const [isSyncing, setIsSyncing] = useState(false);\r\n    const { triggerSync, getPendingCards } = useBackgroundSync();\r\n\r\n    useEffect(() => {\r\n        // Set initial state\r\n        setIsOnline(navigator.onLine);\r\n        setShowBanner(!navigator.onLine);\r\n\r\n        // Listen for online/offline events\r\n        const handleOnline = () => {\r\n            setIsOnline(true);\r\n            // Keep banner visible briefly to show we're back online\r\n            setTimeout(() => setShowBanner(false), 3000);\r\n            // Trigger sync when back online\r\n            handleSync();\r\n        };\r\n\r\n        const handleOffline = () => {\r\n            setIsOnline(false);\r\n            setShowBanner(true);\r\n        };\r\n\r\n        window.addEventListener('online', handleOnline);\r\n        window.addEventListener('offline', handleOffline);\r\n\r\n        // Check for pending items\r\n        checkPendingItems();\r\n\r\n        // Listen for sync events\r\n        const handleCardSynced = () => {\r\n            checkPendingItems();\r\n        };\r\n\r\n        window.addEventListener('cardSynced', handleCardSynced);\r\n\r\n        return () => {\r\n            window.removeEventListener('online', handleOnline);\r\n            window.removeEventListener('offline', handleOffline);\r\n            window.removeEventListener('cardSynced', handleCardSynced);\r\n        };\r\n    }, []);\r\n\r\n    async function checkPendingItems() {\r\n        const cards = await getPendingCards();\r\n        setPendingCount(cards.length);\r\n    }\r\n\r\n    async function handleSync() {\r\n        if (!navigator.onLine) return;\r\n        \r\n        setIsSyncing(true);\r\n        await triggerSync();\r\n        \r\n        // Wait a bit then check pending items\r\n        setTimeout(() => {\r\n            checkPendingItems();\r\n            setIsSyncing(false);\r\n        }, 2000);\r\n    }\r\n\r\n    return (\r\n        <AnimatePresence>\r\n            {showBanner && (\r\n                <motion.div\r\n                    initial={{ y: -100, opacity: 0 }}\r\n                    animate={{ y: 0, opacity: 1 }}\r\n                    exit={{ y: -100, opacity: 0 }}\r\n                    className={`fixed top-0 left-0 right-0 z-50 p-3 text-center text-sm font-medium ${\r\n                        isOnline \r\n                            ? 'bg-green-500 text-white' \r\n                            : 'bg-amber-500 text-white'\r\n                    }`}\r\n                >\r\n                    <div className=\"flex items-center justify-center gap-2\">\r\n                        {isOnline ? (\r\n                            <>\r\n                                <Wifi className=\"h-4 w-4\" />\r\n                                <span>Conex├úo restaurada! Sincronizando dados...</span>\r\n                            </>\r\n                        ) : (\r\n                            <>\r\n                                <WifiOff className=\"h-4 w-4\" />\r\n                                <span>Voc├¬ est├í offline. Suas altera├º├Áes ser├úo salvas localmente.</span>\r\n                            </>\r\n                        )}\r\n                    </div>\r\n                </motion.div>\r\n            )}\r\n\r\n            {/* Pending sync indicator */}\r\n            {pendingCount > 0 && isOnline && (\r\n                <motion.button\r\n                    initial={{ scale: 0 }}\r\n                    animate={{ scale: 1 }}\r\n                    exit={{ scale: 0 }}\r\n                    onClick={handleSync}\r\n                    disabled={isSyncing}\r\n                    className=\"fixed bottom-20 right-4 z-40 flex items-center gap-2 rounded-full bg-brand px-4 py-2 text-sm font-medium text-white shadow-lg hover:bg-brand/90 disabled:opacity-70\"\r\n                >\r\n                    <RefreshCw className={`h-4 w-4 ${isSyncing ? 'animate-spin' : ''}`} />\r\n                    <span>{pendingCount} pendente{pendingCount !== 1 ? 's' : ''}</span>\r\n                </motion.button>\r\n            )}\r\n\r\n            {/* Persistent offline mode indicator */}\r\n            {!isOnline && (\r\n                <motion.div\r\n                    initial={{ x: 100, opacity: 0 }}\r\n                    animate={{ x: 0, opacity: 1 }}\r\n                    exit={{ x: 100, opacity: 0 }}\r\n                    className=\"fixed bottom-4 right-4 z-40 flex items-center gap-2 rounded-full bg-zinc-800 px-3 py-1.5 text-xs text-white shadow-lg dark:bg-zinc-700\"\r\n                >\r\n                    <CloudOff className=\"h-3 w-3\" />\r\n                    <span>Modo Offline</span>\r\n                </motion.div>\r\n            )}\r\n        </AnimatePresence>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\otavi\\Desktop\\flashcards_generator\\flashcards_generator\\components\\OnboardingProgressDots.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\otavi\\Desktop\\flashcards_generator\\flashcards_generator\\components\\PageTransition.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\otavi\\Desktop\\flashcards_generator\\flashcards_generator\\components\\StreakBadge.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\otavi\\Desktop\\flashcards_generator\\flashcards_generator\\components\\StudyHeatmap.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\otavi\\Desktop\\flashcards_generator\\flashcards_generator\\components\\SwipeableFlashcard.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\otavi\\Desktop\\flashcards_generator\\flashcards_generator\\components\\TauriConditionalComponents.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\otavi\\Desktop\\flashcards_generator\\flashcards_generator\\components\\TauriMainWrapper.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\otavi\\Desktop\\flashcards_generator\\flashcards_generator\\components\\ThemeToggle.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\otavi\\Desktop\\flashcards_generator\\flashcards_generator\\components\\Toast.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\otavi\\Desktop\\flashcards_generator\\flashcards_generator\\components\\UpgradeModal.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\otavi\\Desktop\\flashcards_generator\\flashcards_generator\\components\\ios\\SearchBar.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\otavi\\Desktop\\flashcards_generator\\flashcards_generator\\components\\ios\\SegmentedControl.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\otavi\\Desktop\\flashcards_generator\\flashcards_generator\\components\\ios\\SheetModal.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\otavi\\Desktop\\flashcards_generator\\flashcards_generator\\components\\ios\\SwipeableRow.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\otavi\\Desktop\\flashcards_generator\\flashcards_generator\\components\\ios\\index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\otavi\\Desktop\\flashcards_generator\\flashcards_generator\\components\\mobile\\DeckCard.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\otavi\\Desktop\\flashcards_generator\\flashcards_generator\\components\\mobile\\FeaturesSection.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\otavi\\Desktop\\flashcards_generator\\flashcards_generator\\components\\mobile\\ForWhoSection.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\otavi\\Desktop\\flashcards_generator\\flashcards_generator\\components\\mobile\\GeneratorActionBar.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\otavi\\Desktop\\flashcards_generator\\flashcards_generator\\components\\mobile\\HomeHero.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'ANIMATION' is defined but never used.","line":7,"column":10,"nodeType":"Identifier","messageId":"unusedVar","endLine":7,"endColumn":19,"suggestions":[{"messageId":"removeUnusedImportDeclaration","data":{"varName":"ANIMATION"},"fix":{"range":[180,231],"text":""},"desc":"Remove unused import declaration."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\r\n\r\nimport Link from 'next/link';\r\nimport { motion } from 'framer-motion';\r\nimport { ArrowRight } from 'lucide-react';\r\nimport { trackEvent } from '@/lib/analytics';\r\nimport { ANIMATION } from '@/lib/animation-config';\r\n\r\nexport default function HomeHero() {\r\n    const handleCtaClick = () => {\r\n        trackEvent('cta_generate_clicked', { location: 'mobile_hero' });\r\n    };\r\n\r\n    return (\r\n        <section className=\"relative px-6 pt-12 pb-16 overflow-hidden\">\r\n            {/* Background blobs */}\r\n            <div className=\"absolute top-0 right-0 w-64 h-64 bg-brand/10 rounded-full blur-3xl -z-10 translate-x-1/2 -translate-y-1/2\" />\r\n            <div className=\"absolute bottom-0 left-0 w-64 h-64 bg-blue-500/5 rounded-full blur-3xl -z-10 -translate-x-1/2 translate-y-1/2\" />\r\n\r\n            <motion.div\r\n                initial={{ opacity: 0, y: 20 }}\r\n                animate={{ opacity: 1, y: 0 }}\r\n                transition={{ duration: 0.6 }}\r\n                className=\"text-center\"\r\n            >\r\n                <div className=\"inline-flex items-center gap-2 px-3 py-1 rounded-full bg-brand/5 border border-brand/10 mb-6\">\r\n                    <span className=\"relative flex h-2 w-2\">\r\n                        <span className=\"animate-ping absolute inline-flex h-full w-full rounded-full bg-brand opacity-75\"></span>\r\n                        <span className=\"relative inline-flex rounded-full h-2 w-2 bg-brand\"></span>\r\n                    </span>\r\n                    <span className=\"text-[10px] font-black uppercase tracking-widest text-brand\">\r\n                        Flashcards Generator\r\n                    </span>\r\n                </div>\r\n\r\n                <h1 className=\"text-[40px] leading-[1.1] font-black text-foreground tracking-tight mb-4\">\r\n                    Aprenda mais focando no que <span className=\"text-brand\">importa</span>.\r\n                </h1>\r\n\r\n                <p className=\"text-lg text-foreground/60 font-medium mb-8 leading-relaxed\">\r\n                    Cole seu resumo e deixe a IA criar seus flashcards do Anki automaticamente.\r\n                </p>\r\n\r\n                <div className=\"flex flex-col gap-3\">\r\n                    <Link\r\n                        href=\"/app/generate\"\r\n                        onClick={handleCtaClick}\r\n                        className=\"w-full bg-brand text-white h-[52px] rounded-xl text-[17px] font-bold flex items-center justify-center gap-2 active:scale-95 transition-transform shadow-lg shadow-brand/20\"\r\n                    >\r\n                        Testar gr├ítis agora\r\n                        <ArrowRight className=\"h-5 w-5 opacity-80\" />\r\n                    </Link>\r\n\r\n                    <Link\r\n                        href=\"#how-it-works\"\r\n                        className=\"w-full bg-secondary-system-background text-label h-[52px] rounded-xl text-[17px] font-bold flex items-center justify-center active:scale-95 transition-transform\"\r\n                    >\r\n                        Como funciona\r\n                    </Link>\r\n                </div>\r\n            </motion.div>\r\n        </section>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\otavi\\Desktop\\flashcards_generator\\flashcards_generator\\components\\mobile\\HowItWorksSection.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'ArrowRight' is defined but never used.","line":4,"column":35,"nodeType":"Identifier","messageId":"unusedVar","endLine":4,"endColumn":45,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"ArrowRight"},"fix":{"range":[90,102],"text":""},"desc":"Remove unused variable \"ArrowRight\"."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\r\n\r\nimport { motion } from 'framer-motion';\r\nimport { FileText, Cpu, Download, ArrowRight } from 'lucide-react';\r\n\r\nexport default function HowItWorksSection() {\r\n    const steps = [\r\n        {\r\n            icon: FileText,\r\n            title: '1. Cole o texto',\r\n            desc: 'Pode ser resumo, apostila ou foto de caderno.',\r\n            color: 'bg-blue-500/10 text-blue-600'\r\n        },\r\n        {\r\n            icon: Cpu,\r\n            title: '2. IA Gera',\r\n            desc: 'Detectamos o que ├® importante e criamos perguntas.',\r\n            color: 'bg-brand/10 text-brand'\r\n        },\r\n        {\r\n            icon: Download,\r\n            title: '3. Exporte',\r\n            desc: 'Mande direto para o Anki ou baixe em PDF.',\r\n            color: 'bg-green-500/10 text-green-600'\r\n        }\r\n    ];\r\n\r\n    return (\r\n        <section id=\"how-it-works\" className=\"py-12 px-6 bg-secondary-system-background/50\">\r\n            <div className=\"mb-8 text-center\">\r\n                <span className=\"text-[10px] font-black uppercase tracking-widest text-brand mb-2 block\">\r\n                    Fluxo Simples\r\n                </span>\r\n                <h2 className=\"text-2xl font-bold text-foreground\">\r\n                    Do texto ao estudo em segundos\r\n                </h2>\r\n            </div>\r\n\r\n            <div className=\"space-y-4\">\r\n                {steps.map((step, index) => (\r\n                    <motion.div\r\n                        key={index}\r\n                        initial={{ opacity: 0, x: -20 }}\r\n                        whileInView={{ opacity: 1, x: 0 }}\r\n                        viewport={{ once: true }}\r\n                        transition={{ delay: index * 0.15 }}\r\n                        className=\"bg-background rounded-2xl p-5 border border-border/50 shadow-sm relative overflow-hidden\"\r\n                    >\r\n                        {index < steps.length - 1 && (\r\n                            <div className=\"absolute left-[38px] top-[60px] bottom-[-20px] w-0.5 border-l-2 border-dashed border-border/60 -z-10 opacity-50\" />\r\n                        )}\r\n\r\n                        <div className=\"flex items-start gap-4\">\r\n                            <div className={`w-12 h-12 rounded-xl flex items-center justify-center shrink-0 ${step.color}`}>\r\n                                <step.icon className=\"w-6 h-6\" />\r\n                            </div>\r\n                            <div>\r\n                                <h3 className=\"text-base font-bold text-foreground mb-1\">\r\n                                    {step.title}\r\n                                </h3>\r\n                                <p className=\"text-sm text-foreground/60 leading-relaxed font-medium\">\r\n                                    {step.desc}\r\n                                </p>\r\n                            </div>\r\n                        </div>\r\n                    </motion.div>\r\n                ))}\r\n            </div>\r\n        </section>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\otavi\\Desktop\\flashcards_generator\\flashcards_generator\\components\\mobile\\MetricsSection.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\otavi\\Desktop\\flashcards_generator\\flashcards_generator\\components\\mobile\\MobileFaqSection.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\otavi\\Desktop\\flashcards_generator\\flashcards_generator\\components\\mobile\\MobilePricingSection.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'motion' is defined but never used.","line":3,"column":10,"nodeType":"Identifier","messageId":"unusedVar","endLine":3,"endColumn":16,"suggestions":[{"messageId":"removeUnusedImportDeclaration","data":{"varName":"motion"},"fix":{"range":[17,56],"text":""},"desc":"Remove unused import declaration."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\r\n\r\nimport { motion } from 'framer-motion';\r\nimport { Check, Star } from 'lucide-react';\r\nimport Link from 'next/link';\r\nimport { trackEvent } from '@/lib/analytics';\r\nimport { STRIPE_PRICES } from '@/constants/config';\r\nimport CheckoutButton from '@/components/CheckoutButton';\r\n\r\nexport default function MobilePricingSection() {\r\n    const handlePricingCta = (plan: 'free' | 'pro' | 'ultimate') => {\r\n        if (plan === 'free') {\r\n            trackEvent('signup_started', { plan, location: 'mobile_pricing' });\r\n        } else {\r\n            trackEvent('checkout_started', { plan, location: 'mobile_pricing' });\r\n        }\r\n    };\r\n\r\n    return (\r\n        <section id=\"pricing\" className=\"py-16 px-6\">\r\n            <div className=\"text-center mb-10\">\r\n                <span className=\"text-[10px] font-black uppercase tracking-widest text-brand mb-2 block\">\r\n                    Planos\r\n                </span>\r\n                <h2 className=\"text-2xl font-bold text-foreground mb-3\">\r\n                    Comece gr├ítis\r\n                </h2>\r\n                <p className=\"text-sm text-foreground/60 font-medium px-4\">\r\n                    Teste ├á vontade. Fa├ºa upgrade apenas se precisar de mais poder.\r\n                </p>\r\n            </div>\r\n\r\n            <div className=\"flex overflow-x-auto pb-8 gap-4 snap-x snap-mandatory -mx-6 px-6 scrollbar-hide\">\r\n                {/* Free Plan */}\r\n                <div className=\"snap-center min-w-[85vw] bg-white border border-border rounded-2xl p-6 flex flex-col items-start shadow-sm\">\r\n                    <div className=\"mb-4\">\r\n                        <div className=\"text-sm font-bold text-foreground/60 uppercase tracking-widest mb-1\">B├ísico</div>\r\n                        <div className=\"text-3xl font-black\">Gr├ítis</div>\r\n                    </div>\r\n                    <ul className=\"space-y-3 mb-8 w-full flex-1\">\r\n                        <li className=\"flex items-center gap-3 text-sm font-medium text-foreground/80\">\r\n                            <Check className=\"w-4 h-4 text-green-500 shrink-0\" /> 3 gera├º├Áes por dia\r\n                        </li>\r\n                        <li className=\"flex items-center gap-3 text-sm font-medium text-foreground/80\">\r\n                            <Check className=\"w-4 h-4 text-green-500 shrink-0\" /> 5 cards por gera├º├úo\r\n                        </li>\r\n                        <li className=\"flex items-center gap-3 text-sm font-medium text-foreground/80\">\r\n                            <Check className=\"w-4 h-4 text-green-500 shrink-0\" /> Exporta├º├úo Anki\r\n                        </li>\r\n                    </ul>\r\n                    <Link\r\n                        href=\"/app/generate\"\r\n                        onClick={() => handlePricingCta('free')}\r\n                        className=\"w-full py-3.5 border-2 border-border text-foreground rounded-xl font-bold text-center active:bg-gray-50 transition-colors\"\r\n                    >\r\n                        Testar Agora\r\n                    </Link>\r\n                </div>\r\n\r\n                {/* Pro Plan */}\r\n                <div className=\"snap-center min-w-[85vw] bg-zinc-900 border-2 border-brand rounded-2xl p-6 flex flex-col items-start shadow-xl relative overflow-hidden\">\r\n                    <div className=\"absolute top-4 right-4 bg-brand text-white text-[10px] font-black uppercase tracking-widest px-2 py-1 rounded\">\r\n                        Popular\r\n                    </div>\r\n                    <div className=\"mb-4 relative z-10\">\r\n                        <div className=\"text-sm font-bold text-zinc-400 uppercase tracking-widest mb-1\">Pro</div>\r\n                        <div className=\"flex items-baseline gap-1 text-white\">\r\n                            <span className=\"text-3xl font-black\">R$ 9,90</span>\r\n                            <span className=\"text-sm text-zinc-500 font-bold\">/m├¬s</span>\r\n                        </div>\r\n                    </div>\r\n                    <ul className=\"space-y-3 mb-8 w-full flex-1 relative z-10\">\r\n                        <li className=\"flex items-center gap-3 text-sm font-medium text-zinc-300\">\r\n                            <Check className=\"w-4 h-4 text-brand shrink-0\" /> 10 gera├º├Áes por dia\r\n                        </li>\r\n                        <li className=\"flex items-center gap-3 text-sm font-medium text-zinc-300\">\r\n                            <Check className=\"w-4 h-4 text-brand shrink-0\" /> 20.000 caracteres\r\n                        </li>\r\n                        <li className=\"flex items-center gap-3 text-sm font-medium text-zinc-300\">\r\n                            <Check className=\"w-4 h-4 text-brand shrink-0\" /> Hist├│rico Salvo\r\n                        </li>\r\n                        <li className=\"flex items-center gap-3 text-sm font-medium text-white bg-brand/10 p-2 rounded-lg -mx-2\">\r\n                            <Star className=\"w-4 h-4 text-brand fill-brand shrink-0\" /> IA Otimizada\r\n                        </li>\r\n                    </ul>\r\n                    <CheckoutButton\r\n                        priceId={STRIPE_PRICES.pro}\r\n                        planName=\"pro\"\r\n                        onClick={() => handlePricingCta('pro')}\r\n                        className=\"w-full py-3.5 bg-brand text-white rounded-xl font-bold text-center shadow-lg shadow-brand/20 relative z-10 active:scale-95 transition-transform\"\r\n                    >\r\n                        Assinar Pro\r\n                    </CheckoutButton>\r\n\r\n                    {/* Background acccent */}\r\n                    <div className=\"absolute -bottom-10 -right-10 w-40 h-40 bg-brand/20 rounded-full blur-3xl\" />\r\n                </div>\r\n\r\n                {/* Ultimate Plan */}\r\n                <div className=\"snap-center min-w-[85vw] bg-white border border-border rounded-2xl p-6 flex flex-col items-start shadow-sm\">\r\n                    <div className=\"mb-4\">\r\n                        <div className=\"text-sm font-bold text-foreground/60 uppercase tracking-widest mb-1\">Ultimate</div>\r\n                        <div className=\"flex items-baseline gap-1\">\r\n                            <span className=\"text-3xl font-black\">R$ 19,90</span>\r\n                            <span className=\"text-sm text-foreground/40 font-bold\">/m├¬s</span>\r\n                        </div>\r\n                    </div>\r\n                    <ul className=\"space-y-3 mb-8 w-full flex-1\">\r\n                        <li className=\"flex items-center gap-3 text-sm font-medium text-foreground/80\">\r\n                            <Check className=\"w-4 h-4 text-brand shrink-0\" /> 20 gera├º├Áes/dia\r\n                        </li>\r\n                        <li className=\"flex items-center gap-3 text-sm font-medium text-foreground/80\">\r\n                            <Check className=\"w-4 h-4 text-brand shrink-0\" /> Upload de PDF\r\n                        </li>\r\n                        <li className=\"flex items-center gap-3 text-sm font-medium text-foreground/80\">\r\n                            <Check className=\"w-4 h-4 text-brand shrink-0\" /> IA de Imagens\r\n                        </li>\r\n                        <li className=\"flex items-center gap-3 text-sm font-medium text-foreground/80\">\r\n                            <Check className=\"w-4 h-4 text-brand shrink-0\" /> Suporte Priorit├írio\r\n                        </li>\r\n                    </ul>\r\n                    <CheckoutButton\r\n                        priceId={STRIPE_PRICES.ultimate}\r\n                        planName=\"ultimate\"\r\n                        onClick={() => handlePricingCta('ultimate')}\r\n                        className=\"w-full py-3.5 bg-foreground text-background rounded-xl font-bold text-center active:scale-95 transition-transform\"\r\n                    >\r\n                        Assinar Ultimate\r\n                    </CheckoutButton>\r\n                </div>\r\n            </div>\r\n        </section>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\otavi\\Desktop\\flashcards_generator\\flashcards_generator\\components\\mobile\\QuickSettingsSheet.tsx","messages":[{"ruleId":"jsx-a11y/alt-text","severity":1,"message":"Image elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","line":186,"column":33,"nodeType":"JSXOpeningElement","endLine":186,"endColumn":73}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\r\n\r\nimport React from 'react';\r\nimport { SheetModal } from '@/components/ios';\r\nimport { Sliders, BookOpen, Target, Palette, Image } from 'lucide-react';\r\n\r\ntype StudyLevel = 'ENEM' | 'Faculdade' | 'Concurso';\r\ntype StudyGoal = 'Memorizar' | 'Revisar r├ípido' | 'Aprofundar';\r\ntype CardStyle = 'basic' | 'short_answer' | 'image_occlusion';\r\n\r\ninterface QuickSettingsSheetProps {\r\n    open: boolean;\r\n    onClose: () => void;\r\n    studyLevel: StudyLevel;\r\n    onStudyLevelChange: (level: StudyLevel) => void;\r\n    studyGoal: StudyGoal;\r\n    onStudyGoalChange: (goal: StudyGoal) => void;\r\n    cardStyle: CardStyle;\r\n    onCardStyleChange: (style: CardStyle) => void;\r\n    cardCount: number;\r\n    onCardCountChange: (count: number) => void;\r\n    maxCards: number;\r\n    generateImages: boolean;\r\n    onGenerateImagesChange: (value: boolean) => void;\r\n    allowImageGeneration: boolean;\r\n}\r\n\r\nconst STUDY_LEVELS: { id: StudyLevel; label: string; icon: string }[] = [\r\n    { id: 'ENEM', label: 'ENEM', icon: '­ƒôÜ' },\r\n    { id: 'Faculdade', label: 'Faculdade', icon: '­ƒÄô' },\r\n    { id: 'Concurso', label: 'Concurso', icon: '­ƒôï' },\r\n];\r\n\r\nconst STUDY_GOALS: { id: StudyGoal; label: string; description: string }[] = [\r\n    { id: 'Memorizar', label: 'Memorizar', description: 'Foco em repeti├º├úo' },\r\n    { id: 'Revisar r├ípido', label: 'Revisar', description: 'Revis├úo ├ígil' },\r\n    { id: 'Aprofundar', label: 'Aprofundar', description: 'Estudo detalhado' },\r\n];\r\n\r\nconst CARD_STYLES: { id: CardStyle; label: string }[] = [\r\n    { id: 'basic', label: 'Q&A B├ísico' },\r\n    { id: 'short_answer', label: 'Resposta Curta' },\r\n    { id: 'image_occlusion', label: 'Oclus├úo' },\r\n];\r\n\r\nexport default function QuickSettingsSheet({\r\n    open,\r\n    onClose,\r\n    studyLevel,\r\n    onStudyLevelChange,\r\n    studyGoal,\r\n    onStudyGoalChange,\r\n    cardStyle,\r\n    onCardStyleChange,\r\n    cardCount,\r\n    onCardCountChange,\r\n    maxCards,\r\n    generateImages,\r\n    onGenerateImagesChange,\r\n    allowImageGeneration,\r\n}: QuickSettingsSheetProps) {\r\n    return (\r\n        <SheetModal\r\n            open={open}\r\n            onClose={onClose}\r\n            title=\"Configura├º├Áes\"\r\n            detent=\"large\"\r\n        >\r\n            <div className=\"px-4 py-6 space-y-8\">\r\n                {/* Study Level */}\r\n                <section>\r\n                    <div className=\"flex items-center gap-2 mb-3\">\r\n                        <BookOpen className=\"w-4 h-4 text-brand\" />\r\n                        <h3 className=\"text-sm font-bold text-[var(--label)]\">N├¡vel de Estudo</h3>\r\n                    </div>\r\n                    <div className=\"grid grid-cols-3 gap-2\">\r\n                        {STUDY_LEVELS.map((level) => (\r\n                            <button\r\n                                key={level.id}\r\n                                onClick={() => onStudyLevelChange(level.id)}\r\n                                className={`\r\n                                    flex flex-col items-center gap-1 p-3\r\n                                    rounded-[var(--corner-card)] border-2\r\n                                    transition-all active:scale-95\r\n                                    ${studyLevel === level.id\r\n                                        ? 'border-brand bg-brand/5'\r\n                                        : 'border-zinc-100 dark:border-zinc-800'\r\n                                    }\r\n                                `}\r\n                            >\r\n                                <span className=\"text-xl\">{level.icon}</span>\r\n                                <span className={`text-xs font-bold ${studyLevel === level.id ? 'text-brand' : 'text-zinc-500'}`}>\r\n                                    {level.label}\r\n                                </span>\r\n                            </button>\r\n                        ))}\r\n                    </div>\r\n                </section>\r\n\r\n                {/* Study Goal */}\r\n                <section>\r\n                    <div className=\"flex items-center gap-2 mb-3\">\r\n                        <Target className=\"w-4 h-4 text-brand\" />\r\n                        <h3 className=\"text-sm font-bold text-[var(--label)]\">Objetivo</h3>\r\n                    </div>\r\n                    <div className=\"space-y-2\">\r\n                        {STUDY_GOALS.map((goal) => (\r\n                            <button\r\n                                key={goal.id}\r\n                                onClick={() => onStudyGoalChange(goal.id)}\r\n                                className={`\r\n                                    w-full flex items-center justify-between p-3\r\n                                    rounded-[var(--corner-card)] border-2\r\n                                    transition-all active:scale-[0.98]\r\n                                    ${studyGoal === goal.id\r\n                                        ? 'border-brand bg-brand/5'\r\n                                        : 'border-zinc-100 dark:border-zinc-800'\r\n                                    }\r\n                                `}\r\n                            >\r\n                                <span className={`text-sm font-bold ${studyGoal === goal.id ? 'text-brand' : 'text-[var(--label)]'}`}>\r\n                                    {goal.label}\r\n                                </span>\r\n                                <span className=\"text-xs text-zinc-400\">{goal.description}</span>\r\n                            </button>\r\n                        ))}\r\n                    </div>\r\n                </section>\r\n\r\n                {/* Card Style */}\r\n                <section>\r\n                    <div className=\"flex items-center gap-2 mb-3\">\r\n                        <Palette className=\"w-4 h-4 text-brand\" />\r\n                        <h3 className=\"text-sm font-bold text-[var(--label)]\">Estilo de Card</h3>\r\n                    </div>\r\n                    <div className=\"flex flex-wrap gap-2\">\r\n                        {CARD_STYLES.map((style) => (\r\n                            <button\r\n                                key={style.id}\r\n                                onClick={() => onCardStyleChange(style.id)}\r\n                                className={`\r\n                                    px-4 py-2 rounded-full text-xs font-bold\r\n                                    border-2 transition-all active:scale-95\r\n                                    ${cardStyle === style.id\r\n                                        ? 'border-brand bg-brand/5 text-brand'\r\n                                        : 'border-zinc-100 dark:border-zinc-800 text-zinc-500'\r\n                                    }\r\n                                `}\r\n                            >\r\n                                {style.label}\r\n                            </button>\r\n                        ))}\r\n                    </div>\r\n                </section>\r\n\r\n                {/* Card Count Slider */}\r\n                <section>\r\n                    <div className=\"flex items-center gap-2 mb-3\">\r\n                        <Sliders className=\"w-4 h-4 text-brand\" />\r\n                        <h3 className=\"text-sm font-bold text-[var(--label)]\">Quantidade de Cards</h3>\r\n                    </div>\r\n                    <div className=\"px-2\">\r\n                        <div className=\"flex items-center justify-between mb-2\">\r\n                            <span className=\"text-xs text-zinc-400\">5</span>\r\n                            <span className=\"text-2xl font-black text-brand\">{cardCount}</span>\r\n                            <span className=\"text-xs text-zinc-400\">{maxCards}</span>\r\n                        </div>\r\n                        <input\r\n                            type=\"range\"\r\n                            min={5}\r\n                            max={maxCards}\r\n                            step={1}\r\n                            value={cardCount}\r\n                            onChange={(e) => onCardCountChange(Number(e.target.value))}\r\n                            className=\"w-full h-2 bg-zinc-200 dark:bg-zinc-700 rounded-full appearance-none cursor-pointer accent-brand\"\r\n                            aria-label={`Quantidade de cards: ${cardCount}`}\r\n                        />\r\n                    </div>\r\n                </section>\r\n\r\n                {/* Image Generation Toggle */}\r\n                <section className={!allowImageGeneration ? 'opacity-50' : ''}>\r\n                    <div className=\"flex items-center justify-between p-4 bg-zinc-50 dark:bg-zinc-800/50 rounded-[var(--corner-card)]\">\r\n                        <div className=\"flex items-center gap-3\">\r\n                            <div className=\"p-2 bg-brand/10 rounded-[var(--corner-card)]\">\r\n                                <Image className=\"w-5 h-5 text-brand\" />\r\n                            </div>\r\n                            <div>\r\n                                <h3 className=\"text-sm font-bold text-[var(--label)]\">Gerar Imagens</h3>\r\n                                <p className=\"text-xs text-zinc-400\">Ilustra├º├Áes com IA</p>\r\n                            </div>\r\n                        </div>\r\n                        <button\r\n                            onClick={() => allowImageGeneration && onGenerateImagesChange(!generateImages)}\r\n                            disabled={!allowImageGeneration}\r\n                            className={`\r\n                                w-12 h-7 rounded-full relative transition-colors\r\n                                ${generateImages && allowImageGeneration ? 'bg-brand' : 'bg-zinc-300 dark:bg-zinc-600'}\r\n                            `}\r\n                            role=\"switch\"\r\n                            aria-checked={generateImages}\r\n                            aria-label=\"Gerar imagens com IA\"\r\n                        >\r\n                            <div\r\n                                className={`\r\n                                    absolute top-1 w-5 h-5 bg-white rounded-full shadow\r\n                                    transition-all\r\n                                    ${generateImages && allowImageGeneration ? 'left-6' : 'left-1'}\r\n                                `}\r\n                            />\r\n                        </button>\r\n                    </div>\r\n                    {!allowImageGeneration && (\r\n                        <p className=\"text-xs text-zinc-400 mt-2 text-center\">\r\n                            Dispon├¡vel no plano Ultimate\r\n                        </p>\r\n                    )}\r\n                </section>\r\n\r\n                {/* Apply Button */}\r\n                <button\r\n                    onClick={onClose}\r\n                    className=\"w-full py-4 bg-brand text-white font-bold rounded-[var(--corner-card)] active:scale-[0.98] transition-transform shadow-lg shadow-brand/20\"\r\n                >\r\n                    Aplicar Configura├º├Áes\r\n                </button>\r\n            </div>\r\n        </SheetModal>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\otavi\\Desktop\\flashcards_generator\\flashcards_generator\\components\\mobile\\SwipeableDeckRow.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\otavi\\Desktop\\flashcards_generator\\flashcards_generator\\components\\mobile\\index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\otavi\\Desktop\\flashcards_generator\\flashcards_generator\\constants\\config.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\otavi\\Desktop\\flashcards_generator\\flashcards_generator\\constants\\cookies.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\otavi\\Desktop\\flashcards_generator\\flashcards_generator\\constants\\limits.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\otavi\\Desktop\\flashcards_generator\\flashcards_generator\\constants\\mimeTypes.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\otavi\\Desktop\\flashcards_generator\\flashcards_generator\\constants\\pricing.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\otavi\\Desktop\\flashcards_generator\\flashcards_generator\\eslint.config.mjs","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\otavi\\Desktop\\flashcards_generator\\flashcards_generator\\hooks\\useSwipeGesture.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\otavi\\Desktop\\flashcards_generator\\flashcards_generator\\lib\\analytics.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\otavi\\Desktop\\flashcards_generator\\flashcards_generator\\lib\\animation-config.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\otavi\\Desktop\\flashcards_generator\\flashcards_generator\\lib\\api-config.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\otavi\\Desktop\\flashcards_generator\\flashcards_generator\\lib\\category-utils.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\otavi\\Desktop\\flashcards_generator\\flashcards_generator\\lib\\desktop-onboarding.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\otavi\\Desktop\\flashcards_generator\\flashcards_generator\\lib\\env-validation.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\otavi\\Desktop\\flashcards_generator\\flashcards_generator\\lib\\google-play-billing.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\otavi\\Desktop\\flashcards_generator\\flashcards_generator\\lib\\haptics.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\otavi\\Desktop\\flashcards_generator\\flashcards_generator\\lib\\hero.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\otavi\\Desktop\\flashcards_generator\\flashcards_generator\\lib\\logger.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\otavi\\Desktop\\flashcards_generator\\flashcards_generator\\lib\\mobile-onboarding.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\otavi\\Desktop\\flashcards_generator\\flashcards_generator\\lib\\mobile-preferences.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\otavi\\Desktop\\flashcards_generator\\flashcards_generator\\lib\\stripe.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\otavi\\Desktop\\flashcards_generator\\flashcards_generator\\lib\\study-activity.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\otavi\\Desktop\\flashcards_generator\\flashcards_generator\\lib\\supabase-admin.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\otavi\\Desktop\\flashcards_generator\\flashcards_generator\\lib\\supabase-server.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\otavi\\Desktop\\flashcards_generator\\flashcards_generator\\lib\\supabase.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\otavi\\Desktop\\flashcards_generator\\flashcards_generator\\lib\\tauri.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'accept' is assigned a value but never used.","line":155,"column":38,"nodeType":"Identifier","messageId":"unusedVar","endLine":155,"endColumn":44},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'filePath' is defined but never used.","line":188,"column":38,"nodeType":"Identifier","messageId":"unusedVar","endLine":188,"endColumn":46}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\r\n\r\nimport { createContext, useContext, useEffect, useState, useCallback, ReactNode } from 'react';\r\nimport { useRouter } from 'next/navigation';\r\n\r\ninterface TauriContextType {\r\n    isTauri: boolean;\r\n    isLoading: boolean;\r\n    platform: string | null;\r\n    isDesktop: boolean;\r\n    isMobile: boolean;\r\n    isMobileTauri: boolean;\r\n    isDesktopTauri: boolean;\r\n    appVersion: string | null;\r\n    sidebarCollapsed: boolean;\r\n    setSidebarCollapsed: (collapsed: boolean) => void;\r\n}\r\n\r\nconst TauriContext = createContext<TauriContextType>({\r\n    isTauri: false,\r\n    isLoading: true,\r\n    platform: null,\r\n    isDesktop: false,\r\n    isMobile: false,\r\n    isMobileTauri: false,\r\n    isDesktopTauri: false,\r\n    appVersion: null,\r\n    sidebarCollapsed: false,\r\n    setSidebarCollapsed: () => { },\r\n});\r\n\r\nfunction detectPlatform(): { platform: string; isDesktop: boolean; isMobile: boolean } {\r\n    if (typeof window === 'undefined' || typeof navigator === 'undefined') {\r\n        return { platform: 'unknown', isDesktop: true, isMobile: false };\r\n    }\r\n\r\n    const userAgent = navigator.userAgent.toLowerCase();\r\n\r\n    if (userAgent.includes('android') || userAgent.includes('linux arm') || userAgent.includes('mobi')) {\r\n        return { platform: 'android', isDesktop: false, isMobile: true };\r\n    }\r\n    if (userAgent.includes('iphone') || userAgent.includes('ipad') || userAgent.includes('ipod')) {\r\n        return { platform: 'ios', isDesktop: false, isMobile: true };\r\n    }\r\n    if (userAgent.includes('win')) {\r\n        return { platform: 'windows', isDesktop: true, isMobile: false };\r\n    }\r\n    if (userAgent.includes('mac')) {\r\n        return { platform: 'macos', isDesktop: true, isMobile: false };\r\n    }\r\n\r\n    return { platform: 'unknown', isDesktop: true, isMobile: false };\r\n}\r\n\r\nexport function TauriProvider({ children }: { children: ReactNode }) {\r\n    const [state, setState] = useState<Omit<TauriContextType, 'setSidebarCollapsed'>>({\r\n        isTauri: false,\r\n        isLoading: true,\r\n        platform: null,\r\n        isDesktop: false,\r\n        isMobile: false,\r\n        isMobileTauri: false,\r\n        isDesktopTauri: false,\r\n        appVersion: null,\r\n        sidebarCollapsed: false,\r\n    });\r\n\r\n    const setSidebarCollapsed = useCallback((collapsed: boolean) => {\r\n        setState(prev => ({ ...prev, sidebarCollapsed: collapsed }));\r\n        if (typeof window !== 'undefined') {\r\n            localStorage.setItem('desktop_sidebar_collapsed', collapsed ? 'true' : 'false');\r\n        }\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        const isTauriEnv = typeof window !== 'undefined' && '__TAURI__' in window;\r\n\r\n        if (isTauriEnv) {\r\n            const { platform, isDesktop, isMobile } = detectPlatform();\r\n\r\n            // Restore sidebar state from localStorage\r\n            const savedCollapsed = localStorage.getItem('desktop_sidebar_collapsed') === 'true';\r\n\r\n            setState(prev => ({\r\n                ...prev,\r\n                isTauri: true,\r\n                platform,\r\n                isDesktop,\r\n                isMobile,\r\n                isMobileTauri: isMobile,\r\n                isDesktopTauri: isDesktop,\r\n                sidebarCollapsed: savedCollapsed,\r\n                isLoading: !isMobile, // On mobile we can trust UA more for immediate redirect, desktop waits for plugin\r\n            }));\r\n\r\n            // Reliable platform info via @tauri-apps/plugin-os (sync in v2)\r\n            import('@tauri-apps/plugin-os').then(({ platform: osPlatform }) => {\r\n                const os = osPlatform();\r\n                const isMobileOs = os === 'android' || os === 'ios';\r\n                const isDesktopOs = !isMobileOs;\r\n                setState(prev => ({\r\n                    ...prev,\r\n                    platform: os,\r\n                    isDesktop: isDesktopOs,\r\n                    isMobile: isMobileOs,\r\n                    isMobileTauri: isMobileOs,\r\n                    isDesktopTauri: isDesktopOs,\r\n                    isLoading: false,\r\n                }));\r\n            }).catch(() => {\r\n                setState(prev => ({ ...prev, isLoading: false }));\r\n            });\r\n\r\n            // Get app version\r\n            import('@tauri-apps/api/app').then(({ getVersion }) => {\r\n                getVersion().then(version => {\r\n                    setState(prev => ({ ...prev, appVersion: version }));\r\n                });\r\n            }).catch(() => {\r\n                // Version unavailable\r\n            });\r\n        } else {\r\n            // WEB environment\r\n            const { platform, isDesktop, isMobile } = detectPlatform();\r\n            setState(prev => ({\r\n                ...prev,\r\n                isTauri: false,\r\n                isLoading: false,\r\n                platform,\r\n                isDesktop,\r\n                isMobile,\r\n                isMobileTauri: false,\r\n                isDesktopTauri: false,\r\n            }));\r\n        }\r\n    }, []);\r\n\r\n    return (\r\n        <TauriContext.Provider value={{ ...state, setSidebarCollapsed }}>\r\n            {children}\r\n        </TauriContext.Provider>\r\n    );\r\n}\r\n\r\nexport function useTauri() {\r\n    return useContext(TauriContext);\r\n}\r\n\r\n// Static check (no context needed)\r\nexport function isTauriApp(): boolean {\r\n    return typeof window !== 'undefined' && '__TAURI__' in window;\r\n}\r\n\r\n// --- Small helpers for mobile/native interactions ---\r\nexport async function pickFilesTauri(accept: string[] = ['*/*']): Promise<Array<{ name: string; path?: string; type?: string; blob?: Blob }>> {\r\n    try {\r\n        // Dynamically import to avoid SSR bundling issues\r\n        const { open } = await import('@tauri-apps/api/dialog');\r\n        const { readBinaryFile } = await import('@tauri-apps/api/fs');\r\n\r\n        const selected = await open({ multiple: true });\r\n        if (!selected) return [];\r\n\r\n        // selected may be string or string[]\r\n        const files = Array.isArray(selected) ? selected : [selected];\r\n\r\n        const results: Array<{ name: string; path?: string; type?: string; blob?: Blob }> = [];\r\n\r\n        for (const filePath of files) {\r\n            try {\r\n                const bytes = await readBinaryFile(filePath as string);\r\n                const u8 = new Uint8Array(bytes as unknown as number[]);\r\n                const blob = new Blob([u8.buffer]);\r\n                const name = (filePath as string).split(/[\\\\/]/).pop() || 'file';\r\n                results.push({ name, path: filePath as string, blob });\r\n            } catch (e) {\r\n                console.error('pickFilesTauri read failed:', e);\r\n            }\r\n        }\r\n\r\n        return results;\r\n    } catch (err) {\r\n        console.warn('Tauri file picker not available', err);\r\n        return [];\r\n    }\r\n}\r\n\r\nexport async function performOCRStub(filePath: string): Promise<string> {\r\n    // Placeholder for native OCR implementation in future\r\n    await new Promise((r) => setTimeout(r, 400));\r\n    return 'OCR n├úo implementado (stub)';\r\n}\r\n\r\n// --- Desktop keyboard shortcuts ---\r\n\r\nexport function useDesktopShortcuts() {\r\n    const { isTauri, isDesktop } = useTauri();\r\n    const router = useRouter();\r\n\r\n    useEffect(() => {\r\n        if (!isTauri || !isDesktop) return;\r\n\r\n        const handleKeyDown = (e: KeyboardEvent) => {\r\n            const mod = e.ctrlKey || e.metaKey;\r\n            if (!mod) return;\r\n\r\n            // Don't capture shortcuts when typing in inputs\r\n            const target = e.target as HTMLElement;\r\n            if (target.tagName === 'INPUT' || target.tagName === 'TEXTAREA' || target.isContentEditable) {\r\n                return;\r\n            }\r\n\r\n            if (e.key === 'n' && !e.shiftKey) {\r\n                e.preventDefault();\r\n                router.push('/app');\r\n            } else if (e.key === 'b' && !e.shiftKey) {\r\n                e.preventDefault();\r\n                router.push('/decks');\r\n            } else if (e.key === ',' && !e.shiftKey) {\r\n                e.preventDefault();\r\n                router.push('/settings');\r\n            } else if (e.key === 'e' && !e.shiftKey) {\r\n                e.preventDefault();\r\n                router.push('/marketplace');\r\n            } else if (e.key === 'd' && e.shiftKey) {\r\n                e.preventDefault();\r\n                const root = document.documentElement;\r\n                const isDark = root.classList.contains('dark');\r\n                const newTheme = isDark ? 'light' : 'dark';\r\n                root.classList.toggle('dark', !isDark);\r\n                root.setAttribute('data-theme', newTheme);\r\n                localStorage.setItem('theme', newTheme);\r\n            }\r\n        };\r\n\r\n        window.addEventListener('keydown', handleKeyDown);\r\n        return () => window.removeEventListener('keydown', handleKeyDown);\r\n    }, [isTauri, isDesktop, router]);\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\otavi\\Desktop\\flashcards_generator\\flashcards_generator\\lib\\useBackgroundSync.tsx","messages":[{"ruleId":"react-hooks/immutability","severity":2,"message":"Error: Cannot access variable before it is declared\n\n`handleSWMessage` is accessed before it is declared, which prevents the earlier access from updating when this value changes over time.\n\nC:\\Users\\otavi\\Desktop\\flashcards_generator\\flashcards_generator\\lib\\useBackgroundSync.tsx:28:65\n  26 |\n  27 |             // Listen for messages from service worker\n> 28 |             navigator.serviceWorker.addEventListener('message', handleSWMessage);\n     |                                                                 ^^^^^^^^^^^^^^^ `handleSWMessage` accessed before it is declared\n  29 |\n  30 |             return () => {\n  31 |                 navigator.serviceWorker.removeEventListener('message', handleSWMessage);\n\nC:\\Users\\otavi\\Desktop\\flashcards_generator\\flashcards_generator\\lib\\useBackgroundSync.tsx:36:5\n  34 |     }, []);\n  35 |\n> 36 |     const handleSWMessage = useCallback((event: MessageEvent) => {\n     |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 37 |         const { type, data, success } = event.data;\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 38 |\n     ÔÇª\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 53 |         }\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 54 |     }, []);\n     | ^^^^^^^^^^^^ `handleSWMessage` is declared here\n  55 |\n  56 |     const isOnline = useCallback(() => {\n  57 |         return navigator.onLine;","line":28,"column":65,"nodeType":null,"endLine":28,"endColumn":80},{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'handleSWMessage'. Either include it or remove the dependency array.","line":34,"column":8,"nodeType":"ArrayExpression","endLine":34,"endColumn":10,"suggestions":[{"desc":"Update the dependencies array to be: [handleSWMessage]","fix":{"range":[914,916],"text":"[handleSWMessage]"}}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\r\n\r\nimport { useEffect, useRef, useCallback } from 'react';\r\n\r\ninterface PendingCard {\r\n    deck_id: string;\r\n    question: string;\r\n    answer: string;\r\n}\r\n\r\ninterface PendingStudy {\r\n    deck_id: string;\r\n    cards_studied: number;\r\n    duration_seconds: number;\r\n    completed_at: string;\r\n}\r\n\r\nexport function useBackgroundSync() {\r\n    const swRef = useRef<ServiceWorkerRegistration | null>(null);\r\n\r\n    useEffect(() => {\r\n        if ('serviceWorker' in navigator) {\r\n            navigator.serviceWorker.ready.then((registration) => {\r\n                swRef.current = registration;\r\n            });\r\n\r\n            // Listen for messages from service worker\r\n            navigator.serviceWorker.addEventListener('message', handleSWMessage);\r\n\r\n            return () => {\r\n                navigator.serviceWorker.removeEventListener('message', handleSWMessage);\r\n            };\r\n        }\r\n    }, []);\r\n\r\n    const handleSWMessage = useCallback((event: MessageEvent) => {\r\n        const { type, data, success } = event.data;\r\n\r\n        switch (type) {\r\n            case 'CARD_SYNCED':\r\n                console.log('Card synced successfully:', data);\r\n                // You can dispatch a custom event or update state here\r\n                window.dispatchEvent(new CustomEvent('cardSynced', { detail: { cardId: data, success } }));\r\n                break;\r\n            case 'CARD_SAVED_OFFLINE':\r\n                console.log('Card saved offline');\r\n                window.dispatchEvent(new CustomEvent('cardSavedOffline'));\r\n                break;\r\n            case 'STUDY_SAVED_OFFLINE':\r\n                console.log('Study session saved offline');\r\n                window.dispatchEvent(new CustomEvent('studySavedOffline'));\r\n                break;\r\n        }\r\n    }, []);\r\n\r\n    const isOnline = useCallback(() => {\r\n        return navigator.onLine;\r\n    }, []);\r\n\r\n    const saveCardOffline = useCallback(async (card: PendingCard): Promise<boolean> => {\r\n        const controller = navigator.serviceWorker.controller;\r\n        if (!controller) {\r\n            console.warn('Service worker not ready');\r\n            return false;\r\n        }\r\n\r\n        return new Promise((resolve) => {\r\n            const handler = (event: MessageEvent) => {\r\n                if (event.data.type === 'CARD_SAVED_OFFLINE') {\r\n                    navigator.serviceWorker.removeEventListener('message', handler);\r\n                    resolve(event.data.success);\r\n                }\r\n            };\r\n\r\n            navigator.serviceWorker.addEventListener('message', handler);\r\n            controller.postMessage({\r\n                type: 'SAVE_CARD_OFFLINE',\r\n                data: card\r\n            });\r\n\r\n            // Timeout after 5 seconds\r\n            setTimeout(() => {\r\n                navigator.serviceWorker.removeEventListener('message', handler);\r\n                resolve(false);\r\n            }, 5000);\r\n        });\r\n    }, []);\r\n\r\n    const saveStudyOffline = useCallback(async (study: PendingStudy): Promise<boolean> => {\r\n        const controller = navigator.serviceWorker.controller;\r\n        if (!controller) {\r\n            console.warn('Service worker not ready');\r\n            return false;\r\n        }\r\n\r\n        return new Promise((resolve) => {\r\n            const handler = (event: MessageEvent) => {\r\n                if (event.data.type === 'STUDY_SAVED_OFFLINE') {\r\n                    navigator.serviceWorker.removeEventListener('message', handler);\r\n                    resolve(event.data.success);\r\n                }\r\n            };\r\n\r\n            navigator.serviceWorker.addEventListener('message', handler);\r\n            controller.postMessage({\r\n                type: 'SAVE_STUDY_OFFLINE',\r\n                data: study\r\n            });\r\n\r\n            setTimeout(() => {\r\n                navigator.serviceWorker.removeEventListener('message', handler);\r\n                resolve(false);\r\n            }, 5000);\r\n        });\r\n    }, []);\r\n\r\n    const triggerSync = useCallback(async () => {\r\n        if (swRef.current && 'sync' in swRef.current) {\r\n            try {\r\n                // @ts-expect-error - Background Sync API\r\n                await swRef.current.sync.register('sync-cards');\r\n                // @ts-expect-error - Background Sync API\r\n                await swRef.current.sync.register('sync-study');\r\n            } catch (error) {\r\n                console.error('Background sync registration failed:', error);\r\n                // Fallback: manual sync via message\r\n                navigator.serviceWorker.controller?.postMessage({ type: 'TRIGGER_SYNC' });\r\n            }\r\n        }\r\n    }, []);\r\n\r\n    const getPendingCards = useCallback((): Promise<PendingCard[]> => {\r\n        return new Promise((resolve) => {\r\n            const controller = navigator.serviceWorker.controller;\r\n            if (!controller) {\r\n                resolve([]);\r\n                return;\r\n            }\r\n\r\n            const handler = (event: MessageEvent) => {\r\n                if (event.data.type === 'PENDING_CARDS') {\r\n                    navigator.serviceWorker.removeEventListener('message', handler);\r\n                    resolve(event.data.data || []);\r\n                }\r\n            };\r\n\r\n            navigator.serviceWorker.addEventListener('message', handler);\r\n            controller.postMessage({ type: 'GET_PENDING_CARDS' });\r\n\r\n            setTimeout(() => {\r\n                navigator.serviceWorker.removeEventListener('message', handler);\r\n                resolve([]);\r\n            }, 5000);\r\n        });\r\n    }, []);\r\n\r\n    return {\r\n        isOnline,\r\n        saveCardOffline,\r\n        saveStudyOffline,\r\n        triggerSync,\r\n        getPendingCards\r\n    };\r\n}\r\n\r\n// HOC to provide offline functionality\r\nexport function withOfflineSupport<T extends object>(\r\n    WrappedComponent: React.ComponentType<T & { offlineSync: ReturnType<typeof useBackgroundSync> }>\r\n) {\r\n    return function WithOfflineSupportComponent(props: T) {\r\n        const offlineSync = useBackgroundSync();\r\n        return <WrappedComponent {...props} offlineSync={offlineSync} />;\r\n    };\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\otavi\\Desktop\\flashcards_generator\\flashcards_generator\\lib\\utils.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\otavi\\Desktop\\flashcards_generator\\flashcards_generator\\lib\\validators.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\otavi\\Desktop\\flashcards_generator\\flashcards_generator\\middleware.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\otavi\\Desktop\\flashcards_generator\\flashcards_generator\\next.config.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'securityHeaders' is assigned a value but never used.","line":102,"column":7,"nodeType":"Identifier","messageId":"unusedVar","endLine":102,"endColumn":22},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'isDesktop' is assigned a value but never used.","line":133,"column":7,"nodeType":"Identifier","messageId":"unusedVar","endLine":133,"endColumn":16}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import type { NextConfig } from \"next\";\r\nimport { withSentryConfig } from \"@sentry/nextjs\";\r\nimport withPWAInit from \"@ducanh2912/next-pwa\";\r\n\r\nconst withPWA = withPWAInit({\r\n  dest: \"public\",\r\n  register: true,\r\n  disable: process.env.NODE_ENV === \"development\",\r\n  fallbacks: {\r\n    document: \"/offline\",\r\n  },\r\n  cacheOnFrontEndNav: true,\r\n  reloadOnOnline: true,\r\n  workboxOptions: {\r\n    skipWaiting: true,\r\n    clientsClaim: true,\r\n    disableDevLogs: true,\r\n    runtimeCaching: [\r\n      {\r\n        urlPattern: /^https:\\/\\/fonts\\.(?:gstatic|googleapis)\\.com\\/.*/i,\r\n        handler: \"CacheFirst\",\r\n        options: {\r\n          cacheName: \"google-fonts\",\r\n          expiration: {\r\n            maxEntries: 10,\r\n            maxAgeSeconds: 365 * 24 * 60 * 60, // 1 year\r\n          },\r\n        },\r\n      },\r\n      {\r\n        urlPattern: /\\.(?:eot|otf|ttc|ttf|woff|woff2|font.css)$/i,\r\n        handler: \"StaleWhileRevalidate\",\r\n        options: {\r\n          cacheName: \"static-font-assets\",\r\n          expiration: {\r\n            maxEntries: 10,\r\n            maxAgeSeconds: 7 * 24 * 60 * 60, // 1 week\r\n          },\r\n        },\r\n      },\r\n      {\r\n        urlPattern: /\\.(?:jpg|jpeg|gif|png|svg|ico|webp)$/i,\r\n        handler: \"StaleWhileRevalidate\",\r\n        options: {\r\n          cacheName: \"static-image-assets\",\r\n          expiration: {\r\n            maxEntries: 64,\r\n            maxAgeSeconds: 30 * 24 * 60 * 60, // 30 days\r\n          },\r\n        },\r\n      },\r\n      {\r\n        urlPattern: /\\/_next\\/static.+\\.js$/i,\r\n        handler: \"CacheFirst\",\r\n        options: {\r\n          cacheName: \"next-static-js\",\r\n          expiration: {\r\n            maxEntries: 32,\r\n            maxAgeSeconds: 24 * 60 * 60, // 24 hours\r\n          },\r\n        },\r\n      },\r\n      {\r\n        urlPattern: /\\.(?:css)$/i,\r\n        handler: \"StaleWhileRevalidate\",\r\n        options: {\r\n          cacheName: \"static-style-assets\",\r\n          expiration: {\r\n            maxEntries: 32,\r\n            maxAgeSeconds: 24 * 60 * 60, // 24 hours\r\n          },\r\n        },\r\n      },\r\n      {\r\n        urlPattern: /^https:\\/\\/.*\\.supabase\\.co\\/rest\\/v1\\/.*/i,\r\n        handler: \"NetworkFirst\",\r\n        options: {\r\n          cacheName: \"supabase-api\",\r\n          networkTimeoutSeconds: 10,\r\n          expiration: {\r\n            maxEntries: 32,\r\n            maxAgeSeconds: 5 * 60, // 5 minutes\r\n          },\r\n        },\r\n      },\r\n      {\r\n        urlPattern: /\\/api\\/.*/i,\r\n        handler: \"NetworkFirst\",\r\n        options: {\r\n          cacheName: \"api-cache\",\r\n          networkTimeoutSeconds: 10,\r\n          expiration: {\r\n            maxEntries: 16,\r\n            maxAgeSeconds: 5 * 60, // 5 minutes\r\n          },\r\n        },\r\n      },\r\n    ],\r\n  },\r\n});\r\n\r\nconst securityHeaders = [\r\n  {\r\n    key: 'X-DNS-Prefetch-Control',\r\n    value: 'on'\r\n  },\r\n  {\r\n    key: 'Strict-Transport-Security',\r\n    value: 'max-age=63072000; includeSubDomains; preload'\r\n  },\r\n  {\r\n    key: 'X-Frame-Options',\r\n    value: 'DENY'\r\n  },\r\n  {\r\n    key: 'X-Content-Type-Options',\r\n    value: 'nosniff'\r\n  },\r\n  {\r\n    key: 'X-XSS-Protection',\r\n    value: '1; mode=block'\r\n  },\r\n  {\r\n    key: 'Referrer-Policy',\r\n    value: 'strict-origin-when-cross-origin'\r\n  },\r\n  {\r\n    key: 'Permissions-Policy',\r\n    value: 'camera=(self), microphone=(), geolocation=()'\r\n  },\r\n];\r\n\r\nconst isDesktop = process.env.NEXT_PUBLIC_IS_DESKTOP === 'true';\r\n\r\nconst nextConfig: NextConfig = {\r\n  output: \"export\",\r\n  trailingSlash: false,\r\n  // Turbopack config (Next.js 16+)\r\n  turbopack: {},\r\n\r\n  serverExternalPackages: ['anki-apkg-export'],\r\n  typescript: {\r\n    // ignoreBuildErrors: false, // Strict mode enabled\r\n  },\r\n  images: {\r\n    unoptimized: true, // Required for static export\r\n    remotePatterns: [\r\n      {\r\n        protocol: 'https',\r\n        hostname: 'zypsfonrummuenmirxyh.supabase.co',\r\n        port: '',\r\n        pathname: '/storage/v1/object/public/**',\r\n      },\r\n      {\r\n        protocol: 'https',\r\n        hostname: '*.supabase.co',\r\n      },\r\n    ],\r\n  },\r\n};\r\n\r\nconst sentryBuildOptions = {\r\n  org: process.env.SENTRY_ORG,\r\n  project: process.env.SENTRY_PROJECT,\r\n  authToken: process.env.SENTRY_AUTH_TOKEN,\r\n  silent: true,\r\n  telemetry: false,\r\n  sourcemaps: {\r\n    deleteSourcemapsAfterUpload: true,\r\n  },\r\n  bundleSizeOptimizations: {\r\n    excludeDebugStatements: true,\r\n  },\r\n};\r\n\r\nconst sentryEnabled = !!process.env.SENTRY_AUTH_TOKEN;\r\n\r\nconst finalConfig = withPWA(nextConfig);\r\n\r\nexport default sentryEnabled ? withSentryConfig(finalConfig, sentryBuildOptions) : finalConfig;\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\otavi\\Desktop\\flashcards_generator\\flashcards_generator\\playwright.config.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'path' is defined but never used.","line":2,"column":8,"nodeType":"Identifier","messageId":"unusedVar","endLine":2,"endColumn":12,"suggestions":[{"messageId":"removeUnusedImportDeclaration","data":{"varName":"path"},"fix":{"range":[59,83],"text":""},"desc":"Remove unused import declaration."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { defineConfig, devices } from '@playwright/test';\r\nimport path from 'path';\r\n\r\nexport default defineConfig({\r\n    testDir: './tests/e2e',\r\n    fullyParallel: true,\r\n    forbidOnly: !!process.env.CI,\r\n    retries: process.env.CI ? 2 : 0,\r\n    workers: process.env.CI ? 1 : undefined,\r\n    reporter: 'html',\r\n    use: {\r\n        baseURL: 'http://localhost:3000',\r\n        trace: 'on-first-retry',\r\n        screenshot: 'only-on-failure',\r\n    },\r\n    projects: [\r\n        {\r\n            name: 'chromium',\r\n            use: { ...devices['Desktop Chrome'] },\r\n        },\r\n        // {\r\n        //   name: 'mobile-chrome',\r\n        //   use: { ...devices['Pixel 5'] },\r\n        // },\r\n    ],\r\n    // webServer: {\r\n    //   command: 'npm run dev',\r\n    //   url: 'http://localhost:3000',\r\n    //   reuseExistingServer: !process.env.CI,\r\n    // },\r\n});\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\otavi\\Desktop\\flashcards_generator\\flashcards_generator\\postcss.config.mjs","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\otavi\\Desktop\\flashcards_generator\\flashcards_generator\\public\\sw-custom.js","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'clearStore' is defined but never used.","line":80,"column":16,"nodeType":"Identifier","messageId":"unusedVar","endLine":80,"endColumn":26}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"// Custom Service Worker for Flashcards Generator\r\n// This extends the PWA service worker with custom functionality\r\n\r\n// IndexedDB helper for offline data storage\r\nconst DB_NAME = 'flashcards-offline';\r\nconst DB_VERSION = 1;\r\n\r\nconst STORES = {\r\n    PENDING_CARDS: 'pending-cards',\r\n    PENDING_STUDY: 'pending-study',\r\n    CACHED_DECKS: 'cached-decks'\r\n};\r\n\r\n// Open IndexedDB\r\nfunction openDB() {\r\n    return new Promise((resolve, reject) => {\r\n        const request = indexedDB.open(DB_NAME, DB_VERSION);\r\n\r\n        request.onerror = () => reject(request.error);\r\n        request.onsuccess = () => resolve(request.result);\r\n\r\n        request.onupgradeneeded = (event) => {\r\n            const db = event.target.result;\r\n\r\n            // Store for cards created while offline\r\n            if (!db.objectStoreNames.contains(STORES.PENDING_CARDS)) {\r\n                db.createObjectStore(STORES.PENDING_CARDS, { keyPath: 'id', autoIncrement: true });\r\n            }\r\n\r\n            // Store for study sessions completed offline\r\n            if (!db.objectStoreNames.contains(STORES.PENDING_STUDY)) {\r\n                db.createObjectStore(STORES.PENDING_STUDY, { keyPath: 'id', autoIncrement: true });\r\n            }\r\n\r\n            // Store for cached decks data\r\n            if (!db.objectStoreNames.contains(STORES.CACHED_DECKS)) {\r\n                db.createObjectStore(STORES.CACHED_DECKS, { keyPath: 'id' });\r\n            }\r\n        };\r\n    });\r\n}\r\n\r\n// Add data to a store\r\nasync function addToStore(storeName, data) {\r\n    const db = await openDB();\r\n    return new Promise((resolve, reject) => {\r\n        const tx = db.transaction(storeName, 'readwrite');\r\n        const store = tx.objectStore(storeName);\r\n        const request = store.add({ ...data, timestamp: Date.now() });\r\n        request.onsuccess = () => resolve(request.result);\r\n        request.onerror = () => reject(request.error);\r\n    });\r\n}\r\n\r\n// Get all data from a store\r\nasync function getAllFromStore(storeName) {\r\n    const db = await openDB();\r\n    return new Promise((resolve, reject) => {\r\n        const tx = db.transaction(storeName, 'readonly');\r\n        const store = tx.objectStore(storeName);\r\n        const request = store.getAll();\r\n        request.onsuccess = () => resolve(request.result);\r\n        request.onerror = () => reject(request.error);\r\n    });\r\n}\r\n\r\n// Delete item from store\r\nasync function deleteFromStore(storeName, id) {\r\n    const db = await openDB();\r\n    return new Promise((resolve, reject) => {\r\n        const tx = db.transaction(storeName, 'readwrite');\r\n        const store = tx.objectStore(storeName);\r\n        const request = store.delete(id);\r\n        request.onsuccess = () => resolve();\r\n        request.onerror = () => reject(request.error);\r\n    });\r\n}\r\n\r\n// Clear a store\r\nasync function clearStore(storeName) {\r\n    const db = await openDB();\r\n    return new Promise((resolve, reject) => {\r\n        const tx = db.transaction(storeName, 'readwrite');\r\n        const store = tx.objectStore(storeName);\r\n        const request = store.clear();\r\n        request.onsuccess = () => resolve();\r\n        request.onerror = () => reject(request.error);\r\n    });\r\n}\r\n\r\n// Handle push notification\r\nself.addEventListener('push', (event) => {\r\n    if (!event.data) return;\r\n\r\n    const data = event.data.json();\r\n    const { title, body, icon, badge, data: notificationData } = data;\r\n\r\n    const options = {\r\n        body,\r\n        icon: icon || '/icons/icon-192x192.png',\r\n        badge: badge || '/icons/icon-96x96.png',\r\n        vibrate: [100, 50, 100],\r\n        data: notificationData,\r\n        actions: [\r\n            { action: 'study', title: '­ƒôÜ Estudar agora' },\r\n            { action: 'dismiss', title: 'Depois' }\r\n        ]\r\n    };\r\n\r\n    event.waitUntil(\r\n        self.registration.showNotification(title, options)\r\n    );\r\n});\r\n\r\n// Handle notification click\r\nself.addEventListener('notificationclick', (event) => {\r\n    event.notification.close();\r\n\r\n    const action = event.action;\r\n    const data = event.notification.data || {};\r\n    let url = '/';\r\n\r\n    if (action === 'study' || data.url) {\r\n        url = data.url || '/decks';\r\n    }\r\n\r\n    event.waitUntil(\r\n        clients.matchAll({ type: 'window', includeUncontrolled: true }).then((clientList) => {\r\n            // Try to focus an existing window\r\n            for (const client of clientList) {\r\n                if (client.url.includes(self.location.origin) && 'focus' in client) {\r\n                    client.navigate(url);\r\n                    return client.focus();\r\n                }\r\n            }\r\n            // Open new window if none found\r\n            if (clients.openWindow) {\r\n                return clients.openWindow(url);\r\n            }\r\n        })\r\n    );\r\n});\r\n\r\n// Background Sync - Sync pending cards when back online\r\nself.addEventListener('sync', (event) => {\r\n    if (event.tag === 'sync-cards') {\r\n        event.waitUntil(syncPendingCards());\r\n    } else if (event.tag === 'sync-study') {\r\n        event.waitUntil(syncPendingStudy());\r\n    }\r\n});\r\n\r\nasync function syncPendingCards() {\r\n    try {\r\n        const pendingCards = await getAllFromStore(STORES.PENDING_CARDS);\r\n\r\n        for (const card of pendingCards) {\r\n            try {\r\n                const response = await fetch('/api/cards', {\r\n                    method: 'POST',\r\n                    headers: { 'Content-Type': 'application/json' },\r\n                    body: JSON.stringify({\r\n                        deck_id: card.deck_id,\r\n                        question: card.question,\r\n                        answer: card.answer,\r\n                    })\r\n                });\r\n\r\n                if (response.ok) {\r\n                    await deleteFromStore(STORES.PENDING_CARDS, card.id);\r\n                    // Notify the client\r\n                    const clients = await self.clients.matchAll();\r\n                    clients.forEach(client => {\r\n                        client.postMessage({\r\n                            type: 'CARD_SYNCED',\r\n                            cardId: card.id,\r\n                            success: true\r\n                        });\r\n                    });\r\n                }\r\n            } catch (error) {\r\n                console.error('Failed to sync card:', error);\r\n            }\r\n        }\r\n    } catch (error) {\r\n        console.error('Error syncing pending cards:', error);\r\n    }\r\n}\r\n\r\nasync function syncPendingStudy() {\r\n    try {\r\n        const pendingStudy = await getAllFromStore(STORES.PENDING_STUDY);\r\n\r\n        for (const session of pendingStudy) {\r\n            try {\r\n                const response = await fetch('/api/study', {\r\n                    method: 'POST',\r\n                    headers: { 'Content-Type': 'application/json' },\r\n                    body: JSON.stringify(session)\r\n                });\r\n\r\n                if (response.ok) {\r\n                    await deleteFromStore(STORES.PENDING_STUDY, session.id);\r\n                }\r\n            } catch (error) {\r\n                console.error('Failed to sync study session:', error);\r\n            }\r\n        }\r\n    } catch (error) {\r\n        console.error('Error syncing pending study:', error);\r\n    }\r\n}\r\n\r\n// Listen for messages from the main thread\r\nself.addEventListener('message', (event) => {\r\n    const { type, data } = event.data;\r\n\r\n    switch (type) {\r\n        case 'SAVE_CARD_OFFLINE':\r\n            addToStore(STORES.PENDING_CARDS, data).then(() => {\r\n                event.source.postMessage({ type: 'CARD_SAVED_OFFLINE', success: true });\r\n            });\r\n            break;\r\n\r\n        case 'SAVE_STUDY_OFFLINE':\r\n            addToStore(STORES.PENDING_STUDY, data).then(() => {\r\n                event.source.postMessage({ type: 'STUDY_SAVED_OFFLINE', success: true });\r\n            });\r\n            break;\r\n\r\n        case 'GET_PENDING_CARDS':\r\n            getAllFromStore(STORES.PENDING_CARDS).then((cards) => {\r\n                event.source.postMessage({ type: 'PENDING_CARDS', data: cards });\r\n            });\r\n            break;\r\n\r\n        case 'TRIGGER_SYNC':\r\n            if ('sync' in self.registration) {\r\n                self.registration.sync.register('sync-cards');\r\n                self.registration.sync.register('sync-study');\r\n            }\r\n            break;\r\n\r\n        case 'SKIP_WAITING':\r\n            self.skipWaiting();\r\n            break;\r\n    }\r\n});\r\n\r\n// Cleanup old caches on activation\r\nself.addEventListener('activate', (event) => {\r\n    event.waitUntil(\r\n        caches.keys().then((cacheNames) => {\r\n            return Promise.all(\r\n                cacheNames\r\n                    .filter((name) => name.startsWith('flashcards-') && !name.includes('v1'))\r\n                    .map((name) => caches.delete(name))\r\n            );\r\n        })\r\n    );\r\n});\r\n\r\n// Export functions for use in main thread (via postMessage)\r\nconsole.log('Flashcards Service Worker loaded');\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\otavi\\Desktop\\flashcards_generator\\flashcards_generator\\scripts\\build-desktop-wrapper.js","messages":[{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":1,"column":22,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":1,"endColumn":46}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"const { execSync } = require('child_process');\r\n\r\nconsole.log('­ƒÜÇ Starting Desktop Build Process...');\r\n\r\n// Set env var for Next.js config\r\nprocess.env.NEXT_PUBLIC_IS_DESKTOP = 'true';\r\n\r\ntry {\r\n    // Run Next.js build\r\n    console.log('­ƒôª Running next build (Static Export)...');\r\n    execSync('npx next build', { stdio: 'inherit', env: { ...process.env, NEXT_PUBLIC_IS_DESKTOP: 'true' } });\r\n    console.log('Ô£à Build successful! Output in /out');\r\n} catch (error) {\r\n    console.error('ÔØî Build failed:', error);\r\n    process.exit(1);\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\otavi\\Desktop\\flashcards_generator\\flashcards_generator\\scripts\\generate-android-icons.js","messages":[{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":2,"column":15,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":2,"endColumn":31},{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":3,"column":14,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":3,"endColumn":29},{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":4,"column":12,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":4,"endColumn":25}],"suppressedMessages":[],"errorCount":3,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"// Script to generate Android app icons from logo\r\nconst sharp = require('sharp');\r\nconst path = require('path');\r\nconst fs = require('fs');\r\n\r\n// Source icon\r\nconst iconSourcePath = path.join(__dirname, '../public/icon-source.png');\r\nconst startLogoPath = path.join(__dirname, '../public/logo.png');\r\nconst sourceIcon = fs.existsSync(iconSourcePath) ? iconSourcePath : startLogoPath;\r\n\r\n// Android resource directory (created by `tauri android init`)\r\nconst androidResDir = path.join(__dirname, '../src-tauri/gen/android/app/src/main/res');\r\n\r\n// Android mipmap sizes\r\nconst mipmapSizes = [\r\n    { folder: 'mipmap-mdpi', size: 48 },\r\n    { folder: 'mipmap-hdpi', size: 72 },\r\n    { folder: 'mipmap-xhdpi', size: 96 },\r\n    { folder: 'mipmap-xxhdpi', size: 144 },\r\n    { folder: 'mipmap-xxxhdpi', size: 192 },\r\n];\r\n\r\n// Adaptive icon foreground sizes (with padding for safe zone)\r\nconst adaptiveSizes = [\r\n    { folder: 'mipmap-mdpi', size: 108 },\r\n    { folder: 'mipmap-hdpi', size: 162 },\r\n    { folder: 'mipmap-xhdpi', size: 216 },\r\n    { folder: 'mipmap-xxhdpi', size: 324 },\r\n    { folder: 'mipmap-xxxhdpi', size: 432 },\r\n];\r\n\r\nasync function generateAndroidIcons() {\r\n    console.log('Generating Android icons...\\n');\r\n\r\n    if (!fs.existsSync(androidResDir)) {\r\n        console.log(`Android res directory not found at: ${androidResDir}`);\r\n        console.log('Run \"npx tauri android init\" first to create the Android project.\\n');\r\n        console.log('Creating icons in a staging directory instead...');\r\n    }\r\n\r\n    const outputDir = fs.existsSync(androidResDir)\r\n        ? androidResDir\r\n        : path.join(__dirname, '../src-tauri/android-icons-staging');\r\n\r\n    let sourceBuffer;\r\n\r\n    if (!fs.existsSync(sourceIcon)) {\r\n        console.log('Source logo not found, creating placeholder...');\r\n        const svg = `\r\n        <svg width=\"512\" height=\"512\" xmlns=\"http://www.w3.org/2000/svg\">\r\n            <rect width=\"100%\" height=\"100%\" fill=\"#CC3F00\"/>\r\n            <text x=\"50%\" y=\"50%\" text-anchor=\"middle\" dy=\".35em\"\r\n                  font-family=\"system-ui\" font-size=\"200\" font-weight=\"bold\" fill=\"white\">F</text>\r\n        </svg>`;\r\n        sourceBuffer = Buffer.from(svg);\r\n    } else {\r\n        sourceBuffer = fs.readFileSync(sourceIcon);\r\n    }\r\n\r\n    // Generate standard launcher icons\r\n    for (const { folder, size } of mipmapSizes) {\r\n        const dir = path.join(outputDir, folder);\r\n        if (!fs.existsSync(dir)) {\r\n            fs.mkdirSync(dir, { recursive: true });\r\n        }\r\n\r\n        await sharp(sourceBuffer)\r\n            .resize(size, size)\r\n            .png()\r\n            .toFile(path.join(dir, 'ic_launcher.png'));\r\n\r\n        // Round icon variant\r\n        await sharp(sourceBuffer)\r\n            .resize(size, size)\r\n            .png()\r\n            .toFile(path.join(dir, 'ic_launcher_round.png'));\r\n\r\n        console.log(`  ${folder}/ic_launcher.png (${size}x${size})`);\r\n    }\r\n\r\n    // Generate adaptive icon foreground (icon with padding for safe zone)\r\n    for (const { folder, size } of adaptiveSizes) {\r\n        const dir = path.join(outputDir, folder);\r\n        if (!fs.existsSync(dir)) {\r\n            fs.mkdirSync(dir, { recursive: true });\r\n        }\r\n\r\n        // The foreground icon has padding (66.67% of the full size is the icon)\r\n        const iconSize = Math.round(size * 0.667);\r\n        const padding = Math.round((size - iconSize) / 2);\r\n\r\n        const foreground = await sharp(sourceBuffer)\r\n            .resize(iconSize, iconSize)\r\n            .png()\r\n            .toBuffer();\r\n\r\n        await sharp({\r\n            create: {\r\n                width: size,\r\n                height: size,\r\n                channels: 4,\r\n                background: { r: 0, g: 0, b: 0, alpha: 0 },\r\n            },\r\n        })\r\n            .composite([{ input: foreground, left: padding, top: padding }])\r\n            .png()\r\n            .toFile(path.join(dir, 'ic_launcher_foreground.png'));\r\n\r\n        console.log(`  ${folder}/ic_launcher_foreground.png (${size}x${size})`);\r\n    }\r\n\r\n    // Generate Play Store icon (512x512)\r\n    const playStoreDir = path.join(outputDir, '..', 'play-store');\r\n    if (!fs.existsSync(playStoreDir)) {\r\n        fs.mkdirSync(playStoreDir, { recursive: true });\r\n    }\r\n\r\n    await sharp(sourceBuffer)\r\n        .resize(512, 512)\r\n        .png()\r\n        .toFile(path.join(playStoreDir, 'icon-512.png'));\r\n    console.log(`  play-store/icon-512.png (512x512)`);\r\n\r\n    // Generate feature graphic (1024x500)\r\n    const featureGraphicSvg = `\r\n    <svg width=\"1024\" height=\"500\" xmlns=\"http://www.w3.org/2000/svg\">\r\n        <defs>\r\n            <linearGradient id=\"bg\" x1=\"0%\" y1=\"0%\" x2=\"100%\" y2=\"100%\">\r\n                <stop offset=\"0%\" style=\"stop-color:#CC3F00\"/>\r\n                <stop offset=\"100%\" style=\"stop-color:#F97316\"/>\r\n            </linearGradient>\r\n        </defs>\r\n        <rect width=\"100%\" height=\"100%\" fill=\"url(#bg)\"/>\r\n        <text x=\"512\" y=\"200\" text-anchor=\"middle\" font-family=\"system-ui\" font-size=\"64\" font-weight=\"bold\" fill=\"white\">\r\n            Flashcards Generator\r\n        </text>\r\n        <text x=\"512\" y=\"280\" text-anchor=\"middle\" font-family=\"system-ui\" font-size=\"28\" fill=\"rgba(255,255,255,0.9)\">\r\n            Gere flashcards com IA para Anki e Quizlet\r\n        </text>\r\n        <text x=\"512\" y=\"340\" text-anchor=\"middle\" font-family=\"system-ui\" font-size=\"22\" fill=\"rgba(255,255,255,0.7)\">\r\n            Cole seu texto e pare de perder horas resumindo\r\n        </text>\r\n    </svg>`;\r\n\r\n    await sharp(Buffer.from(featureGraphicSvg))\r\n        .resize(1024, 500)\r\n        .png()\r\n        .toFile(path.join(playStoreDir, 'feature-graphic.png'));\r\n    console.log(`  play-store/feature-graphic.png (1024x500)`);\r\n\r\n    // Create adaptive icon XML files (ic_launcher.xml)\r\n    const adaptiveIconXml = `<?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<adaptive-icon xmlns:android=\"http://schemas.android.com/apk/res/android\">\r\n    <background android:drawable=\"@color/ic_launcher_background\"/>\r\n    <foreground android:drawable=\"@mipmap/ic_launcher_foreground\"/>\r\n</adaptive-icon>`;\r\n\r\n    const anydpiDir = path.join(outputDir, 'mipmap-anydpi-v26');\r\n    if (!fs.existsSync(anydpiDir)) {\r\n        fs.mkdirSync(anydpiDir, { recursive: true });\r\n    }\r\n    fs.writeFileSync(path.join(anydpiDir, 'ic_launcher.xml'), adaptiveIconXml);\r\n    fs.writeFileSync(path.join(anydpiDir, 'ic_launcher_round.xml'), adaptiveIconXml);\r\n    console.log(`  mipmap-anydpi-v26/ic_launcher.xml`);\r\n\r\n    // Create background color resource\r\n    const valuesDir = path.join(outputDir, 'values');\r\n    if (!fs.existsSync(valuesDir)) {\r\n        fs.mkdirSync(valuesDir, { recursive: true });\r\n    }\r\n\r\n    const colorsXml = `<?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<resources>\r\n    <color name=\"ic_launcher_background\">#CC3F00</color>\r\n</resources>`;\r\n    fs.writeFileSync(path.join(valuesDir, 'ic_launcher_background.xml'), colorsXml);\r\n    console.log(`  values/ic_launcher_background.xml`);\r\n\r\n    console.log('\\nAndroid icons generated!');\r\n    console.log(`Location: ${outputDir}\\n`);\r\n}\r\n\r\ngenerateAndroidIcons().catch(console.error);\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\otavi\\Desktop\\flashcards_generator\\flashcards_generator\\scripts\\generate-cron-secret.js","messages":[{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":1,"column":16,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":1,"endColumn":33}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"const crypto = require('crypto');\r\nconsole.log('\\n­ƒöæ CRON_SECRET Generated!\\n');\r\nconsole.log('Add this to your .env.local file:\\n');\r\nconsole.log(`CRON_SECRET=${crypto.randomBytes(32).toString('hex')}`);\r\nconsole.log('\\n');\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\otavi\\Desktop\\flashcards_generator\\flashcards_generator\\scripts\\generate-icons.js","messages":[{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":7,"column":15,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":7,"endColumn":31},{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":8,"column":12,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":8,"endColumn":25},{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":9,"column":14,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":9,"endColumn":29}],"suppressedMessages":[],"errorCount":3,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\r\n * Script para gerar ├¡cones PWA em m├║ltiplos tamanhos\r\n * Requer: npm install sharp\r\n * Uso: node scripts/generate-icons.js\r\n */\r\n\r\nconst sharp = require('sharp');\r\nconst fs = require('fs');\r\nconst path = require('path');\r\n\r\nconst sizes = [72, 96, 128, 144, 152, 192, 384, 512];\r\nconst inputFile = path.join(__dirname, '../public/logo.png');\r\nconst outputDir = path.join(__dirname, '../public/icons');\r\n\r\nasync function generateIcons() {\r\n    // Criar diret├│rio de sa├¡da se n├úo existir\r\n    if (!fs.existsSync(outputDir)) {\r\n        fs.mkdirSync(outputDir, { recursive: true });\r\n    }\r\n\r\n    console.log('­ƒÄ¿ Gerando ├¡cones PWA...\\n');\r\n\r\n    for (const size of sizes) {\r\n        const outputFile = path.join(outputDir, `icon-${size}x${size}.png`);\r\n        \r\n        try {\r\n            await sharp(inputFile)\r\n                .resize(size, size, {\r\n                    fit: 'contain',\r\n                    background: { r: 255, g: 255, b: 255, alpha: 1 }\r\n                })\r\n                .png()\r\n                .toFile(outputFile);\r\n            \r\n            console.log(`Ô£à icon-${size}x${size}.png`);\r\n        } catch (error) {\r\n            console.error(`ÔØî Erro ao gerar icon-${size}x${size}.png:`, error.message);\r\n        }\r\n    }\r\n\r\n    // Gerar Apple Touch Icon (180x180)\r\n    try {\r\n        await sharp(inputFile)\r\n            .resize(180, 180, {\r\n                fit: 'contain',\r\n                background: { r: 255, g: 255, b: 255, alpha: 1 }\r\n            })\r\n            .png()\r\n            .toFile(path.join(outputDir, 'apple-touch-icon.png'));\r\n        \r\n        console.log('Ô£à apple-touch-icon.png (180x180)');\r\n    } catch (error) {\r\n        console.error('ÔØî Erro ao gerar apple-touch-icon:', error.message);\r\n    }\r\n\r\n    // Gerar favicon (32x32)\r\n    try {\r\n        await sharp(inputFile)\r\n            .resize(32, 32, {\r\n                fit: 'contain',\r\n                background: { r: 255, g: 255, b: 255, alpha: 1 }\r\n            })\r\n            .png()\r\n            .toFile(path.join(outputDir, 'favicon-32x32.png'));\r\n        \r\n        console.log('Ô£à favicon-32x32.png');\r\n    } catch (error) {\r\n        console.error('ÔØî Erro ao gerar favicon:', error.message);\r\n    }\r\n\r\n    // Gerar favicon 16x16\r\n    try {\r\n        await sharp(inputFile)\r\n            .resize(16, 16, {\r\n                fit: 'contain',\r\n                background: { r: 255, g: 255, b: 255, alpha: 1 }\r\n            })\r\n            .png()\r\n            .toFile(path.join(outputDir, 'favicon-16x16.png'));\r\n        \r\n        console.log('Ô£à favicon-16x16.png');\r\n    } catch (error) {\r\n        console.error('ÔØî Erro ao gerar favicon 16x16:', error.message);\r\n    }\r\n\r\n    console.log('\\n­ƒÄë ├ìcones gerados com sucesso em /public/icons/');\r\n}\r\n\r\ngenerateIcons().catch(console.error);\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\otavi\\Desktop\\flashcards_generator\\flashcards_generator\\scripts\\generate-icons.mjs","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\otavi\\Desktop\\flashcards_generator\\flashcards_generator\\scripts\\generate-screenshots.js","messages":[{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":4,"column":15,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":4,"endColumn":31},{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":5,"column":14,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":5,"endColumn":29},{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":6,"column":12,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":6,"endColumn":25}],"suppressedMessages":[],"errorCount":3,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"// Script to generate PWA screenshots\r\n// Run with: node scripts/generate-screenshots.js\r\n\r\nconst sharp = require('sharp');\r\nconst path = require('path');\r\nconst fs = require('fs');\r\n\r\nconst screenshotsDir = path.join(__dirname, '../public/screenshots');\r\n\r\n// Ensure directory exists\r\nif (!fs.existsSync(screenshotsDir)) {\r\n    fs.mkdirSync(screenshotsDir, { recursive: true });\r\n}\r\n\r\n// Create SVG templates for screenshots\r\nconst createScreenshotSVG = (width, height, isDesktop) => {\r\n    const brandColor = '#CC3F00';\r\n    const bgColor = '#18181B';\r\n    \r\n    return `\r\n    <svg width=\"${width}\" height=\"${height}\" xmlns=\"http://www.w3.org/2000/svg\">\r\n        <defs>\r\n            <linearGradient id=\"grad1\" x1=\"0%\" y1=\"0%\" x2=\"100%\" y2=\"100%\">\r\n                <stop offset=\"0%\" style=\"stop-color:${brandColor};stop-opacity:0.1\" />\r\n                <stop offset=\"100%\" style=\"stop-color:${brandColor};stop-opacity:0.3\" />\r\n            </linearGradient>\r\n        </defs>\r\n        \r\n        <!-- Background -->\r\n        <rect width=\"100%\" height=\"100%\" fill=\"${bgColor}\"/>\r\n        <rect width=\"100%\" height=\"100%\" fill=\"url(#grad1)\"/>\r\n        \r\n        <!-- Header -->\r\n        <rect x=\"0\" y=\"0\" width=\"100%\" height=\"${isDesktop ? 64 : 56}\" fill=\"#27272A\"/>\r\n        \r\n        <!-- Logo placeholder -->\r\n        <circle cx=\"${isDesktop ? 40 : 28}\" cy=\"${isDesktop ? 32 : 28}\" r=\"${isDesktop ? 16 : 12}\" fill=\"${brandColor}\"/>\r\n        <text x=\"${isDesktop ? 70 : 50}\" y=\"${isDesktop ? 38 : 33}\" \r\n              font-family=\"system-ui, -apple-system, sans-serif\" \r\n              font-size=\"${isDesktop ? 18 : 14}\" \r\n              font-weight=\"600\" \r\n              fill=\"white\">Flashcards Generator</text>\r\n        \r\n        <!-- Main content area -->\r\n        <rect x=\"${isDesktop ? 40 : 16}\" y=\"${isDesktop ? 100 : 80}\" \r\n              width=\"${isDesktop ? width - 80 : width - 32}\" \r\n              height=\"${isDesktop ? 200 : 150}\" \r\n              rx=\"12\" fill=\"#27272A\"/>\r\n        \r\n        <!-- Title text -->\r\n        <text x=\"${width / 2}\" y=\"${isDesktop ? 150 : 130}\" \r\n              text-anchor=\"middle\"\r\n              font-family=\"system-ui, -apple-system, sans-serif\" \r\n              font-size=\"${isDesktop ? 28 : 20}\" \r\n              font-weight=\"700\" \r\n              fill=\"white\">Crie Flashcards com IA</text>\r\n        \r\n        <text x=\"${width / 2}\" y=\"${isDesktop ? 190 : 160}\" \r\n              text-anchor=\"middle\"\r\n              font-family=\"system-ui, -apple-system, sans-serif\" \r\n              font-size=\"${isDesktop ? 16 : 12}\" \r\n              fill=\"#A1A1AA\">Transforme qualquer texto em cards de estudo</text>\r\n        \r\n        <!-- CTA Button -->\r\n        <rect x=\"${width / 2 - (isDesktop ? 100 : 80)}\" y=\"${isDesktop ? 220 : 180}\" \r\n              width=\"${isDesktop ? 200 : 160}\" \r\n              height=\"${isDesktop ? 50 : 40}\" \r\n              rx=\"8\" fill=\"${brandColor}\"/>\r\n        <text x=\"${width / 2}\" y=\"${isDesktop ? 252 : 205}\" \r\n              text-anchor=\"middle\"\r\n              font-family=\"system-ui, -apple-system, sans-serif\" \r\n              font-size=\"${isDesktop ? 16 : 14}\" \r\n              font-weight=\"600\" \r\n              fill=\"white\">Come├ºar Agora</text>\r\n        \r\n        <!-- Flashcard previews -->\r\n        ${isDesktop ? `\r\n        <rect x=\"40\" y=\"340\" width=\"300\" height=\"180\" rx=\"12\" fill=\"#3F3F46\"/>\r\n        <rect x=\"${width / 2 - 150}\" y=\"340\" width=\"300\" height=\"180\" rx=\"12\" fill=\"#3F3F46\"/>\r\n        <rect x=\"${width - 340}\" y=\"340\" width=\"300\" height=\"180\" rx=\"12\" fill=\"#3F3F46\"/>\r\n        ` : `\r\n        <rect x=\"16\" y=\"260\" width=\"${width - 32}\" height=\"120\" rx=\"8\" fill=\"#3F3F46\"/>\r\n        <rect x=\"16\" y=\"400\" width=\"${width - 32}\" height=\"120\" rx=\"8\" fill=\"#3F3F46\"/>\r\n        `}\r\n        \r\n        <!-- Feature icons and text -->\r\n        <circle cx=\"${isDesktop ? 190 : width / 2 - 80}\" cy=\"${isDesktop ? 380 : 300}\" r=\"24\" fill=\"${brandColor}\" opacity=\"0.2\"/>\r\n        <circle cx=\"${isDesktop ? width / 2 : width / 2}\" cy=\"${isDesktop ? 380 : 300}\" r=\"24\" fill=\"${brandColor}\" opacity=\"0.2\"/>\r\n        <circle cx=\"${isDesktop ? width - 190 : width / 2 + 80}\" cy=\"${isDesktop ? 380 : 300}\" r=\"24\" fill=\"${brandColor}\" opacity=\"0.2\"/>\r\n    </svg>\r\n    `;\r\n};\r\n\r\nasync function generateScreenshots() {\r\n    console.log('­ƒô© Generating PWA screenshots...\\n');\r\n\r\n    try {\r\n        // Desktop screenshot (wide)\r\n        const desktopSVG = createScreenshotSVG(1280, 720, true);\r\n        await sharp(Buffer.from(desktopSVG))\r\n            .png()\r\n            .toFile(path.join(screenshotsDir, 'screenshot-desktop.png'));\r\n        console.log('Ô£à screenshot-desktop.png (1280x720)');\r\n\r\n        // Mobile screenshot (narrow)\r\n        const mobileSVG = createScreenshotSVG(750, 1334, false);\r\n        await sharp(Buffer.from(mobileSVG))\r\n            .png()\r\n            .toFile(path.join(screenshotsDir, 'screenshot-mobile.png'));\r\n        console.log('Ô£à screenshot-mobile.png (750x1334)');\r\n\r\n        console.log('\\n­ƒÄë Screenshots generated successfully!');\r\n        console.log('­ƒôü Location: public/screenshots/\\n');\r\n    } catch (error) {\r\n        console.error('ÔØî Error generating screenshots:', error);\r\n        process.exit(1);\r\n    }\r\n}\r\n\r\ngenerateScreenshots();\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\otavi\\Desktop\\flashcards_generator\\flashcards_generator\\scripts\\generate-tauri-icons.js","messages":[{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":2,"column":15,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":2,"endColumn":31},{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":3,"column":14,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":3,"endColumn":29},{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":4,"column":12,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":4,"endColumn":25}],"suppressedMessages":[],"errorCount":3,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"// Script to generate Tauri app icons from logo\r\nconst sharp = require('sharp');\r\nconst path = require('path');\r\nconst fs = require('fs');\r\n\r\nconst iconsDir = path.join(__dirname, '../src-tauri/icons');\r\n// Try to find the best source icon\r\nconst iconSourcePath = path.join(__dirname, '../public/icon-source.png');\r\nconst startLogoPath = path.join(__dirname, '../public/logo.png');\r\nconst sourceIcon = fs.existsSync(iconSourcePath) ? iconSourcePath : startLogoPath;\r\n\r\n// Ensure directory exists\r\nif (!fs.existsSync(iconsDir)) {\r\n    fs.mkdirSync(iconsDir, { recursive: true });\r\n}\r\n\r\nconst sizes = [\r\n    { size: 32, name: '32x32.png' },\r\n    { size: 128, name: '128x128.png' },\r\n    { size: 256, name: '128x128@2x.png' },\r\n    { size: 512, name: 'icon.png' },\r\n];\r\n\r\n// Create a valid ICO file manually\r\nfunction createIco(pngBuffers) {\r\n    // ICO header: 6 bytes\r\n    // ICONDIR: idReserved (2), idType (2), idCount (2)\r\n    const iconCount = pngBuffers.length;\r\n    const headerSize = 6;\r\n    const dirEntrySize = 16;\r\n    const dirSize = dirEntrySize * iconCount;\r\n\r\n    let offset = headerSize + dirSize;\r\n    const dirEntries = [];\r\n\r\n    for (const { buffer, size } of pngBuffers) {\r\n        dirEntries.push({\r\n            width: size >= 256 ? 0 : size,\r\n            height: size >= 256 ? 0 : size,\r\n            colorCount: 0,\r\n            reserved: 0,\r\n            planes: 1,\r\n            bitCount: 32,\r\n            bytesInRes: buffer.length,\r\n            imageOffset: offset\r\n        });\r\n        offset += buffer.length;\r\n    }\r\n\r\n    const totalSize = offset;\r\n    const ico = Buffer.alloc(totalSize);\r\n\r\n    // Write header\r\n    ico.writeUInt16LE(0, 0);  // Reserved\r\n    ico.writeUInt16LE(1, 2);  // Type (1 = ICO)\r\n    ico.writeUInt16LE(iconCount, 4);  // Image count\r\n\r\n    // Write directory entries\r\n    let pos = 6;\r\n    for (const entry of dirEntries) {\r\n        ico.writeUInt8(entry.width, pos);\r\n        ico.writeUInt8(entry.height, pos + 1);\r\n        ico.writeUInt8(entry.colorCount, pos + 2);\r\n        ico.writeUInt8(entry.reserved, pos + 3);\r\n        ico.writeUInt16LE(entry.planes, pos + 4);\r\n        ico.writeUInt16LE(entry.bitCount, pos + 6);\r\n        ico.writeUInt32LE(entry.bytesInRes, pos + 8);\r\n        ico.writeUInt32LE(entry.imageOffset, pos + 12);\r\n        pos += 16;\r\n    }\r\n\r\n    // Write image data\r\n    for (const { buffer } of pngBuffers) {\r\n        buffer.copy(ico, pos);\r\n        pos += buffer.length;\r\n    }\r\n\r\n    return ico;\r\n}\r\n\r\nasync function generateIcons() {\r\n    console.log('­ƒÄ¿ Generating Tauri icons...\\n');\r\n\r\n    let sourceBuffer;\r\n\r\n    // Check if source exists\r\n    if (!fs.existsSync(sourceIcon)) {\r\n        console.log('ÔÜá´©Å  Source logo.png not found, creating placeholder icons...');\r\n\r\n        // Create a simple SVG as placeholder\r\n        const svg = `\r\n        <svg width=\"512\" height=\"512\" xmlns=\"http://www.w3.org/2000/svg\">\r\n            <rect width=\"100%\" height=\"100%\" fill=\"#CC3F00\"/>\r\n            <text x=\"50%\" y=\"50%\" text-anchor=\"middle\" dy=\".35em\" \r\n                  font-family=\"system-ui\" font-size=\"200\" font-weight=\"bold\" fill=\"white\">F</text>\r\n        </svg>`;\r\n        sourceBuffer = Buffer.from(svg);\r\n    } else {\r\n        sourceBuffer = fs.readFileSync(sourceIcon);\r\n    }\r\n\r\n    // Generate PNGs\r\n    for (const { size, name } of sizes) {\r\n        await sharp(sourceBuffer)\r\n            .resize(size, size)\r\n            .png()\r\n            .toFile(path.join(iconsDir, name));\r\n        console.log(`Ô£à ${name}`);\r\n    }\r\n\r\n    // Generate ICO with multiple sizes\r\n    const icoSizes = [16, 32, 48, 256];\r\n    const pngBuffers = [];\r\n\r\n    for (const size of icoSizes) {\r\n        const buffer = await sharp(sourceBuffer)\r\n            .resize(size, size)\r\n            .png()\r\n            .toBuffer();\r\n        pngBuffers.push({ buffer, size });\r\n    }\r\n\r\n    const icoBuffer = createIco(pngBuffers);\r\n    fs.writeFileSync(path.join(iconsDir, 'icon.ico'), icoBuffer);\r\n    console.log('Ô£à icon.ico');\r\n\r\n    // For macOS, just use PNG (real .icns requires special tooling)\r\n    await sharp(sourceBuffer)\r\n        .resize(512, 512)\r\n        .png()\r\n        .toFile(path.join(iconsDir, 'icon.icns'));\r\n    console.log('Ô£à icon.icns (PNG format)');\r\n\r\n    console.log('\\n­ƒÄë Tauri icons generated!');\r\n    console.log('­ƒôü Location: src-tauri/icons/\\n');\r\n}\r\n\r\ngenerateIcons().catch(console.error);\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\otavi\\Desktop\\flashcards_generator\\flashcards_generator\\scripts\\generate-vapid-keys.js","messages":[{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":4,"column":17,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":4,"endColumn":36}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"// Script to generate VAPID keys for Web Push notifications\r\n// Run with: node scripts/generate-vapid-keys.js\r\n\r\nconst webpush = require('web-push');\r\n\r\nconst vapidKeys = webpush.generateVAPIDKeys();\r\n\r\nconsole.log('\\n­ƒöÉ VAPID Keys Generated!\\n');\r\nconsole.log('Add these to your .env.local file:\\n');\r\nconsole.log(`NEXT_PUBLIC_VAPID_PUBLIC_KEY=${vapidKeys.publicKey}`);\r\nconsole.log(`VAPID_PRIVATE_KEY=${vapidKeys.privateKey}`);\r\nconsole.log('\\nÔÜá´©Å  Keep the private key secret! Never commit it to version control.\\n');\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\otavi\\Desktop\\flashcards_generator\\flashcards_generator\\scripts\\optimize-logos.mjs","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\otavi\\Desktop\\flashcards_generator\\flashcards_generator\\sentry.client.config.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\otavi\\Desktop\\flashcards_generator\\flashcards_generator\\sentry.edge.config.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\otavi\\Desktop\\flashcards_generator\\flashcards_generator\\sentry.server.config.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\otavi\\Desktop\\flashcards_generator\\flashcards_generator\\services\\aiService.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":183,"column":29,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":183,"endColumn":32,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[6868,6871],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[6868,6871],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\r\nimport { sleep } from '@/lib/utils';\r\nimport { promptService } from './promptService';\r\n\r\nexport interface GeneratedCard {\r\n    question: string;\r\n    answer: string;\r\n    tags?: string[];\r\n    image_url?: string | null;\r\n    user_image_index?: number;\r\n    user_image_section?: 'question' | 'answer';\r\n}\r\n\r\nexport interface Attachment {\r\n    inline_data: {\r\n        mime_type: string;\r\n        data: string;\r\n    };\r\n}\r\n\r\nexport interface GenerationRequest {\r\n    userText: string;\r\n    attachments: Attachment[];\r\n    config: {\r\n        cardCount: number;\r\n        language: string;\r\n        difficulty: string;\r\n        studyLevel: string;\r\n        studyGoal: string;\r\n        templateType: string;\r\n        cardStyle: 'basic' | 'short_answer' | 'image_occlusion';\r\n        aiOptimized: boolean;\r\n        enemMode: boolean;\r\n        autoTags: boolean;\r\n    };\r\n}\r\n\r\nexport const aiService = {\r\n    async fetchWithRetry(url: string, init: RequestInit, attempts = 5): Promise<Response | null> {\r\n        let lastError: unknown;\r\n        let lastStatus: number | null = null;\r\n\r\n        for (let attempt = 0; attempt < attempts; attempt += 1) {\r\n            try {\r\n                const response = await fetch(url, init);\r\n                lastStatus = response.status;\r\n\r\n                if (response.status === 429 || response.status === 503) {\r\n                    const retryAfterHeader = response.headers.get('retry-after');\r\n                    const retryAfterMs = retryAfterHeader ? parseInt(retryAfterHeader, 10) * 1000 : 0;\r\n                    const backoff = retryAfterMs || (2000 * Math.pow(2, attempt)); // Exponential backoff\r\n\r\n                    console.log(`[AI-Service] Rate limit hit (Status ${response.status}). Waiting ${backoff}ms...`);\r\n                    await sleep(backoff + Math.floor(Math.random() * 500));\r\n                    continue;\r\n                }\r\n\r\n                return response;\r\n            } catch (error) {\r\n                lastError = error;\r\n                console.warn(`[AI-Service] Network error (Attempt ${attempt + 1}/${attempts}):`, error);\r\n                await sleep(1000 * (attempt + 1));\r\n            }\r\n        }\r\n\r\n        console.error(`[AI-Service] All retry attempts failed. Last status: ${lastStatus}`, lastError);\r\n        return null;\r\n    },\r\n\r\n    async generateFlashcards(req: GenerationRequest): Promise<GeneratedCard[]> {\r\n        const prompt = promptService.constructSystemPrompt({\r\n            userText: req.userText,\r\n            attachmentCount: req.attachments.length,\r\n            requestedCardCount: req.config.cardCount,\r\n            language: req.config.language,\r\n            difficulty: req.config.difficulty,\r\n            studyLevel: req.config.studyLevel,\r\n            studyGoal: req.config.studyGoal,\r\n            templateType: req.config.templateType,\r\n            cardStyle: req.config.cardStyle,\r\n            aiOptimized: req.config.aiOptimized,\r\n            enemMode: req.config.enemMode,\r\n            autoTags: req.config.autoTags\r\n        });\r\n\r\n        const apiKey = process.env.OPENAI_API_KEY;\r\n        if (!apiKey) {\r\n            throw new Error('OPENAI_API_KEY is not configured');\r\n        }\r\n\r\n        const imageParts = req.attachments\r\n            .filter((attachment) => attachment.inline_data?.mime_type?.toLowerCase().startsWith('image/'))\r\n            .map((attachment) => ({\r\n                type: 'image_url',\r\n                image_url: {\r\n                    url: `data:${attachment.inline_data.mime_type};base64,${attachment.inline_data.data}`,\r\n                }\r\n            }));\r\n\r\n        const unsupportedAttachments = req.attachments.filter(\r\n            (attachment) => !attachment.inline_data?.mime_type?.toLowerCase().startsWith('image/')\r\n        );\r\n\r\n        if (unsupportedAttachments.length > 0) {\r\n            throw new Error('Arquivos PDF n├úo s├úo suportados pela IA atual. Use texto ou imagens.');\r\n        }\r\n\r\n        const responseSchema = {\r\n            name: 'flashcards',\r\n            schema: {\r\n                type: 'object',\r\n                properties: {\r\n                    cards: {\r\n                        type: 'array',\r\n                        items: {\r\n                            type: 'object',\r\n                            properties: {\r\n                                question: { type: 'string' },\r\n                                answer: { type: 'string' },\r\n                                tags: { type: 'array', items: { type: 'string' } },\r\n                                user_image_index: { type: 'number' },\r\n                                user_image_section: { type: 'string', enum: ['question', 'answer'] },\r\n                            },\r\n                            required: ['question', 'answer'],\r\n                            additionalProperties: false,\r\n                        },\r\n                    },\r\n                },\r\n                required: ['cards'],\r\n                additionalProperties: false,\r\n            },\r\n            strict: false,\r\n        };\r\n\r\n        const response = await this.fetchWithRetry(\r\n            'https://api.openai.com/v1/chat/completions',\r\n            {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    Authorization: `Bearer ${apiKey}`,\r\n                },\r\n                body: JSON.stringify({\r\n                    model: process.env.OPENAI_TEXT_MODEL || 'gpt-4.1-mini',\r\n                    temperature: 0.7,\r\n                    response_format: { type: 'json_schema', json_schema: responseSchema },\r\n                    messages: [\r\n                        {\r\n                            role: 'user',\r\n                            content: [\r\n                                { type: 'text', text: prompt },\r\n                                ...imageParts,\r\n                            ],\r\n                        },\r\n                    ],\r\n                }),\r\n            }\r\n        );\r\n\r\n        if (!response) {\r\n            throw new Error('Failed to connect to AI Service after multiple attempts');\r\n        }\r\n\r\n        if (!response.ok) {\r\n            const errorData = await response.json().catch(() => ({}));\r\n            console.error('OpenAI API Error:', errorData);\r\n            throw new Error(`AI Service returned error: ${response.status}`);\r\n        }\r\n\r\n        const data = await response.json();\r\n\r\n        try {\r\n            const rawContent = data.choices?.[0]?.message?.content;\r\n            const parsed = JSON.parse(rawContent || '{}');\r\n            const parsedCards = Array.isArray(parsed) ? parsed : parsed?.cards;\r\n\r\n            if (!Array.isArray(parsedCards)) {\r\n                console.warn('AI returned invalid response');\r\n                return [];\r\n            }\r\n\r\n            return parsedCards\r\n                .map((card: any) => ({\r\n                    question: typeof card?.question === 'string' ? card.question : '',\r\n                    answer: typeof card?.answer === 'string' ? card.answer : '',\r\n                    tags: Array.isArray(card?.tags) ? card.tags : [],\r\n                    user_image_index: typeof card?.user_image_index === 'number' ? card.user_image_index : undefined,\r\n                    user_image_section: ['question', 'answer'].includes(card?.user_image_section) ? card.user_image_section : undefined\r\n                }))\r\n                .filter(card => card.question || card.answer);\r\n\r\n        } catch (parseError) {\r\n            console.error('Failed to parse AI response:', parseError);\r\n            throw new Error('Failed to process AI response format');\r\n        }\r\n    }\r\n};\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\otavi\\Desktop\\flashcards_generator\\flashcards_generator\\services\\deckService.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\otavi\\Desktop\\flashcards_generator\\flashcards_generator\\services\\imageService.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\otavi\\Desktop\\flashcards_generator\\flashcards_generator\\services\\promptService.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\otavi\\Desktop\\flashcards_generator\\flashcards_generator\\src-tauri\\target\\aarch64-linux-android\\debug\\build\\flashcards-generator-7dddd16e02d99cfd\\out\\__global-api-script.js","messages":[{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":1,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":616}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"[\"\\\\\\\\?\\\\C:\\\\Users\\\\otavi\\\\.cargo\\\\registry\\\\src\\\\index.crates.io-1949cf8c6b5b557f\\\\tauri-2.9.5\\\\scripts\\\\bundle.global.js\",\"\\\\\\\\?\\\\C:\\\\Users\\\\otavi\\\\.cargo\\\\registry\\\\src\\\\index.crates.io-1949cf8c6b5b557f\\\\tauri-plugin-http-2.5.6\\\\api-iife.js\",\"\\\\\\\\?\\\\C:\\\\Users\\\\otavi\\\\.cargo\\\\registry\\\\src\\\\index.crates.io-1949cf8c6b5b557f\\\\tauri-plugin-notification-2.3.3\\\\api-iife.js\",\"\\\\\\\\?\\\\C:\\\\Users\\\\otavi\\\\.cargo\\\\registry\\\\src\\\\index.crates.io-1949cf8c6b5b557f\\\\tauri-plugin-os-2.3.2\\\\api-iife.js\",\"\\\\\\\\?\\\\C:\\\\Users\\\\otavi\\\\.cargo\\\\registry\\\\src\\\\index.crates.io-1949cf8c6b5b557f\\\\tauri-plugin-shell-2.3.4\\\\api-iife.js\"]","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\otavi\\Desktop\\flashcards_generator\\flashcards_generator\\src-tauri\\target\\aarch64-linux-android\\debug\\build\\flashcards-generator-7dddd16e02d99cfd\\out\\tauri-codegen-assets\\a36dd4ea676acf7d7367c76f8a0da73a378d8d1eef7d283f769378bccd6ed395.js","messages":[{"ruleId":null,"nodeType":null,"fatal":true,"severity":2,"message":"Parsing error: Invalid character.","line":1,"column":0}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":1,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\u001b´┐¢\"\u0000´┐¢´┐¢´┐¢´┐¢´┐¢´┐¢´┐¢\u0000~´┐¢s]R´┐¢\u0000,´┐¢\"\n´┐¢\u000b -´┐¢\u000b´┐¢´┐¢´┐¢#╩½´┐¢<\u0002´┐¢=3´┐¢´┐¢´┐¢ @]U´┐¢L´┐¢´┐¢U´┐¢U´┐¢´┐¢´┐¢ ´┐¢.´┐¢´┐¢´┐¢´┐¢\u000f´┐¢kSUUU´┐¢´┐¢=O´┐¢´┐¢´┐¢´┐¢rgQ´┐¢´┐¢´┐¢Z\u001c´┐¢´┐¢´┐¢´┐¢´┐¢=<\u000f´┐¢qp´┐¢´┐¢C$´┐¢´┐¢´┐¢´┐¢/f´┐¢\u0000´┐¢´┐¢q\t´┐¢%,´┐¢´┐¢´┐¢{´┐¢\u001f´┐¢´┐¢´┐¢y´┐¢´┐¢´┐¢´┐¢i9eB´┐¢1\u000fW\u0007´┐¢8%´┐¢! ´┐¢\u000f´┐¢<´┐¢´┐¢´┐¢y´┐¢$´┐¢´┐¢´┐¢{RUUU´┐¢´┐¢yxx\u0004´┐¢E´┐¢+´┐¢´┐¢╩▓´┐¢´┐¢´┐¢¤¿*´┐¢\u0006´┐¢xã×Ê½3´┐¢´┐¢N´┐¢´┐¢─ä;´┐¢´┐¢3:Y´┐¢=\u0005JZb´┐¢¤¬\n´┐¢´┐¢1´┐¢M(X´┐¢t´┐¢´┐¢´┐¢%´┐¢Ê½3´┐¢KL'J´┐¢8´┐¢`\u0006´┐¢xF3\u0004#.\u0006ÝØî´┐¢´┐¢|VU´┐¢\u0006Kod´┐¢_ðæ´┐¢~´┐¢´┐¢4´┐¢\u0005´┐¢ıó´┐¢\u0012´┐¢ni>31´┐¢`´┐¢´┐¢e´┐¢´┐¢s´┐¢\u0005T#´┐¢´┐¢´┐¢zX¦é^´┐¢}´┐¢´┐¢>´┐¢´┐¢´┐¢´┐¢|´┐¢´┐¢´┐¢´┐¢´┐¢´┐¢´┐¢´┐¢\u001e\u000b´┐¢´┐¢g\u0000´┐¢┘¡´┐¢´┐¢´┐¢´┐¢´┐¢´┐¢i´┐¢´┐¢´┐¢z\nÍà´┐¢´┐¢v\u000fU\u0000n´┐¢\u001f´┐¢´┐¢´┐¢´┐¢b\u0019´┐¢´┐¢´┐¢´┐¢´┐¢´┐¢´┐¢´┐¢e´┐¢Y´┐¢´┐¢´┐¢´┐¢´┐¢6\u001d´┐¢+K´┐¢´┐¢j>´┐¢´┐¢\u0018VUx´┐¢)´┐¢´┐¢´┐¢´┐¢\u001a´┐¢<´┐¢´┐¢SX´┐¢r´┐¢>U\"\u0019R@´┐¢\u000b\u001eS<;´┐¢,K´┐¢Ð┐R´┐¢D?´┐¢H´┐¢┼»(\u0005\u0000PsV´┐¢\u000f─é\u0005\u001c´┐¢´┐¢2´┐¢\u00142´┐¢´┐¢\u0017\u0016\ns´┐¢4\n´┐¢=´┐¢´┐¢´┐¢R´┐¢\t\u000bdl´┐¢c´┐¢´┐¢´┐¢vf~´┐¢;´┐¢\u0007c´┐¢´┐¢\u001bB\u0007´┐¢\u0012´┐¢´┐¢´┐¢´┐¢´┐¢=´┐¢mÊû\u0002´┐¢%´┐¢\u00052z´┐¢´┐¢´┐¢´┐¢´┐¢´┐¢=b\u0001´┐¢c´┐¢´┐¢´┐¢\u0012\u000f´┐¢:\u0011\u0000´┐¢\n{´┐¢´┐¢B\f´┐¢\u0002&´┐¢\u0016´┐¢´┐¢t´┐¢S´┐¢\t´┐¢s\\´┐¢´┐¢'{,´┐¢´┐¢\u0007\u0019!r´┐¢N´┐¢´┐¢K\u0013´┐¢h\u00178´┐¢´┐¢´┐¢´┐¢\u0011\u0004R´┐¢<\u0017´┐¢\u001a\u0000´┐¢´┐¢´┐¢´┐¢@´┐¢M´┐¢)´┐¢´┐¢\u0013´┐¢´┐¢Z´┐¢\u001a´┐¢YU@\u000f\u0012´┐¢´┐¢$:S´┐¢\u001a´┐¢\u0006´┐¢´┐¢´┐¢\u0001`´┐¢\u001b´┐¢´┐¢?\u0001L´┐¢.\u0006´┐¢´┐¢´┐¢Ìô´┐¢U\u001e´┐¢´┐¢E\u0007H´┐¢´┐¢A]´┐¢\u0016´┐¢T\u0004´┐¢´┐¢hk´┐¢´┐¢&´┐¢-\n´┐¢¦¡´┐¢F´┐¢´┐¢f´┐¢´┐¢)´┐¢d´┐¢´┐¢´┐¢S´┐¢Dd´┐¢:´┐¢´┐¢4´┐¢´┐¢$´┐¢*hk\u000fQ´┐¢´┐¢U\u000b\u000b´┐¢@\u0003´┐¢#\u001d´┐¢v´┐¢´┐¢\u0014´┐¢´┐¢´┐¢´┐¢´┐¢\u001b\u0016´┐¢´┐¢R´┐¢\u000e´┐¢e´┐¢\u0004´┐¢´┐¢\u0012i{INH´┐¢3´┐¢\u0001´┐¢\f\u0016´┐¢7´┐¢\u0018$\u001cX*´┐¢´┐¢a´┐¢´┐¢qJmm´┐¢´┐¢´┐¢,´┐¢\u0016]@▄ÖX´┐¢´┐¢´┐¢´┐¢´┐¢Be´┐¢´┐¢,´┐¢´┐¢F´┐¢´┐¢4/´┐¢i\\´┐¢´┐¢iy319´┐¢´┐¢\u0004´┐¢{´┐¢\f´┐¢&┼│[´┐¢ÏÆ,´┐¢´┐¢K´┐¢l\u0017v\u0003´┐¢m´┐¢W´┐¢´┐¢\u0018´┐¢x%´┐¢\u0013\u0019´┐¢\u0002´┐¢@´┐¢M[´┐¢'!8´┐¢´┐¢3´┐¢B\u000b´┐¢:´┐¢\u0002\u0005´┐¢u█ÜvD2@_´┐¢,´┐¢\u0002´┐¢´┐¢´┐¢\u0007´┐¢)´┐¢´┐¢\u0006[yÊ®G]h<´┐¢\u001b´┐¢´┐¢´┐¢~/<\u0003´┐¢\u0013\u0019´┐¢´┐¢´┐¢\b´┐¢´┐¢´┐¢~´┐¢´┐¢zB?p´┐¢\u0010´┐¢5´┐¢hq1´┐¢gL´┐¢)´┐¢´┐¢´┐¢W\n´┐¢ı▒P´┐¢´┐¢´┐¢~´┐¢N\u0015´┐¢A´┐¢´┐¢hA´┐¢Î╣[´┐¢´┐¢\u001f\u0019\u0001´┐¢´┐¢´┐¢´┐¢V´┐¢.p\fz\u0011´┐¢´┐¢´┐¢C´┐¢x*p´┐¢v,´┐¢L\f\u0005´┐¢┌Â´┐¢f´┐¢\u0016´┐¢´┐¢Z´┐¢ãäE´┐¢´┐¢2\u0013{´┐¢c\u0005K´┐¢,\u0000´┐¢Fıí31´┐¢´┐¢&´┐¢´┐¢\u0003´┐¢r&\u0006´┐¢X´┐¢´┐¢´┐¢´┐¢´┐¢o7´┐¢.´┐¢´┐¢*,´┐¢\u0013´┐¢Oe´┐¢\u000b?´┐¢´┐¢´┐¢´┐¢´┐¢´┐¢M´┐¢´┐¢c´┐¢B5´┐¢´┐¢´┐¢´┐¢.´┐¢´┐¢\u00027´┐¢´┐¢´┐¢@y´┐¢f´┐¢)>\u001f´┐¢\u001aÎù\u0001´┐¢5SCM,´┐¢Ta´┐¢´┐¢WC´┐¢´┐¢´┐¢´┐¢/6,´┐¢´┐¢\t´┐¢´┐¢I+L\u0005´┐¢´┐¢´┐¢´┐¢´┐¢1´┐¢ZS\u001f\u001d´┐¢9P´┐¢´┐¢╦Ø´┐¢´┐¢´┐¢´┐¢)\u0017´┐¢´┐¢[\u0010þ│û<\u0000DQe´┐¢Í▒$´┐¢´┐¢´┐¢´┐¢´┐¢´┐¢N´┐¢0c\u0016\u0017´┐¢´┐¢r|´┐¢(-K´┐¢´┐¢u´┐¢\u0006´┐¢9´┐¢\u00168´┐¢´┐¢Ee´┐¢´┐¢/´┐¢´┐¢G´┐¢c\u0004FqD6\n\u0002´┐¢´┐¢ýÿÁ\u0003█ª´┐¢´┐¢´┐¢´┐¢\u0007Ìº´┐¢´┐¢´┐¢$\u0018´┐¢´┐¢\u0002´┐¢R´┐¢\n´┐¢AF´┐¢´┐¢´┐¢b´┐¢´┐¢\f>>\u001ew´┐¢!´┐¢d´┐¢\u0003@´┐¢´┐¢)\n1´┐¢ÍèS<\u0011'´┐¢´┐¢\u000e´┐¢B´┐¢;\n´┐¢´┐¢Y´┐¢´┐¢´┐¢g´É▒´┐¢\u001a´┐¢Ôéì\u0017U´┐¢\u0005´┐¢\u0007K▀é´┐¢AR´┐¢´┐¢ý╝┐´┐¢´┐¢´┐¢B´┐¢Q´┐¢´┐¢´┐¢Ï╝\\´┐¢SU´┐¢FHD\u0013´┐¢´┐¢´┐¢\u0001´┐¢´┐¢X\\h´┐¢I´┐¢)51!3+\u0011´┐¢!6´┐¢´┐¢´┐¢´┐¢´┐¢´┐¢#´┐¢r9$_╩¢´┐¢Y|´┐¢´┐¢Þïë1´┐¢Íà\u001c´┐¢>A´┐¢s´┐¢´┐¢\u0002y7i´┐¢L´┐¢╦á_]´┐¢´┐¢´┐¢!´┐¢\\%\u0016´┐¢´┐¢\u0018\u000b\\:f´┐¢)S´┐¢T´┐¢;\u0012´┐¢@\u0017\u001b}\u0005´┐¢\u0006!\u0006B\u0013´┐¢`1\f´┐¢C´┐¢R\b´┐¢´┐¢´┐¢\u001a´┐¢\"Z\u0018N´┐¢L´┐¢:O´┐¢´┐¢´┐¢/┌£´┐¢\u0014´┐¢`´┐¢\u001f´┐¢´┐¢´┐¢S´┐¢\u0011´┐¢´┐¢´┐¢S/\u001d\u0005\u001c´┐¢9!´┐¢Em\u0017´┐¢c´┐¢´┐¢c0´┐¢t´┐¢5\r\u0007´┐¢´┐¢o´┐¢´┐¢`v´┐¢l]\t´┐¢\b´┐¢\u0012´┐¢´┐¢<´┐¢t|´┐¢´┐¢´┐¢,Wtl\u0013´┐¢3Ðº´┐¢Îöc´┐¢^\u0006;\u0006´┐¢´┐¢f7&´┐¢\u0012´┐¢´┐¢▄û4´┐¢´┐¢AJi´┐¢´┐¢´┐¢9O´┐¢´┐¢´┐¢\u001bj1╦½vlW´┐¢\u0000\u001a´┐¢ıúF´┐¢d\u0011\u001bÛë£´┐¢K\u001e.´┐¢J]\"´┐¢c`´┐¢ijCb´┐¢LU´┐¢w´┐¢W´┐¢*@a\u0015\u0000´┐¢´┐¢´┐¢´┐¢´┐¢´┐¢z|´┐¢\u001fT\u0001´┐¢´┐¢\u001diK´┐¢k´┐¢C´┐¢b\u0010\nru\u0018{R5´┐¢´┐¢{´┐¢U´┐¢S´┐¢´┐¢\u0018F2.V´┐¢1┌▒´┐¢´┐¢´┐¢´┐¢]╔Æ\\h]3f´┐¢a´┐¢$szq´┐¢´┐¢´┐¢.k´┐¢,p0´┐¢┬ê\t$´┐¢´┐¢=kt´┐¢\u000b´┐¢\u001bU´┐¢´┐¢r´┐¢´┐¢´┐¢´┐¢╔¡|\u0014]´┐¢´┐¢+OU´┐¢Sn}r\u0017M´┐¢\u001b\b´┐¢´┐¢\u0010RX\"XE´┐¢´┐¢0z´┐¢GHG´┐¢´┐¢\u0003´┐¢´┐¢´┐¢´┐¢´┐¢\u0018F\u0006P\r´┐¢´┐¢´┐¢┼æ´┐¢k´┐¢´┐¢6´┐¢t´┐¢´┐¢L\u0010╬é\u0000´┐¢u´┐¢G´┐¢?´┐¢Y´┐¢´┐¢~´┐¢=´┐¢z´┐¢i´┐¢|Z´┐¢´┐¢´┐¢┌¡6´┐¢\u0010´┐¢´┐¢´┐¢´┐¢nc´┐¢?\\0\u000b´┐¢i<´┐¢´┐¢´┐¢´┐¢]M´┐¢p7´┐¢L´┐¢´┐¢O0ZL´┐¢l´┐¢´┐¢4R´┐¢´┐¢´┐¢´┐¢´┐¢´┐¢´┐¢´┐¢L´┐¢i´┐¢´┐¢Bbr´┐¢:´┐¢Z\u0015´┐¢\u0010´┐¢´┐¢\f´┐¢K▀ç´┐¢+´┐¢,K´┐¢´┐¢\u0018´┐¢\u000bm´┐¢\u0001´┐¢t´┐¢´┐¢Ëºg´┐¢T\t´┐¢?´┐¢´┐¢E´┐¢´┐¢Ìâ\u0007´┐¢´┐¢H´┐¢´┐¢~´┐¢´┐¢´┐¢╠ï┌Ñ5\u001f`´┐¢´┐¢´┐¢´┐¢D´┐¢\bqw\r─▓\u0012(\r;´┐¢´┐¢C\u0019a\u0013´┐¢\u0013\u001c\u0014\u0017´┐¢´┐¢IQ)S´┐¢o´┐¢r!\u0005´┐¢´┐¢)´┐¢\u0015´┐¢+G+\u0017&g´┐¢´┐¢´┐¢!1´┐¢´┐¢\u001d´┐¢-´┐¢´┐¢K´┐¢´┐¢0qB´┐¢F´┐¢$\u0017´┐¢´┐¢7%\u001d´┐¢]´┐¢t´┐¢´┐¢´┐¢¤À\u0014´┐¢´┐¢A´┐¢J+\u0001Zjca\r´┐¢d´┐¢´┐¢´┐¢´┐¢┼®´┐¢\u0018\u0019{´┐¢´┐¢´┐¢LP´┐¢´┐¢´┐¢´┐¢´┐¢´┐¢´┐¢´┐¢´┐¢´┐¢´┐¢´┐¢´┐¢n´┐¢j0x´┐¢´┐¢\r´┐¢\\´┐¢´┐¢#´┐¢!´┐¢U´┐¢%´┐¢U´┐¢l/´┐¢qH´┐¢´┐¢~\u0012´┐¢´┐¢´┐¢´┐¢´┐¢F´┐¢´┐¢\"+S\u0018´┐¢´┐¢´┐¢+´┐¢´┐¢´┐¢´┐¢I{IQDh´┐¢´┐¢9´┐¢\u0002u-\u000e\u0010\\¤│x´┐¢9´┐¢´┐¢\u000e\u0007´┐¢´┐¢6´┐¢`´┐¢Ãè\"´┐¢´┐¢H[´┐¢n´┐¢l\u0018´┐¢C´┐¢C)´┐¢´┐¢K´┐¢´┐¢´┐¢´┐¢´┐¢´┐¢~´┐¢4\u0005\u0010\u0015╠╣\u0006k´┐¢,\\´┐¢´┐¢X[\u001a\u001ds]d´┐¢r´┐¢c0´┐¢´┐¢´┐¢´┐¢u╠®´┐¢´┐¢@´┐¢´┐¢´┐¢´┐¢´┐¢´┐¢K´┐¢´┐¢´┐¢´┐¢´┐¢>´┐¢</´┐¢´┐¢´┐¢´┐¢´┐¢\u0003\",´┐¢O´┐¢´┐¢N\\hgiLX´┐¢´┐¢´┐¢\u0006ou\u0018zDo´┐¢´┐¢/¤êa\u0003%|´┐¢´┐¢/1)0´┐¢\u0013´┐¢´┐¢\n´┐¢ZH´┐¢\u0005LG\\´┐¢h´┐¢,´┐¢vM´┐¢´┐¢´┐¢\u000e5´┐¢\u0012V{´┐¢}´┐¢´┐¢$´┐¢0´┐¢8´┐¢´┐¢\u0000@´┐¢8/´┐¢´┐¢,lQ´┐¢´┐¢´┐¢W\u0004}´┐¢´┐¢E'´┐¢g']´┐¢´┐¢\u000bQ´┐¢r|´┐¢´┐¢´┐¢´┐¢´┐¢Ýë▒´┐¢´┐¢\u001b´┐¢´┐¢,╬ƒu´┐¢\u0003´┐¢b´┐¢´┐¢G´┐¢´┐¢l´┐¢HO´┐¢┬Æ´┐¢´┐¢´┐¢[\u001f´┐¢╠½B\u001eCF\fLpa´┐¢\u0018´┐¢´┐¢´┐¢i´┐¢´┐¢(´┐¢´┐¢╦ú´┐¢´┐¢´┐¢6S´┐¢=´┐¢ÌÖ´┐¢*\u001f´┐¢%´┐¢´┐¢´┐¢´┐¢\f","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\otavi\\Desktop\\flashcards_generator\\flashcards_generator\\src-tauri\\target\\armv7-linux-androideabi\\debug\\build\\flashcards-generator-630e6914ffa0e2f0\\out\\__global-api-script.js","messages":[{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":1,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":616}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"[\"\\\\\\\\?\\\\C:\\\\Users\\\\otavi\\\\.cargo\\\\registry\\\\src\\\\index.crates.io-1949cf8c6b5b557f\\\\tauri-2.9.5\\\\scripts\\\\bundle.global.js\",\"\\\\\\\\?\\\\C:\\\\Users\\\\otavi\\\\.cargo\\\\registry\\\\src\\\\index.crates.io-1949cf8c6b5b557f\\\\tauri-plugin-http-2.5.6\\\\api-iife.js\",\"\\\\\\\\?\\\\C:\\\\Users\\\\otavi\\\\.cargo\\\\registry\\\\src\\\\index.crates.io-1949cf8c6b5b557f\\\\tauri-plugin-notification-2.3.3\\\\api-iife.js\",\"\\\\\\\\?\\\\C:\\\\Users\\\\otavi\\\\.cargo\\\\registry\\\\src\\\\index.crates.io-1949cf8c6b5b557f\\\\tauri-plugin-os-2.3.2\\\\api-iife.js\",\"\\\\\\\\?\\\\C:\\\\Users\\\\otavi\\\\.cargo\\\\registry\\\\src\\\\index.crates.io-1949cf8c6b5b557f\\\\tauri-plugin-shell-2.3.4\\\\api-iife.js\"]","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\otavi\\Desktop\\flashcards_generator\\flashcards_generator\\src-tauri\\target\\armv7-linux-androideabi\\debug\\build\\flashcards-generator-630e6914ffa0e2f0\\out\\tauri-codegen-assets\\a36dd4ea676acf7d7367c76f8a0da73a378d8d1eef7d283f769378bccd6ed395.js","messages":[{"ruleId":null,"nodeType":null,"fatal":true,"severity":2,"message":"Parsing error: Invalid character.","line":1,"column":0}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":1,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\u001b´┐¢\"\u0000´┐¢´┐¢´┐¢´┐¢´┐¢´┐¢´┐¢\u0000~´┐¢s]R´┐¢\u0000,´┐¢\"\n´┐¢\u000b -´┐¢\u000b´┐¢´┐¢´┐¢#╩½´┐¢<\u0002´┐¢=3´┐¢´┐¢´┐¢ @]U´┐¢L´┐¢´┐¢U´┐¢U´┐¢´┐¢´┐¢ ´┐¢.´┐¢´┐¢´┐¢´┐¢\u000f´┐¢kSUUU´┐¢´┐¢=O´┐¢´┐¢´┐¢´┐¢rgQ´┐¢´┐¢´┐¢Z\u001c´┐¢´┐¢´┐¢´┐¢´┐¢=<\u000f´┐¢qp´┐¢´┐¢C$´┐¢´┐¢´┐¢´┐¢/f´┐¢\u0000´┐¢´┐¢q\t´┐¢%,´┐¢´┐¢´┐¢{´┐¢\u001f´┐¢´┐¢´┐¢y´┐¢´┐¢´┐¢´┐¢i9eB´┐¢1\u000fW\u0007´┐¢8%´┐¢! ´┐¢\u000f´┐¢<´┐¢´┐¢´┐¢y´┐¢$´┐¢´┐¢´┐¢{RUUU´┐¢´┐¢yxx\u0004´┐¢E´┐¢+´┐¢´┐¢╩▓´┐¢´┐¢´┐¢¤¿*´┐¢\u0006´┐¢xã×Ê½3´┐¢´┐¢N´┐¢´┐¢─ä;´┐¢´┐¢3:Y´┐¢=\u0005JZb´┐¢¤¬\n´┐¢´┐¢1´┐¢M(X´┐¢t´┐¢´┐¢´┐¢%´┐¢Ê½3´┐¢KL'J´┐¢8´┐¢`\u0006´┐¢xF3\u0004#.\u0006ÝØî´┐¢´┐¢|VU´┐¢\u0006Kod´┐¢_ðæ´┐¢~´┐¢´┐¢4´┐¢\u0005´┐¢ıó´┐¢\u0012´┐¢ni>31´┐¢`´┐¢´┐¢e´┐¢´┐¢s´┐¢\u0005T#´┐¢´┐¢´┐¢zX¦é^´┐¢}´┐¢´┐¢>´┐¢´┐¢´┐¢´┐¢|´┐¢´┐¢´┐¢´┐¢´┐¢´┐¢´┐¢´┐¢\u001e\u000b´┐¢´┐¢g\u0000´┐¢┘¡´┐¢´┐¢´┐¢´┐¢´┐¢´┐¢i´┐¢´┐¢´┐¢z\nÍà´┐¢´┐¢v\u000fU\u0000n´┐¢\u001f´┐¢´┐¢´┐¢´┐¢b\u0019´┐¢´┐¢´┐¢´┐¢´┐¢´┐¢´┐¢´┐¢e´┐¢Y´┐¢´┐¢´┐¢´┐¢´┐¢6\u001d´┐¢+K´┐¢´┐¢j>´┐¢´┐¢\u0018VUx´┐¢)´┐¢´┐¢´┐¢´┐¢\u001a´┐¢<´┐¢´┐¢SX´┐¢r´┐¢>U\"\u0019R@´┐¢\u000b\u001eS<;´┐¢,K´┐¢Ð┐R´┐¢D?´┐¢H´┐¢┼»(\u0005\u0000PsV´┐¢\u000f─é\u0005\u001c´┐¢´┐¢2´┐¢\u00142´┐¢´┐¢\u0017\u0016\ns´┐¢4\n´┐¢=´┐¢´┐¢´┐¢R´┐¢\t\u000bdl´┐¢c´┐¢´┐¢´┐¢vf~´┐¢;´┐¢\u0007c´┐¢´┐¢\u001bB\u0007´┐¢\u0012´┐¢´┐¢´┐¢´┐¢´┐¢=´┐¢mÊû\u0002´┐¢%´┐¢\u00052z´┐¢´┐¢´┐¢´┐¢´┐¢´┐¢=b\u0001´┐¢c´┐¢´┐¢´┐¢\u0012\u000f´┐¢:\u0011\u0000´┐¢\n{´┐¢´┐¢B\f´┐¢\u0002&´┐¢\u0016´┐¢´┐¢t´┐¢S´┐¢\t´┐¢s\\´┐¢´┐¢'{,´┐¢´┐¢\u0007\u0019!r´┐¢N´┐¢´┐¢K\u0013´┐¢h\u00178´┐¢´┐¢´┐¢´┐¢\u0011\u0004R´┐¢<\u0017´┐¢\u001a\u0000´┐¢´┐¢´┐¢´┐¢@´┐¢M´┐¢)´┐¢´┐¢\u0013´┐¢´┐¢Z´┐¢\u001a´┐¢YU@\u000f\u0012´┐¢´┐¢$:S´┐¢\u001a´┐¢\u0006´┐¢´┐¢´┐¢\u0001`´┐¢\u001b´┐¢´┐¢?\u0001L´┐¢.\u0006´┐¢´┐¢´┐¢Ìô´┐¢U\u001e´┐¢´┐¢E\u0007H´┐¢´┐¢A]´┐¢\u0016´┐¢T\u0004´┐¢´┐¢hk´┐¢´┐¢&´┐¢-\n´┐¢¦¡´┐¢F´┐¢´┐¢f´┐¢´┐¢)´┐¢d´┐¢´┐¢´┐¢S´┐¢Dd´┐¢:´┐¢´┐¢4´┐¢´┐¢$´┐¢*hk\u000fQ´┐¢´┐¢U\u000b\u000b´┐¢@\u0003´┐¢#\u001d´┐¢v´┐¢´┐¢\u0014´┐¢´┐¢´┐¢´┐¢´┐¢\u001b\u0016´┐¢´┐¢R´┐¢\u000e´┐¢e´┐¢\u0004´┐¢´┐¢\u0012i{INH´┐¢3´┐¢\u0001´┐¢\f\u0016´┐¢7´┐¢\u0018$\u001cX*´┐¢´┐¢a´┐¢´┐¢qJmm´┐¢´┐¢´┐¢,´┐¢\u0016]@▄ÖX´┐¢´┐¢´┐¢´┐¢´┐¢Be´┐¢´┐¢,´┐¢´┐¢F´┐¢´┐¢4/´┐¢i\\´┐¢´┐¢iy319´┐¢´┐¢\u0004´┐¢{´┐¢\f´┐¢&┼│[´┐¢ÏÆ,´┐¢´┐¢K´┐¢l\u0017v\u0003´┐¢m´┐¢W´┐¢´┐¢\u0018´┐¢x%´┐¢\u0013\u0019´┐¢\u0002´┐¢@´┐¢M[´┐¢'!8´┐¢´┐¢3´┐¢B\u000b´┐¢:´┐¢\u0002\u0005´┐¢u█ÜvD2@_´┐¢,´┐¢\u0002´┐¢´┐¢´┐¢\u0007´┐¢)´┐¢´┐¢\u0006[yÊ®G]h<´┐¢\u001b´┐¢´┐¢´┐¢~/<\u0003´┐¢\u0013\u0019´┐¢´┐¢´┐¢\b´┐¢´┐¢´┐¢~´┐¢´┐¢zB?p´┐¢\u0010´┐¢5´┐¢hq1´┐¢gL´┐¢)´┐¢´┐¢´┐¢W\n´┐¢ı▒P´┐¢´┐¢´┐¢~´┐¢N\u0015´┐¢A´┐¢´┐¢hA´┐¢Î╣[´┐¢´┐¢\u001f\u0019\u0001´┐¢´┐¢´┐¢´┐¢V´┐¢.p\fz\u0011´┐¢´┐¢´┐¢C´┐¢x*p´┐¢v,´┐¢L\f\u0005´┐¢┌Â´┐¢f´┐¢\u0016´┐¢´┐¢Z´┐¢ãäE´┐¢´┐¢2\u0013{´┐¢c\u0005K´┐¢,\u0000´┐¢Fıí31´┐¢´┐¢&´┐¢´┐¢\u0003´┐¢r&\u0006´┐¢X´┐¢´┐¢´┐¢´┐¢´┐¢o7´┐¢.´┐¢´┐¢*,´┐¢\u0013´┐¢Oe´┐¢\u000b?´┐¢´┐¢´┐¢´┐¢´┐¢´┐¢M´┐¢´┐¢c´┐¢B5´┐¢´┐¢´┐¢´┐¢.´┐¢´┐¢\u00027´┐¢´┐¢´┐¢@y´┐¢f´┐¢)>\u001f´┐¢\u001aÎù\u0001´┐¢5SCM,´┐¢Ta´┐¢´┐¢WC´┐¢´┐¢´┐¢´┐¢/6,´┐¢´┐¢\t´┐¢´┐¢I+L\u0005´┐¢´┐¢´┐¢´┐¢´┐¢1´┐¢ZS\u001f\u001d´┐¢9P´┐¢´┐¢╦Ø´┐¢´┐¢´┐¢´┐¢)\u0017´┐¢´┐¢[\u0010þ│û<\u0000DQe´┐¢Í▒$´┐¢´┐¢´┐¢´┐¢´┐¢´┐¢N´┐¢0c\u0016\u0017´┐¢´┐¢r|´┐¢(-K´┐¢´┐¢u´┐¢\u0006´┐¢9´┐¢\u00168´┐¢´┐¢Ee´┐¢´┐¢/´┐¢´┐¢G´┐¢c\u0004FqD6\n\u0002´┐¢´┐¢ýÿÁ\u0003█ª´┐¢´┐¢´┐¢´┐¢\u0007Ìº´┐¢´┐¢´┐¢$\u0018´┐¢´┐¢\u0002´┐¢R´┐¢\n´┐¢AF´┐¢´┐¢´┐¢b´┐¢´┐¢\f>>\u001ew´┐¢!´┐¢d´┐¢\u0003@´┐¢´┐¢)\n1´┐¢ÍèS<\u0011'´┐¢´┐¢\u000e´┐¢B´┐¢;\n´┐¢´┐¢Y´┐¢´┐¢´┐¢g´É▒´┐¢\u001a´┐¢Ôéì\u0017U´┐¢\u0005´┐¢\u0007K▀é´┐¢AR´┐¢´┐¢ý╝┐´┐¢´┐¢´┐¢B´┐¢Q´┐¢´┐¢´┐¢Ï╝\\´┐¢SU´┐¢FHD\u0013´┐¢´┐¢´┐¢\u0001´┐¢´┐¢X\\h´┐¢I´┐¢)51!3+\u0011´┐¢!6´┐¢´┐¢´┐¢´┐¢´┐¢´┐¢#´┐¢r9$_╩¢´┐¢Y|´┐¢´┐¢Þïë1´┐¢Íà\u001c´┐¢>A´┐¢s´┐¢´┐¢\u0002y7i´┐¢L´┐¢╦á_]´┐¢´┐¢´┐¢!´┐¢\\%\u0016´┐¢´┐¢\u0018\u000b\\:f´┐¢)S´┐¢T´┐¢;\u0012´┐¢@\u0017\u001b}\u0005´┐¢\u0006!\u0006B\u0013´┐¢`1\f´┐¢C´┐¢R\b´┐¢´┐¢´┐¢\u001a´┐¢\"Z\u0018N´┐¢L´┐¢:O´┐¢´┐¢´┐¢/┌£´┐¢\u0014´┐¢`´┐¢\u001f´┐¢´┐¢´┐¢S´┐¢\u0011´┐¢´┐¢´┐¢S/\u001d\u0005\u001c´┐¢9!´┐¢Em\u0017´┐¢c´┐¢´┐¢c0´┐¢t´┐¢5\r\u0007´┐¢´┐¢o´┐¢´┐¢`v´┐¢l]\t´┐¢\b´┐¢\u0012´┐¢´┐¢<´┐¢t|´┐¢´┐¢´┐¢,Wtl\u0013´┐¢3Ðº´┐¢Îöc´┐¢^\u0006;\u0006´┐¢´┐¢f7&´┐¢\u0012´┐¢´┐¢▄û4´┐¢´┐¢AJi´┐¢´┐¢´┐¢9O´┐¢´┐¢´┐¢\u001bj1╦½vlW´┐¢\u0000\u001a´┐¢ıúF´┐¢d\u0011\u001bÛë£´┐¢K\u001e.´┐¢J]\"´┐¢c`´┐¢ijCb´┐¢LU´┐¢w´┐¢W´┐¢*@a\u0015\u0000´┐¢´┐¢´┐¢´┐¢´┐¢´┐¢z|´┐¢\u001fT\u0001´┐¢´┐¢\u001diK´┐¢k´┐¢C´┐¢b\u0010\nru\u0018{R5´┐¢´┐¢{´┐¢U´┐¢S´┐¢´┐¢\u0018F2.V´┐¢1┌▒´┐¢´┐¢´┐¢´┐¢]╔Æ\\h]3f´┐¢a´┐¢$szq´┐¢´┐¢´┐¢.k´┐¢,p0´┐¢┬ê\t$´┐¢´┐¢=kt´┐¢\u000b´┐¢\u001bU´┐¢´┐¢r´┐¢´┐¢´┐¢´┐¢╔¡|\u0014]´┐¢´┐¢+OU´┐¢Sn}r\u0017M´┐¢\u001b\b´┐¢´┐¢\u0010RX\"XE´┐¢´┐¢0z´┐¢GHG´┐¢´┐¢\u0003´┐¢´┐¢´┐¢´┐¢´┐¢\u0018F\u0006P\r´┐¢´┐¢´┐¢┼æ´┐¢k´┐¢´┐¢6´┐¢t´┐¢´┐¢L\u0010╬é\u0000´┐¢u´┐¢G´┐¢?´┐¢Y´┐¢´┐¢~´┐¢=´┐¢z´┐¢i´┐¢|Z´┐¢´┐¢´┐¢┌¡6´┐¢\u0010´┐¢´┐¢´┐¢´┐¢nc´┐¢?\\0\u000b´┐¢i<´┐¢´┐¢´┐¢´┐¢]M´┐¢p7´┐¢L´┐¢´┐¢O0ZL´┐¢l´┐¢´┐¢4R´┐¢´┐¢´┐¢´┐¢´┐¢´┐¢´┐¢´┐¢L´┐¢i´┐¢´┐¢Bbr´┐¢:´┐¢Z\u0015´┐¢\u0010´┐¢´┐¢\f´┐¢K▀ç´┐¢+´┐¢,K´┐¢´┐¢\u0018´┐¢\u000bm´┐¢\u0001´┐¢t´┐¢´┐¢Ëºg´┐¢T\t´┐¢?´┐¢´┐¢E´┐¢´┐¢Ìâ\u0007´┐¢´┐¢H´┐¢´┐¢~´┐¢´┐¢´┐¢╠ï┌Ñ5\u001f`´┐¢´┐¢´┐¢´┐¢D´┐¢\bqw\r─▓\u0012(\r;´┐¢´┐¢C\u0019a\u0013´┐¢\u0013\u001c\u0014\u0017´┐¢´┐¢IQ)S´┐¢o´┐¢r!\u0005´┐¢´┐¢)´┐¢\u0015´┐¢+G+\u0017&g´┐¢´┐¢´┐¢!1´┐¢´┐¢\u001d´┐¢-´┐¢´┐¢K´┐¢´┐¢0qB´┐¢F´┐¢$\u0017´┐¢´┐¢7%\u001d´┐¢]´┐¢t´┐¢´┐¢´┐¢¤À\u0014´┐¢´┐¢A´┐¢J+\u0001Zjca\r´┐¢d´┐¢´┐¢´┐¢´┐¢┼®´┐¢\u0018\u0019{´┐¢´┐¢´┐¢LP´┐¢´┐¢´┐¢´┐¢´┐¢´┐¢´┐¢´┐¢´┐¢´┐¢´┐¢´┐¢´┐¢n´┐¢j0x´┐¢´┐¢\r´┐¢\\´┐¢´┐¢#´┐¢!´┐¢U´┐¢%´┐¢U´┐¢l/´┐¢qH´┐¢´┐¢~\u0012´┐¢´┐¢´┐¢´┐¢´┐¢F´┐¢´┐¢\"+S\u0018´┐¢´┐¢´┐¢+´┐¢´┐¢´┐¢´┐¢I{IQDh´┐¢´┐¢9´┐¢\u0002u-\u000e\u0010\\¤│x´┐¢9´┐¢´┐¢\u000e\u0007´┐¢´┐¢6´┐¢`´┐¢Ãè\"´┐¢´┐¢H[´┐¢n´┐¢l\u0018´┐¢C´┐¢C)´┐¢´┐¢K´┐¢´┐¢´┐¢´┐¢´┐¢´┐¢~´┐¢4\u0005\u0010\u0015╠╣\u0006k´┐¢,\\´┐¢´┐¢X[\u001a\u001ds]d´┐¢r´┐¢c0´┐¢´┐¢´┐¢´┐¢u╠®´┐¢´┐¢@´┐¢´┐¢´┐¢´┐¢´┐¢´┐¢K´┐¢´┐¢´┐¢´┐¢´┐¢>´┐¢</´┐¢´┐¢´┐¢´┐¢´┐¢\u0003\",´┐¢O´┐¢´┐¢N\\hgiLX´┐¢´┐¢´┐¢\u0006ou\u0018zDo´┐¢´┐¢/¤êa\u0003%|´┐¢´┐¢/1)0´┐¢\u0013´┐¢´┐¢\n´┐¢ZH´┐¢\u0005LG\\´┐¢h´┐¢,´┐¢vM´┐¢´┐¢´┐¢\u000e5´┐¢\u0012V{´┐¢}´┐¢´┐¢$´┐¢0´┐¢8´┐¢´┐¢\u0000@´┐¢8/´┐¢´┐¢,lQ´┐¢´┐¢´┐¢W\u0004}´┐¢´┐¢E'´┐¢g']´┐¢´┐¢\u000bQ´┐¢r|´┐¢´┐¢´┐¢´┐¢´┐¢Ýë▒´┐¢´┐¢\u001b´┐¢´┐¢,╬ƒu´┐¢\u0003´┐¢b´┐¢´┐¢G´┐¢´┐¢l´┐¢HO´┐¢┬Æ´┐¢´┐¢´┐¢[\u001f´┐¢╠½B\u001eCF\fLpa´┐¢\u0018´┐¢´┐¢´┐¢i´┐¢´┐¢(´┐¢´┐¢╦ú´┐¢´┐¢´┐¢6S´┐¢=´┐¢ÌÖ´┐¢*\u001f´┐¢%´┐¢´┐¢´┐¢´┐¢\f","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\otavi\\Desktop\\flashcards_generator\\flashcards_generator\\src-tauri\\target\\debug\\build\\flashcards-generator-6a9f4776ccf7adf1\\out\\__global-api-script.js","messages":[{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":1,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":616}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"[\"\\\\\\\\?\\\\C:\\\\Users\\\\otavi\\\\.cargo\\\\registry\\\\src\\\\index.crates.io-1949cf8c6b5b557f\\\\tauri-2.9.5\\\\scripts\\\\bundle.global.js\",\"\\\\\\\\?\\\\C:\\\\Users\\\\otavi\\\\.cargo\\\\registry\\\\src\\\\index.crates.io-1949cf8c6b5b557f\\\\tauri-plugin-http-2.5.6\\\\api-iife.js\",\"\\\\\\\\?\\\\C:\\\\Users\\\\otavi\\\\.cargo\\\\registry\\\\src\\\\index.crates.io-1949cf8c6b5b557f\\\\tauri-plugin-notification-2.3.3\\\\api-iife.js\",\"\\\\\\\\?\\\\C:\\\\Users\\\\otavi\\\\.cargo\\\\registry\\\\src\\\\index.crates.io-1949cf8c6b5b557f\\\\tauri-plugin-os-2.3.2\\\\api-iife.js\",\"\\\\\\\\?\\\\C:\\\\Users\\\\otavi\\\\.cargo\\\\registry\\\\src\\\\index.crates.io-1949cf8c6b5b557f\\\\tauri-plugin-shell-2.3.4\\\\api-iife.js\"]","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\otavi\\Desktop\\flashcards_generator\\flashcards_generator\\src-tauri\\target\\debug\\build\\flashcards-generator-6d9e877adeae4722\\out\\__global-api-script.js","messages":[{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":1,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":740}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"[\"\\\\\\\\?\\\\C:\\\\Users\\\\otavi\\\\.cargo\\\\registry\\\\src\\\\index.crates.io-1949cf8c6b5b557f\\\\tauri-2.9.5\\\\scripts\\\\bundle.global.js\",\"\\\\\\\\?\\\\C:\\\\Users\\\\otavi\\\\.cargo\\\\registry\\\\src\\\\index.crates.io-1949cf8c6b5b557f\\\\tauri-plugin-http-2.5.6\\\\api-iife.js\",\"\\\\\\\\?\\\\C:\\\\Users\\\\otavi\\\\.cargo\\\\registry\\\\src\\\\index.crates.io-1949cf8c6b5b557f\\\\tauri-plugin-notification-2.3.3\\\\api-iife.js\",\"\\\\\\\\?\\\\C:\\\\Users\\\\otavi\\\\.cargo\\\\registry\\\\src\\\\index.crates.io-1949cf8c6b5b557f\\\\tauri-plugin-os-2.3.2\\\\api-iife.js\",\"\\\\\\\\?\\\\C:\\\\Users\\\\otavi\\\\.cargo\\\\registry\\\\src\\\\index.crates.io-1949cf8c6b5b557f\\\\tauri-plugin-shell-2.3.4\\\\api-iife.js\",\"\\\\\\\\?\\\\C:\\\\Users\\\\otavi\\\\.cargo\\\\registry\\\\src\\\\index.crates.io-1949cf8c6b5b557f\\\\tauri-plugin-updater-2.9.0\\\\api-iife.js\"]","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\otavi\\Desktop\\flashcards_generator\\flashcards_generator\\src-tauri\\target\\i686-linux-android\\debug\\build\\flashcards-generator-c7da3c9be05563c5\\out\\__global-api-script.js","messages":[{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":1,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":616}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"[\"\\\\\\\\?\\\\C:\\\\Users\\\\otavi\\\\.cargo\\\\registry\\\\src\\\\index.crates.io-1949cf8c6b5b557f\\\\tauri-2.9.5\\\\scripts\\\\bundle.global.js\",\"\\\\\\\\?\\\\C:\\\\Users\\\\otavi\\\\.cargo\\\\registry\\\\src\\\\index.crates.io-1949cf8c6b5b557f\\\\tauri-plugin-http-2.5.6\\\\api-iife.js\",\"\\\\\\\\?\\\\C:\\\\Users\\\\otavi\\\\.cargo\\\\registry\\\\src\\\\index.crates.io-1949cf8c6b5b557f\\\\tauri-plugin-notification-2.3.3\\\\api-iife.js\",\"\\\\\\\\?\\\\C:\\\\Users\\\\otavi\\\\.cargo\\\\registry\\\\src\\\\index.crates.io-1949cf8c6b5b557f\\\\tauri-plugin-os-2.3.2\\\\api-iife.js\",\"\\\\\\\\?\\\\C:\\\\Users\\\\otavi\\\\.cargo\\\\registry\\\\src\\\\index.crates.io-1949cf8c6b5b557f\\\\tauri-plugin-shell-2.3.4\\\\api-iife.js\"]","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\otavi\\Desktop\\flashcards_generator\\flashcards_generator\\src-tauri\\target\\i686-linux-android\\debug\\build\\flashcards-generator-c7da3c9be05563c5\\out\\tauri-codegen-assets\\a36dd4ea676acf7d7367c76f8a0da73a378d8d1eef7d283f769378bccd6ed395.js","messages":[{"ruleId":null,"nodeType":null,"fatal":true,"severity":2,"message":"Parsing error: Invalid character.","line":1,"column":0}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":1,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\u001b´┐¢\"\u0000´┐¢´┐¢´┐¢´┐¢´┐¢´┐¢´┐¢\u0000~´┐¢s]R´┐¢\u0000,´┐¢\"\n´┐¢\u000b -´┐¢\u000b´┐¢´┐¢´┐¢#╩½´┐¢<\u0002´┐¢=3´┐¢´┐¢´┐¢ @]U´┐¢L´┐¢´┐¢U´┐¢U´┐¢´┐¢´┐¢ ´┐¢.´┐¢´┐¢´┐¢´┐¢\u000f´┐¢kSUUU´┐¢´┐¢=O´┐¢´┐¢´┐¢´┐¢rgQ´┐¢´┐¢´┐¢Z\u001c´┐¢´┐¢´┐¢´┐¢´┐¢=<\u000f´┐¢qp´┐¢´┐¢C$´┐¢´┐¢´┐¢´┐¢/f´┐¢\u0000´┐¢´┐¢q\t´┐¢%,´┐¢´┐¢´┐¢{´┐¢\u001f´┐¢´┐¢´┐¢y´┐¢´┐¢´┐¢´┐¢i9eB´┐¢1\u000fW\u0007´┐¢8%´┐¢! ´┐¢\u000f´┐¢<´┐¢´┐¢´┐¢y´┐¢$´┐¢´┐¢´┐¢{RUUU´┐¢´┐¢yxx\u0004´┐¢E´┐¢+´┐¢´┐¢╩▓´┐¢´┐¢´┐¢¤¿*´┐¢\u0006´┐¢xã×Ê½3´┐¢´┐¢N´┐¢´┐¢─ä;´┐¢´┐¢3:Y´┐¢=\u0005JZb´┐¢¤¬\n´┐¢´┐¢1´┐¢M(X´┐¢t´┐¢´┐¢´┐¢%´┐¢Ê½3´┐¢KL'J´┐¢8´┐¢`\u0006´┐¢xF3\u0004#.\u0006ÝØî´┐¢´┐¢|VU´┐¢\u0006Kod´┐¢_ðæ´┐¢~´┐¢´┐¢4´┐¢\u0005´┐¢ıó´┐¢\u0012´┐¢ni>31´┐¢`´┐¢´┐¢e´┐¢´┐¢s´┐¢\u0005T#´┐¢´┐¢´┐¢zX¦é^´┐¢}´┐¢´┐¢>´┐¢´┐¢´┐¢´┐¢|´┐¢´┐¢´┐¢´┐¢´┐¢´┐¢´┐¢´┐¢\u001e\u000b´┐¢´┐¢g\u0000´┐¢┘¡´┐¢´┐¢´┐¢´┐¢´┐¢´┐¢i´┐¢´┐¢´┐¢z\nÍà´┐¢´┐¢v\u000fU\u0000n´┐¢\u001f´┐¢´┐¢´┐¢´┐¢b\u0019´┐¢´┐¢´┐¢´┐¢´┐¢´┐¢´┐¢´┐¢e´┐¢Y´┐¢´┐¢´┐¢´┐¢´┐¢6\u001d´┐¢+K´┐¢´┐¢j>´┐¢´┐¢\u0018VUx´┐¢)´┐¢´┐¢´┐¢´┐¢\u001a´┐¢<´┐¢´┐¢SX´┐¢r´┐¢>U\"\u0019R@´┐¢\u000b\u001eS<;´┐¢,K´┐¢Ð┐R´┐¢D?´┐¢H´┐¢┼»(\u0005\u0000PsV´┐¢\u000f─é\u0005\u001c´┐¢´┐¢2´┐¢\u00142´┐¢´┐¢\u0017\u0016\ns´┐¢4\n´┐¢=´┐¢´┐¢´┐¢R´┐¢\t\u000bdl´┐¢c´┐¢´┐¢´┐¢vf~´┐¢;´┐¢\u0007c´┐¢´┐¢\u001bB\u0007´┐¢\u0012´┐¢´┐¢´┐¢´┐¢´┐¢=´┐¢mÊû\u0002´┐¢%´┐¢\u00052z´┐¢´┐¢´┐¢´┐¢´┐¢´┐¢=b\u0001´┐¢c´┐¢´┐¢´┐¢\u0012\u000f´┐¢:\u0011\u0000´┐¢\n{´┐¢´┐¢B\f´┐¢\u0002&´┐¢\u0016´┐¢´┐¢t´┐¢S´┐¢\t´┐¢s\\´┐¢´┐¢'{,´┐¢´┐¢\u0007\u0019!r´┐¢N´┐¢´┐¢K\u0013´┐¢h\u00178´┐¢´┐¢´┐¢´┐¢\u0011\u0004R´┐¢<\u0017´┐¢\u001a\u0000´┐¢´┐¢´┐¢´┐¢@´┐¢M´┐¢)´┐¢´┐¢\u0013´┐¢´┐¢Z´┐¢\u001a´┐¢YU@\u000f\u0012´┐¢´┐¢$:S´┐¢\u001a´┐¢\u0006´┐¢´┐¢´┐¢\u0001`´┐¢\u001b´┐¢´┐¢?\u0001L´┐¢.\u0006´┐¢´┐¢´┐¢Ìô´┐¢U\u001e´┐¢´┐¢E\u0007H´┐¢´┐¢A]´┐¢\u0016´┐¢T\u0004´┐¢´┐¢hk´┐¢´┐¢&´┐¢-\n´┐¢¦¡´┐¢F´┐¢´┐¢f´┐¢´┐¢)´┐¢d´┐¢´┐¢´┐¢S´┐¢Dd´┐¢:´┐¢´┐¢4´┐¢´┐¢$´┐¢*hk\u000fQ´┐¢´┐¢U\u000b\u000b´┐¢@\u0003´┐¢#\u001d´┐¢v´┐¢´┐¢\u0014´┐¢´┐¢´┐¢´┐¢´┐¢\u001b\u0016´┐¢´┐¢R´┐¢\u000e´┐¢e´┐¢\u0004´┐¢´┐¢\u0012i{INH´┐¢3´┐¢\u0001´┐¢\f\u0016´┐¢7´┐¢\u0018$\u001cX*´┐¢´┐¢a´┐¢´┐¢qJmm´┐¢´┐¢´┐¢,´┐¢\u0016]@▄ÖX´┐¢´┐¢´┐¢´┐¢´┐¢Be´┐¢´┐¢,´┐¢´┐¢F´┐¢´┐¢4/´┐¢i\\´┐¢´┐¢iy319´┐¢´┐¢\u0004´┐¢{´┐¢\f´┐¢&┼│[´┐¢ÏÆ,´┐¢´┐¢K´┐¢l\u0017v\u0003´┐¢m´┐¢W´┐¢´┐¢\u0018´┐¢x%´┐¢\u0013\u0019´┐¢\u0002´┐¢@´┐¢M[´┐¢'!8´┐¢´┐¢3´┐¢B\u000b´┐¢:´┐¢\u0002\u0005´┐¢u█ÜvD2@_´┐¢,´┐¢\u0002´┐¢´┐¢´┐¢\u0007´┐¢)´┐¢´┐¢\u0006[yÊ®G]h<´┐¢\u001b´┐¢´┐¢´┐¢~/<\u0003´┐¢\u0013\u0019´┐¢´┐¢´┐¢\b´┐¢´┐¢´┐¢~´┐¢´┐¢zB?p´┐¢\u0010´┐¢5´┐¢hq1´┐¢gL´┐¢)´┐¢´┐¢´┐¢W\n´┐¢ı▒P´┐¢´┐¢´┐¢~´┐¢N\u0015´┐¢A´┐¢´┐¢hA´┐¢Î╣[´┐¢´┐¢\u001f\u0019\u0001´┐¢´┐¢´┐¢´┐¢V´┐¢.p\fz\u0011´┐¢´┐¢´┐¢C´┐¢x*p´┐¢v,´┐¢L\f\u0005´┐¢┌Â´┐¢f´┐¢\u0016´┐¢´┐¢Z´┐¢ãäE´┐¢´┐¢2\u0013{´┐¢c\u0005K´┐¢,\u0000´┐¢Fıí31´┐¢´┐¢&´┐¢´┐¢\u0003´┐¢r&\u0006´┐¢X´┐¢´┐¢´┐¢´┐¢´┐¢o7´┐¢.´┐¢´┐¢*,´┐¢\u0013´┐¢Oe´┐¢\u000b?´┐¢´┐¢´┐¢´┐¢´┐¢´┐¢M´┐¢´┐¢c´┐¢B5´┐¢´┐¢´┐¢´┐¢.´┐¢´┐¢\u00027´┐¢´┐¢´┐¢@y´┐¢f´┐¢)>\u001f´┐¢\u001aÎù\u0001´┐¢5SCM,´┐¢Ta´┐¢´┐¢WC´┐¢´┐¢´┐¢´┐¢/6,´┐¢´┐¢\t´┐¢´┐¢I+L\u0005´┐¢´┐¢´┐¢´┐¢´┐¢1´┐¢ZS\u001f\u001d´┐¢9P´┐¢´┐¢╦Ø´┐¢´┐¢´┐¢´┐¢)\u0017´┐¢´┐¢[\u0010þ│û<\u0000DQe´┐¢Í▒$´┐¢´┐¢´┐¢´┐¢´┐¢´┐¢N´┐¢0c\u0016\u0017´┐¢´┐¢r|´┐¢(-K´┐¢´┐¢u´┐¢\u0006´┐¢9´┐¢\u00168´┐¢´┐¢Ee´┐¢´┐¢/´┐¢´┐¢G´┐¢c\u0004FqD6\n\u0002´┐¢´┐¢ýÿÁ\u0003█ª´┐¢´┐¢´┐¢´┐¢\u0007Ìº´┐¢´┐¢´┐¢$\u0018´┐¢´┐¢\u0002´┐¢R´┐¢\n´┐¢AF´┐¢´┐¢´┐¢b´┐¢´┐¢\f>>\u001ew´┐¢!´┐¢d´┐¢\u0003@´┐¢´┐¢)\n1´┐¢ÍèS<\u0011'´┐¢´┐¢\u000e´┐¢B´┐¢;\n´┐¢´┐¢Y´┐¢´┐¢´┐¢g´É▒´┐¢\u001a´┐¢Ôéì\u0017U´┐¢\u0005´┐¢\u0007K▀é´┐¢AR´┐¢´┐¢ý╝┐´┐¢´┐¢´┐¢B´┐¢Q´┐¢´┐¢´┐¢Ï╝\\´┐¢SU´┐¢FHD\u0013´┐¢´┐¢´┐¢\u0001´┐¢´┐¢X\\h´┐¢I´┐¢)51!3+\u0011´┐¢!6´┐¢´┐¢´┐¢´┐¢´┐¢´┐¢#´┐¢r9$_╩¢´┐¢Y|´┐¢´┐¢Þïë1´┐¢Íà\u001c´┐¢>A´┐¢s´┐¢´┐¢\u0002y7i´┐¢L´┐¢╦á_]´┐¢´┐¢´┐¢!´┐¢\\%\u0016´┐¢´┐¢\u0018\u000b\\:f´┐¢)S´┐¢T´┐¢;\u0012´┐¢@\u0017\u001b}\u0005´┐¢\u0006!\u0006B\u0013´┐¢`1\f´┐¢C´┐¢R\b´┐¢´┐¢´┐¢\u001a´┐¢\"Z\u0018N´┐¢L´┐¢:O´┐¢´┐¢´┐¢/┌£´┐¢\u0014´┐¢`´┐¢\u001f´┐¢´┐¢´┐¢S´┐¢\u0011´┐¢´┐¢´┐¢S/\u001d\u0005\u001c´┐¢9!´┐¢Em\u0017´┐¢c´┐¢´┐¢c0´┐¢t´┐¢5\r\u0007´┐¢´┐¢o´┐¢´┐¢`v´┐¢l]\t´┐¢\b´┐¢\u0012´┐¢´┐¢<´┐¢t|´┐¢´┐¢´┐¢,Wtl\u0013´┐¢3Ðº´┐¢Îöc´┐¢^\u0006;\u0006´┐¢´┐¢f7&´┐¢\u0012´┐¢´┐¢▄û4´┐¢´┐¢AJi´┐¢´┐¢´┐¢9O´┐¢´┐¢´┐¢\u001bj1╦½vlW´┐¢\u0000\u001a´┐¢ıúF´┐¢d\u0011\u001bÛë£´┐¢K\u001e.´┐¢J]\"´┐¢c`´┐¢ijCb´┐¢LU´┐¢w´┐¢W´┐¢*@a\u0015\u0000´┐¢´┐¢´┐¢´┐¢´┐¢´┐¢z|´┐¢\u001fT\u0001´┐¢´┐¢\u001diK´┐¢k´┐¢C´┐¢b\u0010\nru\u0018{R5´┐¢´┐¢{´┐¢U´┐¢S´┐¢´┐¢\u0018F2.V´┐¢1┌▒´┐¢´┐¢´┐¢´┐¢]╔Æ\\h]3f´┐¢a´┐¢$szq´┐¢´┐¢´┐¢.k´┐¢,p0´┐¢┬ê\t$´┐¢´┐¢=kt´┐¢\u000b´┐¢\u001bU´┐¢´┐¢r´┐¢´┐¢´┐¢´┐¢╔¡|\u0014]´┐¢´┐¢+OU´┐¢Sn}r\u0017M´┐¢\u001b\b´┐¢´┐¢\u0010RX\"XE´┐¢´┐¢0z´┐¢GHG´┐¢´┐¢\u0003´┐¢´┐¢´┐¢´┐¢´┐¢\u0018F\u0006P\r´┐¢´┐¢´┐¢┼æ´┐¢k´┐¢´┐¢6´┐¢t´┐¢´┐¢L\u0010╬é\u0000´┐¢u´┐¢G´┐¢?´┐¢Y´┐¢´┐¢~´┐¢=´┐¢z´┐¢i´┐¢|Z´┐¢´┐¢´┐¢┌¡6´┐¢\u0010´┐¢´┐¢´┐¢´┐¢nc´┐¢?\\0\u000b´┐¢i<´┐¢´┐¢´┐¢´┐¢]M´┐¢p7´┐¢L´┐¢´┐¢O0ZL´┐¢l´┐¢´┐¢4R´┐¢´┐¢´┐¢´┐¢´┐¢´┐¢´┐¢´┐¢L´┐¢i´┐¢´┐¢Bbr´┐¢:´┐¢Z\u0015´┐¢\u0010´┐¢´┐¢\f´┐¢K▀ç´┐¢+´┐¢,K´┐¢´┐¢\u0018´┐¢\u000bm´┐¢\u0001´┐¢t´┐¢´┐¢Ëºg´┐¢T\t´┐¢?´┐¢´┐¢E´┐¢´┐¢Ìâ\u0007´┐¢´┐¢H´┐¢´┐¢~´┐¢´┐¢´┐¢╠ï┌Ñ5\u001f`´┐¢´┐¢´┐¢´┐¢D´┐¢\bqw\r─▓\u0012(\r;´┐¢´┐¢C\u0019a\u0013´┐¢\u0013\u001c\u0014\u0017´┐¢´┐¢IQ)S´┐¢o´┐¢r!\u0005´┐¢´┐¢)´┐¢\u0015´┐¢+G+\u0017&g´┐¢´┐¢´┐¢!1´┐¢´┐¢\u001d´┐¢-´┐¢´┐¢K´┐¢´┐¢0qB´┐¢F´┐¢$\u0017´┐¢´┐¢7%\u001d´┐¢]´┐¢t´┐¢´┐¢´┐¢¤À\u0014´┐¢´┐¢A´┐¢J+\u0001Zjca\r´┐¢d´┐¢´┐¢´┐¢´┐¢┼®´┐¢\u0018\u0019{´┐¢´┐¢´┐¢LP´┐¢´┐¢´┐¢´┐¢´┐¢´┐¢´┐¢´┐¢´┐¢´┐¢´┐¢´┐¢´┐¢n´┐¢j0x´┐¢´┐¢\r´┐¢\\´┐¢´┐¢#´┐¢!´┐¢U´┐¢%´┐¢U´┐¢l/´┐¢qH´┐¢´┐¢~\u0012´┐¢´┐¢´┐¢´┐¢´┐¢F´┐¢´┐¢\"+S\u0018´┐¢´┐¢´┐¢+´┐¢´┐¢´┐¢´┐¢I{IQDh´┐¢´┐¢9´┐¢\u0002u-\u000e\u0010\\¤│x´┐¢9´┐¢´┐¢\u000e\u0007´┐¢´┐¢6´┐¢`´┐¢Ãè\"´┐¢´┐¢H[´┐¢n´┐¢l\u0018´┐¢C´┐¢C)´┐¢´┐¢K´┐¢´┐¢´┐¢´┐¢´┐¢´┐¢~´┐¢4\u0005\u0010\u0015╠╣\u0006k´┐¢,\\´┐¢´┐¢X[\u001a\u001ds]d´┐¢r´┐¢c0´┐¢´┐¢´┐¢´┐¢u╠®´┐¢´┐¢@´┐¢´┐¢´┐¢´┐¢´┐¢´┐¢K´┐¢´┐¢´┐¢´┐¢´┐¢>´┐¢</´┐¢´┐¢´┐¢´┐¢´┐¢\u0003\",´┐¢O´┐¢´┐¢N\\hgiLX´┐¢´┐¢´┐¢\u0006ou\u0018zDo´┐¢´┐¢/¤êa\u0003%|´┐¢´┐¢/1)0´┐¢\u0013´┐¢´┐¢\n´┐¢ZH´┐¢\u0005LG\\´┐¢h´┐¢,´┐¢vM´┐¢´┐¢´┐¢\u000e5´┐¢\u0012V{´┐¢}´┐¢´┐¢$´┐¢0´┐¢8´┐¢´┐¢\u0000@´┐¢8/´┐¢´┐¢,lQ´┐¢´┐¢´┐¢W\u0004}´┐¢´┐¢E'´┐¢g']´┐¢´┐¢\u000bQ´┐¢r|´┐¢´┐¢´┐¢´┐¢´┐¢Ýë▒´┐¢´┐¢\u001b´┐¢´┐¢,╬ƒu´┐¢\u0003´┐¢b´┐¢´┐¢G´┐¢´┐¢l´┐¢HO´┐¢┬Æ´┐¢´┐¢´┐¢[\u001f´┐¢╠½B\u001eCF\fLpa´┐¢\u0018´┐¢´┐¢´┐¢i´┐¢´┐¢(´┐¢´┐¢╦ú´┐¢´┐¢´┐¢6S´┐¢=´┐¢ÌÖ´┐¢*\u001f´┐¢%´┐¢´┐¢´┐¢´┐¢\f","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\otavi\\Desktop\\flashcards_generator\\flashcards_generator\\src-tauri\\target\\release\\build\\flashcards-generator-6260aac3986f9b01\\out\\__global-api-script.js","messages":[{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":1,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":616}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"[\"\\\\\\\\?\\\\C:\\\\Users\\\\otavi\\\\.cargo\\\\registry\\\\src\\\\index.crates.io-1949cf8c6b5b557f\\\\tauri-2.9.5\\\\scripts\\\\bundle.global.js\",\"\\\\\\\\?\\\\C:\\\\Users\\\\otavi\\\\.cargo\\\\registry\\\\src\\\\index.crates.io-1949cf8c6b5b557f\\\\tauri-plugin-http-2.5.6\\\\api-iife.js\",\"\\\\\\\\?\\\\C:\\\\Users\\\\otavi\\\\.cargo\\\\registry\\\\src\\\\index.crates.io-1949cf8c6b5b557f\\\\tauri-plugin-notification-2.3.3\\\\api-iife.js\",\"\\\\\\\\?\\\\C:\\\\Users\\\\otavi\\\\.cargo\\\\registry\\\\src\\\\index.crates.io-1949cf8c6b5b557f\\\\tauri-plugin-os-2.3.2\\\\api-iife.js\",\"\\\\\\\\?\\\\C:\\\\Users\\\\otavi\\\\.cargo\\\\registry\\\\src\\\\index.crates.io-1949cf8c6b5b557f\\\\tauri-plugin-shell-2.3.4\\\\api-iife.js\"]","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\otavi\\Desktop\\flashcards_generator\\flashcards_generator\\src-tauri\\target\\release\\build\\flashcards-generator-d50bf441cf6e814e\\out\\__global-api-script.js","messages":[{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":1,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":740}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"[\"\\\\\\\\?\\\\C:\\\\Users\\\\otavi\\\\.cargo\\\\registry\\\\src\\\\index.crates.io-1949cf8c6b5b557f\\\\tauri-2.9.5\\\\scripts\\\\bundle.global.js\",\"\\\\\\\\?\\\\C:\\\\Users\\\\otavi\\\\.cargo\\\\registry\\\\src\\\\index.crates.io-1949cf8c6b5b557f\\\\tauri-plugin-http-2.5.6\\\\api-iife.js\",\"\\\\\\\\?\\\\C:\\\\Users\\\\otavi\\\\.cargo\\\\registry\\\\src\\\\index.crates.io-1949cf8c6b5b557f\\\\tauri-plugin-notification-2.3.3\\\\api-iife.js\",\"\\\\\\\\?\\\\C:\\\\Users\\\\otavi\\\\.cargo\\\\registry\\\\src\\\\index.crates.io-1949cf8c6b5b557f\\\\tauri-plugin-os-2.3.2\\\\api-iife.js\",\"\\\\\\\\?\\\\C:\\\\Users\\\\otavi\\\\.cargo\\\\registry\\\\src\\\\index.crates.io-1949cf8c6b5b557f\\\\tauri-plugin-shell-2.3.4\\\\api-iife.js\",\"\\\\\\\\?\\\\C:\\\\Users\\\\otavi\\\\.cargo\\\\registry\\\\src\\\\index.crates.io-1949cf8c6b5b557f\\\\tauri-plugin-updater-2.9.0\\\\api-iife.js\"]","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\otavi\\Desktop\\flashcards_generator\\flashcards_generator\\src-tauri\\target\\x86_64-linux-android\\debug\\build\\flashcards-generator-398b8086e9c26264\\out\\__global-api-script.js","messages":[{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":1,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":616}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"[\"\\\\\\\\?\\\\C:\\\\Users\\\\otavi\\\\.cargo\\\\registry\\\\src\\\\index.crates.io-1949cf8c6b5b557f\\\\tauri-2.9.5\\\\scripts\\\\bundle.global.js\",\"\\\\\\\\?\\\\C:\\\\Users\\\\otavi\\\\.cargo\\\\registry\\\\src\\\\index.crates.io-1949cf8c6b5b557f\\\\tauri-plugin-http-2.5.6\\\\api-iife.js\",\"\\\\\\\\?\\\\C:\\\\Users\\\\otavi\\\\.cargo\\\\registry\\\\src\\\\index.crates.io-1949cf8c6b5b557f\\\\tauri-plugin-notification-2.3.3\\\\api-iife.js\",\"\\\\\\\\?\\\\C:\\\\Users\\\\otavi\\\\.cargo\\\\registry\\\\src\\\\index.crates.io-1949cf8c6b5b557f\\\\tauri-plugin-os-2.3.2\\\\api-iife.js\",\"\\\\\\\\?\\\\C:\\\\Users\\\\otavi\\\\.cargo\\\\registry\\\\src\\\\index.crates.io-1949cf8c6b5b557f\\\\tauri-plugin-shell-2.3.4\\\\api-iife.js\"]","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\otavi\\Desktop\\flashcards_generator\\flashcards_generator\\src-tauri\\target\\x86_64-linux-android\\debug\\build\\flashcards-generator-398b8086e9c26264\\out\\tauri-codegen-assets\\a36dd4ea676acf7d7367c76f8a0da73a378d8d1eef7d283f769378bccd6ed395.js","messages":[{"ruleId":null,"nodeType":null,"fatal":true,"severity":2,"message":"Parsing error: Invalid character.","line":1,"column":0}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":1,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\u001b´┐¢\"\u0000´┐¢´┐¢´┐¢´┐¢´┐¢´┐¢´┐¢\u0000~´┐¢s]R´┐¢\u0000,´┐¢\"\n´┐¢\u000b -´┐¢\u000b´┐¢´┐¢´┐¢#╩½´┐¢<\u0002´┐¢=3´┐¢´┐¢´┐¢ @]U´┐¢L´┐¢´┐¢U´┐¢U´┐¢´┐¢´┐¢ ´┐¢.´┐¢´┐¢´┐¢´┐¢\u000f´┐¢kSUUU´┐¢´┐¢=O´┐¢´┐¢´┐¢´┐¢rgQ´┐¢´┐¢´┐¢Z\u001c´┐¢´┐¢´┐¢´┐¢´┐¢=<\u000f´┐¢qp´┐¢´┐¢C$´┐¢´┐¢´┐¢´┐¢/f´┐¢\u0000´┐¢´┐¢q\t´┐¢%,´┐¢´┐¢´┐¢{´┐¢\u001f´┐¢´┐¢´┐¢y´┐¢´┐¢´┐¢´┐¢i9eB´┐¢1\u000fW\u0007´┐¢8%´┐¢! ´┐¢\u000f´┐¢<´┐¢´┐¢´┐¢y´┐¢$´┐¢´┐¢´┐¢{RUUU´┐¢´┐¢yxx\u0004´┐¢E´┐¢+´┐¢´┐¢╩▓´┐¢´┐¢´┐¢¤¿*´┐¢\u0006´┐¢xã×Ê½3´┐¢´┐¢N´┐¢´┐¢─ä;´┐¢´┐¢3:Y´┐¢=\u0005JZb´┐¢¤¬\n´┐¢´┐¢1´┐¢M(X´┐¢t´┐¢´┐¢´┐¢%´┐¢Ê½3´┐¢KL'J´┐¢8´┐¢`\u0006´┐¢xF3\u0004#.\u0006ÝØî´┐¢´┐¢|VU´┐¢\u0006Kod´┐¢_ðæ´┐¢~´┐¢´┐¢4´┐¢\u0005´┐¢ıó´┐¢\u0012´┐¢ni>31´┐¢`´┐¢´┐¢e´┐¢´┐¢s´┐¢\u0005T#´┐¢´┐¢´┐¢zX¦é^´┐¢}´┐¢´┐¢>´┐¢´┐¢´┐¢´┐¢|´┐¢´┐¢´┐¢´┐¢´┐¢´┐¢´┐¢´┐¢\u001e\u000b´┐¢´┐¢g\u0000´┐¢┘¡´┐¢´┐¢´┐¢´┐¢´┐¢´┐¢i´┐¢´┐¢´┐¢z\nÍà´┐¢´┐¢v\u000fU\u0000n´┐¢\u001f´┐¢´┐¢´┐¢´┐¢b\u0019´┐¢´┐¢´┐¢´┐¢´┐¢´┐¢´┐¢´┐¢e´┐¢Y´┐¢´┐¢´┐¢´┐¢´┐¢6\u001d´┐¢+K´┐¢´┐¢j>´┐¢´┐¢\u0018VUx´┐¢)´┐¢´┐¢´┐¢´┐¢\u001a´┐¢<´┐¢´┐¢SX´┐¢r´┐¢>U\"\u0019R@´┐¢\u000b\u001eS<;´┐¢,K´┐¢Ð┐R´┐¢D?´┐¢H´┐¢┼»(\u0005\u0000PsV´┐¢\u000f─é\u0005\u001c´┐¢´┐¢2´┐¢\u00142´┐¢´┐¢\u0017\u0016\ns´┐¢4\n´┐¢=´┐¢´┐¢´┐¢R´┐¢\t\u000bdl´┐¢c´┐¢´┐¢´┐¢vf~´┐¢;´┐¢\u0007c´┐¢´┐¢\u001bB\u0007´┐¢\u0012´┐¢´┐¢´┐¢´┐¢´┐¢=´┐¢mÊû\u0002´┐¢%´┐¢\u00052z´┐¢´┐¢´┐¢´┐¢´┐¢´┐¢=b\u0001´┐¢c´┐¢´┐¢´┐¢\u0012\u000f´┐¢:\u0011\u0000´┐¢\n{´┐¢´┐¢B\f´┐¢\u0002&´┐¢\u0016´┐¢´┐¢t´┐¢S´┐¢\t´┐¢s\\´┐¢´┐¢'{,´┐¢´┐¢\u0007\u0019!r´┐¢N´┐¢´┐¢K\u0013´┐¢h\u00178´┐¢´┐¢´┐¢´┐¢\u0011\u0004R´┐¢<\u0017´┐¢\u001a\u0000´┐¢´┐¢´┐¢´┐¢@´┐¢M´┐¢)´┐¢´┐¢\u0013´┐¢´┐¢Z´┐¢\u001a´┐¢YU@\u000f\u0012´┐¢´┐¢$:S´┐¢\u001a´┐¢\u0006´┐¢´┐¢´┐¢\u0001`´┐¢\u001b´┐¢´┐¢?\u0001L´┐¢.\u0006´┐¢´┐¢´┐¢Ìô´┐¢U\u001e´┐¢´┐¢E\u0007H´┐¢´┐¢A]´┐¢\u0016´┐¢T\u0004´┐¢´┐¢hk´┐¢´┐¢&´┐¢-\n´┐¢¦¡´┐¢F´┐¢´┐¢f´┐¢´┐¢)´┐¢d´┐¢´┐¢´┐¢S´┐¢Dd´┐¢:´┐¢´┐¢4´┐¢´┐¢$´┐¢*hk\u000fQ´┐¢´┐¢U\u000b\u000b´┐¢@\u0003´┐¢#\u001d´┐¢v´┐¢´┐¢\u0014´┐¢´┐¢´┐¢´┐¢´┐¢\u001b\u0016´┐¢´┐¢R´┐¢\u000e´┐¢e´┐¢\u0004´┐¢´┐¢\u0012i{INH´┐¢3´┐¢\u0001´┐¢\f\u0016´┐¢7´┐¢\u0018$\u001cX*´┐¢´┐¢a´┐¢´┐¢qJmm´┐¢´┐¢´┐¢,´┐¢\u0016]@▄ÖX´┐¢´┐¢´┐¢´┐¢´┐¢Be´┐¢´┐¢,´┐¢´┐¢F´┐¢´┐¢4/´┐¢i\\´┐¢´┐¢iy319´┐¢´┐¢\u0004´┐¢{´┐¢\f´┐¢&┼│[´┐¢ÏÆ,´┐¢´┐¢K´┐¢l\u0017v\u0003´┐¢m´┐¢W´┐¢´┐¢\u0018´┐¢x%´┐¢\u0013\u0019´┐¢\u0002´┐¢@´┐¢M[´┐¢'!8´┐¢´┐¢3´┐¢B\u000b´┐¢:´┐¢\u0002\u0005´┐¢u█ÜvD2@_´┐¢,´┐¢\u0002´┐¢´┐¢´┐¢\u0007´┐¢)´┐¢´┐¢\u0006[yÊ®G]h<´┐¢\u001b´┐¢´┐¢´┐¢~/<\u0003´┐¢\u0013\u0019´┐¢´┐¢´┐¢\b´┐¢´┐¢´┐¢~´┐¢´┐¢zB?p´┐¢\u0010´┐¢5´┐¢hq1´┐¢gL´┐¢)´┐¢´┐¢´┐¢W\n´┐¢ı▒P´┐¢´┐¢´┐¢~´┐¢N\u0015´┐¢A´┐¢´┐¢hA´┐¢Î╣[´┐¢´┐¢\u001f\u0019\u0001´┐¢´┐¢´┐¢´┐¢V´┐¢.p\fz\u0011´┐¢´┐¢´┐¢C´┐¢x*p´┐¢v,´┐¢L\f\u0005´┐¢┌Â´┐¢f´┐¢\u0016´┐¢´┐¢Z´┐¢ãäE´┐¢´┐¢2\u0013{´┐¢c\u0005K´┐¢,\u0000´┐¢Fıí31´┐¢´┐¢&´┐¢´┐¢\u0003´┐¢r&\u0006´┐¢X´┐¢´┐¢´┐¢´┐¢´┐¢o7´┐¢.´┐¢´┐¢*,´┐¢\u0013´┐¢Oe´┐¢\u000b?´┐¢´┐¢´┐¢´┐¢´┐¢´┐¢M´┐¢´┐¢c´┐¢B5´┐¢´┐¢´┐¢´┐¢.´┐¢´┐¢\u00027´┐¢´┐¢´┐¢@y´┐¢f´┐¢)>\u001f´┐¢\u001aÎù\u0001´┐¢5SCM,´┐¢Ta´┐¢´┐¢WC´┐¢´┐¢´┐¢´┐¢/6,´┐¢´┐¢\t´┐¢´┐¢I+L\u0005´┐¢´┐¢´┐¢´┐¢´┐¢1´┐¢ZS\u001f\u001d´┐¢9P´┐¢´┐¢╦Ø´┐¢´┐¢´┐¢´┐¢)\u0017´┐¢´┐¢[\u0010þ│û<\u0000DQe´┐¢Í▒$´┐¢´┐¢´┐¢´┐¢´┐¢´┐¢N´┐¢0c\u0016\u0017´┐¢´┐¢r|´┐¢(-K´┐¢´┐¢u´┐¢\u0006´┐¢9´┐¢\u00168´┐¢´┐¢Ee´┐¢´┐¢/´┐¢´┐¢G´┐¢c\u0004FqD6\n\u0002´┐¢´┐¢ýÿÁ\u0003█ª´┐¢´┐¢´┐¢´┐¢\u0007Ìº´┐¢´┐¢´┐¢$\u0018´┐¢´┐¢\u0002´┐¢R´┐¢\n´┐¢AF´┐¢´┐¢´┐¢b´┐¢´┐¢\f>>\u001ew´┐¢!´┐¢d´┐¢\u0003@´┐¢´┐¢)\n1´┐¢ÍèS<\u0011'´┐¢´┐¢\u000e´┐¢B´┐¢;\n´┐¢´┐¢Y´┐¢´┐¢´┐¢g´É▒´┐¢\u001a´┐¢Ôéì\u0017U´┐¢\u0005´┐¢\u0007K▀é´┐¢AR´┐¢´┐¢ý╝┐´┐¢´┐¢´┐¢B´┐¢Q´┐¢´┐¢´┐¢Ï╝\\´┐¢SU´┐¢FHD\u0013´┐¢´┐¢´┐¢\u0001´┐¢´┐¢X\\h´┐¢I´┐¢)51!3+\u0011´┐¢!6´┐¢´┐¢´┐¢´┐¢´┐¢´┐¢#´┐¢r9$_╩¢´┐¢Y|´┐¢´┐¢Þïë1´┐¢Íà\u001c´┐¢>A´┐¢s´┐¢´┐¢\u0002y7i´┐¢L´┐¢╦á_]´┐¢´┐¢´┐¢!´┐¢\\%\u0016´┐¢´┐¢\u0018\u000b\\:f´┐¢)S´┐¢T´┐¢;\u0012´┐¢@\u0017\u001b}\u0005´┐¢\u0006!\u0006B\u0013´┐¢`1\f´┐¢C´┐¢R\b´┐¢´┐¢´┐¢\u001a´┐¢\"Z\u0018N´┐¢L´┐¢:O´┐¢´┐¢´┐¢/┌£´┐¢\u0014´┐¢`´┐¢\u001f´┐¢´┐¢´┐¢S´┐¢\u0011´┐¢´┐¢´┐¢S/\u001d\u0005\u001c´┐¢9!´┐¢Em\u0017´┐¢c´┐¢´┐¢c0´┐¢t´┐¢5\r\u0007´┐¢´┐¢o´┐¢´┐¢`v´┐¢l]\t´┐¢\b´┐¢\u0012´┐¢´┐¢<´┐¢t|´┐¢´┐¢´┐¢,Wtl\u0013´┐¢3Ðº´┐¢Îöc´┐¢^\u0006;\u0006´┐¢´┐¢f7&´┐¢\u0012´┐¢´┐¢▄û4´┐¢´┐¢AJi´┐¢´┐¢´┐¢9O´┐¢´┐¢´┐¢\u001bj1╦½vlW´┐¢\u0000\u001a´┐¢ıúF´┐¢d\u0011\u001bÛë£´┐¢K\u001e.´┐¢J]\"´┐¢c`´┐¢ijCb´┐¢LU´┐¢w´┐¢W´┐¢*@a\u0015\u0000´┐¢´┐¢´┐¢´┐¢´┐¢´┐¢z|´┐¢\u001fT\u0001´┐¢´┐¢\u001diK´┐¢k´┐¢C´┐¢b\u0010\nru\u0018{R5´┐¢´┐¢{´┐¢U´┐¢S´┐¢´┐¢\u0018F2.V´┐¢1┌▒´┐¢´┐¢´┐¢´┐¢]╔Æ\\h]3f´┐¢a´┐¢$szq´┐¢´┐¢´┐¢.k´┐¢,p0´┐¢┬ê\t$´┐¢´┐¢=kt´┐¢\u000b´┐¢\u001bU´┐¢´┐¢r´┐¢´┐¢´┐¢´┐¢╔¡|\u0014]´┐¢´┐¢+OU´┐¢Sn}r\u0017M´┐¢\u001b\b´┐¢´┐¢\u0010RX\"XE´┐¢´┐¢0z´┐¢GHG´┐¢´┐¢\u0003´┐¢´┐¢´┐¢´┐¢´┐¢\u0018F\u0006P\r´┐¢´┐¢´┐¢┼æ´┐¢k´┐¢´┐¢6´┐¢t´┐¢´┐¢L\u0010╬é\u0000´┐¢u´┐¢G´┐¢?´┐¢Y´┐¢´┐¢~´┐¢=´┐¢z´┐¢i´┐¢|Z´┐¢´┐¢´┐¢┌¡6´┐¢\u0010´┐¢´┐¢´┐¢´┐¢nc´┐¢?\\0\u000b´┐¢i<´┐¢´┐¢´┐¢´┐¢]M´┐¢p7´┐¢L´┐¢´┐¢O0ZL´┐¢l´┐¢´┐¢4R´┐¢´┐¢´┐¢´┐¢´┐¢´┐¢´┐¢´┐¢L´┐¢i´┐¢´┐¢Bbr´┐¢:´┐¢Z\u0015´┐¢\u0010´┐¢´┐¢\f´┐¢K▀ç´┐¢+´┐¢,K´┐¢´┐¢\u0018´┐¢\u000bm´┐¢\u0001´┐¢t´┐¢´┐¢Ëºg´┐¢T\t´┐¢?´┐¢´┐¢E´┐¢´┐¢Ìâ\u0007´┐¢´┐¢H´┐¢´┐¢~´┐¢´┐¢´┐¢╠ï┌Ñ5\u001f`´┐¢´┐¢´┐¢´┐¢D´┐¢\bqw\r─▓\u0012(\r;´┐¢´┐¢C\u0019a\u0013´┐¢\u0013\u001c\u0014\u0017´┐¢´┐¢IQ)S´┐¢o´┐¢r!\u0005´┐¢´┐¢)´┐¢\u0015´┐¢+G+\u0017&g´┐¢´┐¢´┐¢!1´┐¢´┐¢\u001d´┐¢-´┐¢´┐¢K´┐¢´┐¢0qB´┐¢F´┐¢$\u0017´┐¢´┐¢7%\u001d´┐¢]´┐¢t´┐¢´┐¢´┐¢¤À\u0014´┐¢´┐¢A´┐¢J+\u0001Zjca\r´┐¢d´┐¢´┐¢´┐¢´┐¢┼®´┐¢\u0018\u0019{´┐¢´┐¢´┐¢LP´┐¢´┐¢´┐¢´┐¢´┐¢´┐¢´┐¢´┐¢´┐¢´┐¢´┐¢´┐¢´┐¢n´┐¢j0x´┐¢´┐¢\r´┐¢\\´┐¢´┐¢#´┐¢!´┐¢U´┐¢%´┐¢U´┐¢l/´┐¢qH´┐¢´┐¢~\u0012´┐¢´┐¢´┐¢´┐¢´┐¢F´┐¢´┐¢\"+S\u0018´┐¢´┐¢´┐¢+´┐¢´┐¢´┐¢´┐¢I{IQDh´┐¢´┐¢9´┐¢\u0002u-\u000e\u0010\\¤│x´┐¢9´┐¢´┐¢\u000e\u0007´┐¢´┐¢6´┐¢`´┐¢Ãè\"´┐¢´┐¢H[´┐¢n´┐¢l\u0018´┐¢C´┐¢C)´┐¢´┐¢K´┐¢´┐¢´┐¢´┐¢´┐¢´┐¢~´┐¢4\u0005\u0010\u0015╠╣\u0006k´┐¢,\\´┐¢´┐¢X[\u001a\u001ds]d´┐¢r´┐¢c0´┐¢´┐¢´┐¢´┐¢u╠®´┐¢´┐¢@´┐¢´┐¢´┐¢´┐¢´┐¢´┐¢K´┐¢´┐¢´┐¢´┐¢´┐¢>´┐¢</´┐¢´┐¢´┐¢´┐¢´┐¢\u0003\",´┐¢O´┐¢´┐¢N\\hgiLX´┐¢´┐¢´┐¢\u0006ou\u0018zDo´┐¢´┐¢/¤êa\u0003%|´┐¢´┐¢/1)0´┐¢\u0013´┐¢´┐¢\n´┐¢ZH´┐¢\u0005LG\\´┐¢h´┐¢,´┐¢vM´┐¢´┐¢´┐¢\u000e5´┐¢\u0012V{´┐¢}´┐¢´┐¢$´┐¢0´┐¢8´┐¢´┐¢\u0000@´┐¢8/´┐¢´┐¢,lQ´┐¢´┐¢´┐¢W\u0004}´┐¢´┐¢E'´┐¢g']´┐¢´┐¢\u000bQ´┐¢r|´┐¢´┐¢´┐¢´┐¢´┐¢Ýë▒´┐¢´┐¢\u001b´┐¢´┐¢,╬ƒu´┐¢\u0003´┐¢b´┐¢´┐¢G´┐¢´┐¢l´┐¢HO´┐¢┬Æ´┐¢´┐¢´┐¢[\u001f´┐¢╠½B\u001eCF\fLpa´┐¢\u0018´┐¢´┐¢´┐¢i´┐¢´┐¢(´┐¢´┐¢╦ú´┐¢´┐¢´┐¢6S´┐¢=´┐¢ÌÖ´┐¢*\u001f´┐¢%´┐¢´┐¢´┐¢´┐¢\f","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\otavi\\Desktop\\flashcards_generator\\flashcards_generator\\src-tauri\\target\\x86_64-linux-android\\debug\\build\\flashcards-generator-416a1eb189684211\\out\\__global-api-script.js","messages":[{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":1,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":616}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"[\"\\\\\\\\?\\\\C:\\\\Users\\\\otavi\\\\.cargo\\\\registry\\\\src\\\\index.crates.io-1949cf8c6b5b557f\\\\tauri-2.9.5\\\\scripts\\\\bundle.global.js\",\"\\\\\\\\?\\\\C:\\\\Users\\\\otavi\\\\.cargo\\\\registry\\\\src\\\\index.crates.io-1949cf8c6b5b557f\\\\tauri-plugin-http-2.5.6\\\\api-iife.js\",\"\\\\\\\\?\\\\C:\\\\Users\\\\otavi\\\\.cargo\\\\registry\\\\src\\\\index.crates.io-1949cf8c6b5b557f\\\\tauri-plugin-notification-2.3.3\\\\api-iife.js\",\"\\\\\\\\?\\\\C:\\\\Users\\\\otavi\\\\.cargo\\\\registry\\\\src\\\\index.crates.io-1949cf8c6b5b557f\\\\tauri-plugin-os-2.3.2\\\\api-iife.js\",\"\\\\\\\\?\\\\C:\\\\Users\\\\otavi\\\\.cargo\\\\registry\\\\src\\\\index.crates.io-1949cf8c6b5b557f\\\\tauri-plugin-shell-2.3.4\\\\api-iife.js\"]","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\otavi\\Desktop\\flashcards_generator\\flashcards_generator\\test_demo_api.mjs","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\otavi\\Desktop\\flashcards_generator\\flashcards_generator\\tests\\e2e\\demo.spec.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\otavi\\Desktop\\flashcards_generator\\flashcards_generator\\tests\\e2e\\generator.spec.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\otavi\\Desktop\\flashcards_generator\\flashcards_generator\\tests\\e2e\\mobile-flows.spec.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\otavi\\Desktop\\flashcards_generator\\flashcards_generator\\tests\\security_injection_test.mjs","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\otavi\\Desktop\\flashcards_generator\\flashcards_generator\\tests\\unit\\sanitization.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\otavi\\Desktop\\flashcards_generator\\flashcards_generator\\types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\otavi\\Desktop\\flashcards_generator\\flashcards_generator\\types\\anki-apkg-export.d.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\otavi\\Desktop\\flashcards_generator\\flashcards_generator\\types\\api.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\otavi\\Desktop\\flashcards_generator\\flashcards_generator\\types\\card.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\otavi\\Desktop\\flashcards_generator\\flashcards_generator\\types\\index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\otavi\\Desktop\\flashcards_generator\\flashcards_generator\\vitest.config.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]}]
